{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/types/index.ts"],"sourcesContent":["/**\n * Shared TypeScript types for HockeyPilot\n */\n\n// Re-export common types\nexport type Platform = 'web' | 'ios' | 'android'\n\nexport type SubscriptionTier = 'free' | 'premium' | 'pro'\n\nexport type SubscriptionStatus = 'active' | 'canceled' | 'past_due' | 'incomplete'\n\n// Team-related types (will move from web app later)\nexport interface Team {\n  id: string\n  organization_id: string\n  name: string\n  age_years: number\n  level: 'house' | 'travel' | 'a' | 'aa' | 'aaa'\n  season: string\n  region: 'usa' | 'canada'\n  created_at: string\n  updated_at: string\n}\n\n// Player-related types\nexport interface Player {\n  id: string\n  team_id: string\n  jersey_number: number\n  first_name: string\n  last_name: string\n  position: 'forward' | 'defense' | 'goalie'\n  birthdate?: string\n  created_at: string\n}\n\n// Game-related types\nexport interface Game {\n  id: string\n  team_id: string\n  opponent_name: string\n  game_date: string\n  status: 'scheduled' | 'in_progress' | 'completed'\n  created_at: string\n}\n\n// Event types\nexport type EventType = 'shot' | 'turnover' | 'breakout' | 'zone_entry' | 'faceoff' | 'blocked_shot' | 'penalty'\n\nexport type ShotResult = 'goal' | 'save' | 'miss_high' | 'miss_wide' | 'blocked' | 'post'\n\nexport type ShotType = 'wrist' | 'slap' | 'snap' | 'backhand' | 'deflection' | 'one_timer'\n\nexport type GameSituation = 'even_strength' | 'power_play' | 'penalty_kill' | 'empty_net'\n\n// Database schema (snake_case) - matches actual Supabase schema\nexport interface GameEventRow {\n  id: string\n  game_id: string\n  event_type: EventType\n  x_coord: number | null\n  y_coord: number | null\n  period: number\n  game_time_seconds: number | null\n  player_id: string | null\n  situation: GameSituation | null\n  details: Record<string, any>\n  event_timestamp: string | null\n  tracked_by: string | null\n  created_at: string | null\n  updated_at: string | null\n  notes: string | null\n  zone: string | null\n}\n\n// Client-side format (camelCase)\nexport interface GameEvent {\n  id: string\n  gameId: string\n  eventType: EventType\n  coordinates?: { x: number; y: number }\n  playerId?: string\n  period: number\n  gameTimeSeconds: number\n  situation: GameSituation\n  details: Record<string, unknown>\n  timestamp: string\n  trackedBy?: string\n}\n\n// Subscription types\nexport interface Subscription {\n  id: string\n  user_id: string\n  tier: SubscriptionTier\n  status: SubscriptionStatus\n  revenuecat_customer_id?: string\n  current_period_end?: string\n  games_tracked_lifetime: number\n  created_at: string\n  updated_at: string\n}\n"],"names":[],"mappings":"AAAA;;CAEC,GAED,yBAAyB","debugId":null}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/api/game-events.interface.ts"],"sourcesContent":["/**\n * Game Events API Interface\n *\n * Platform-agnostic interface for game event CRUD operations.\n * - Web: Implements with direct Supabase calls\n * - Mobile: Implements with REST API calls to backend\n */\n\nimport type { GameEvent, GameEventRow } from '../types'\n\nexport interface IGameEventsAPI {\n  /**\n   * Save a new game event\n   * @param event - Game event to save\n   * @returns The saved event row from database\n   */\n  saveGameEvent(event: GameEvent): Promise<GameEventRow>\n\n  /**\n   * Update an existing game event\n   * @param eventId - ID of event to update\n   * @param updates - Partial event data to update\n   * @returns The updated event row from database\n   */\n  updateGameEvent(eventId: string, updates: Partial<GameEvent>): Promise<GameEventRow>\n\n  /**\n   * Delete a game event\n   * @param eventId - ID of event to delete\n   */\n  deleteGameEvent(eventId: string): Promise<void>\n\n  /**\n   * Get all events for a game\n   * @param gameId - ID of game to fetch events for\n   * @returns Array of event rows from database\n   */\n  getGameEvents(gameId: string): Promise<GameEventRow[]>\n}\n"],"names":[],"mappings":"AAAA;;;;;;CAMC","debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/validation/event-schemas.ts"],"sourcesContent":["/**\n * Event Validation Schemas using Zod\n *\n * These schemas validate game event data before database insertion.\n * Ensures type safety and data integrity for all tracked events.\n */\n\nimport { z } from 'zod'\n\n// ===========================================\n// SHOT EVENT DETAILS\n// ===========================================\n\nexport const shotEventDetailsSchema = z.object({\n  shot_type: z.enum(['wrist', 'slap', 'snap', 'backhand', 'deflection', 'one_timer']),\n  result: z.enum(['goal', 'save', 'miss_high', 'miss_wide', 'blocked', 'post']),\n  shot_quality: z.enum(['high', 'medium', 'low']),\n  rebound: z.boolean().optional(),\n})\n\nexport type ShotEventDetails = z.infer<typeof shotEventDetailsSchema>\n\n// ===========================================\n// BREAKOUT EVENT DETAILS\n// ===========================================\n\nexport const breakoutEventDetailsSchema = z.object({\n  success: z.boolean(),\n  type: z.enum(['up_boards', 'center_ice', 'cross_ice', 'carry']),\n  exit_zone: z.enum(['left', 'center', 'right']).optional(),\n})\n\nexport type BreakoutEventDetails = z.infer<typeof breakoutEventDetailsSchema>\n\n// ===========================================\n// TURNOVER EVENT DETAILS\n// ===========================================\n\nexport const turnoverEventDetailsSchema = z.object({\n  type: z.enum(['bad_pass', 'lost_puck', 'forced']),\n  recovery: z.boolean().optional(),\n})\n\nexport type TurnoverEventDetails = z.infer<typeof turnoverEventDetailsSchema>\n\n// ===========================================\n// ZONE ENTRY EVENT DETAILS\n// ===========================================\n\nexport const zoneEntryEventDetailsSchema = z.object({\n  entry_type: z.enum(['dump', 'carry', 'pass']),\n  controlled: z.boolean(),\n})\n\nexport type ZoneEntryEventDetails = z.infer<typeof zoneEntryEventDetailsSchema>\n\n// ===========================================\n// FACEOFF EVENT DETAILS\n// ===========================================\n\nexport const faceoffEventDetailsSchema = z.object({\n  won: z.boolean(),\n  location: z.string(),\n})\n\nexport type FaceoffEventDetails = z.infer<typeof faceoffEventDetailsSchema>\n\n// ===========================================\n// GAME EVENT CREATION SCHEMA\n// ===========================================\n\nexport const gameEventCreateSchema = z.object({\n  // Required fields\n  game_id: z.string().uuid(),\n  event_type: z.enum([\n    'shot',\n    'goal',\n    'breakout',\n    'turnover',\n    'zone_entry',\n    'faceoff',\n    'penalty',\n    'defensive_breakdown',\n  ]),\n  period: z.number().int().min(1).max(5),\n  situation: z.enum(['even_strength', 'power_play', 'penalty_kill', 'empty_net']).default('even_strength'),\n  details: z.any(), // JSONB field, validated separately by event type\n\n  // Optional spatial data\n  x_coord: z.number().int().min(0).max(200).optional(),\n  y_coord: z.number().int().min(0).max(100).optional(),\n\n  // Optional temporal data\n  game_time_seconds: z.number().int().min(0).max(1200).optional(),\n\n  // Optional player/situation context\n  player_id: z.string().uuid().optional(),\n  zone: z.enum(['defensive', 'neutral', 'offensive']).optional(),\n\n  // Optional metadata\n  notes: z.string().optional(),\n})\n\nexport type GameEventCreate = z.infer<typeof gameEventCreateSchema>\n\n// ===========================================\n// EVENT TYPE DISCRIMINATED UNIONS\n// ===========================================\n\n/**\n * Validate event details based on event type\n * @param eventType - The type of event\n * @param details - The event details to validate\n * @returns Validated details or throws ZodError\n */\nexport function validateEventDetails(eventType: string, details: unknown): unknown {\n  switch (eventType) {\n    case 'shot':\n    case 'goal':\n      return shotEventDetailsSchema.parse(details)\n    case 'breakout':\n      return breakoutEventDetailsSchema.parse(details)\n    case 'turnover':\n      return turnoverEventDetailsSchema.parse(details)\n    case 'zone_entry':\n      return zoneEntryEventDetailsSchema.parse(details)\n    case 'faceoff':\n      return faceoffEventDetailsSchema.parse(details)\n    default:\n      // For other event types, allow any details (validated later)\n      return details\n  }\n}\n\n// ===========================================\n// HELPER FUNCTIONS\n// ===========================================\n\n/**\n * Safe parse that returns success/error objects\n */\nexport function safeParseGameEvent(data: unknown) {\n  return gameEventCreateSchema.safeParse(data)\n}\n\n/**\n * Validate and parse a complete game event with type-specific details\n */\nexport function validateGameEvent(data: unknown): GameEventCreate {\n  const event = gameEventCreateSchema.parse(data)\n\n  // Validate event-specific details\n  validateEventDetails(event.event_type, event.details)\n\n  return event\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/validation/player-schemas.ts"],"sourcesContent":["import { z } from 'zod'\n\n/**\n * Player Position Enum\n * Matches database enum: player_position\n */\nexport const playerPositionEnum = z.enum(['forward', 'defense', 'goalie'])\nexport type PlayerPosition = z.infer<typeof playerPositionEnum>\n\n/**\n * Player Creation Schema\n *\n * Validation rules:\n * - team_id: Required UUID\n * - jersey_number: Required, 1-99 (standard hockey range)\n * - first_name: Required, 1-50 chars\n * - last_name: Required, 1-50 chars\n * - position: Required, one of: forward, defense, goalie\n * - birthdate: Optional, valid date string\n */\nexport const playerCreateSchema = z.object({\n  team_id: z.string().uuid('Invalid team ID'),\n  jersey_number: z\n    .number({ required_error: 'Jersey number is required', invalid_type_error: 'Jersey number is required' })\n    .int('Jersey number must be an integer')\n    .min(1, 'Jersey number must be at least 1')\n    .max(99, 'Jersey number must be at most 99'),\n  first_name: z\n    .string({ required_error: 'First name is required' })\n    .min(1, 'First name is required')\n    .max(50, 'First name must be at most 50 characters')\n    .trim(),\n  last_name: z\n    .string({ required_error: 'Last name is required' })\n    .min(1, 'Last name is required')\n    .max(50, 'Last name must be at most 50 characters')\n    .trim(),\n  position: playerPositionEnum,\n  birthdate: z\n    .union([z.string(), z.null()])\n    .optional()\n    .transform((val) => (val === '' || val === null ? undefined : val))\n    .pipe(z.string().date().optional()),\n})\n\nexport type PlayerCreateInput = z.infer<typeof playerCreateSchema>\n\n/**\n * Player Update Schema\n * Same as create but all fields optional except ID\n */\nexport const playerUpdateSchema = z.object({\n  jersey_number: z\n    .number()\n    .int('Jersey number must be an integer')\n    .min(1, 'Jersey number must be at least 1')\n    .max(99, 'Jersey number must be at most 99')\n    .optional(),\n  first_name: z\n    .string()\n    .min(1, 'First name is required')\n    .max(50, 'First name must be at most 50 characters')\n    .trim()\n    .optional(),\n  last_name: z\n    .string()\n    .min(1, 'Last name is required')\n    .max(50, 'Last name must be at most 50 characters')\n    .trim()\n    .optional(),\n  position: playerPositionEnum.optional(),\n  birthdate: z\n    .union([z.string(), z.null()])\n    .optional()\n    .transform((val) => (val === '' || val === null ? undefined : val))\n    .pipe(z.string().date().optional()),\n})\n\nexport type PlayerUpdateInput = z.infer<typeof playerUpdateSchema>\n\n/**\n * Helper: Format player position for display\n */\nexport function formatPosition(position: PlayerPosition): string {\n  const map: Record<PlayerPosition, string> = {\n    forward: 'Forward',\n    defense: 'Defense',\n    goalie: 'Goalie',\n  }\n  return map[position]\n}\n\n/**\n * Helper: Get position abbreviation\n */\nexport function getPositionAbbreviation(position: PlayerPosition): string {\n  const map: Record<PlayerPosition, string> = {\n    forward: 'F',\n    defense: 'D',\n    goalie: 'G',\n  }\n  return map[position]\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAMO,MAAM,qBAAqB,+MAAC,CAAC,IAAI,CAAC;IAAC;IAAW;IAAW;CAAS;AAclE,MAAM,qBAAqB,+MAAC,CAAC,MAAM,CAAC;IACzC,SAAS,+MAAC,CAAC,MAAM,GAAG,IAAI,CAAC;IACzB,eAAe,+MAAC,CACb,MAAM,CAAC;QAAE,gBAAgB;QAA6B,oBAAoB;IAA4B,GACtG,GAAG,CAAC,oCACJ,GAAG,CAAC,GAAG,oCACP,GAAG,CAAC,IAAI;IACX,YAAY,+MAAC,CACV,MAAM,CAAC;QAAE,gBAAgB;IAAyB,GAClD,GAAG,CAAC,GAAG,0BACP,GAAG,CAAC,IAAI,4CACR,IAAI;IACP,WAAW,+MAAC,CACT,MAAM,CAAC;QAAE,gBAAgB;IAAwB,GACjD,GAAG,CAAC,GAAG,yBACP,GAAG,CAAC,IAAI,2CACR,IAAI;IACP,UAAU;IACV,WAAW,+MAAC,CACT,KAAK,CAAC;QAAC,+MAAC,CAAC,MAAM;QAAI,+MAAC,CAAC,IAAI;KAAG,EAC5B,QAAQ,GACR,SAAS,CAAC,CAAC,MAAS,QAAQ,MAAM,QAAQ,OAAO,YAAY,KAC7D,IAAI,CAAC,+MAAC,CAAC,MAAM,GAAG,IAAI,GAAG,QAAQ;AACpC;AAQO,MAAM,qBAAqB,+MAAC,CAAC,MAAM,CAAC;IACzC,eAAe,+MAAC,CACb,MAAM,GACN,GAAG,CAAC,oCACJ,GAAG,CAAC,GAAG,oCACP,GAAG,CAAC,IAAI,oCACR,QAAQ;IACX,YAAY,+MAAC,CACV,MAAM,GACN,GAAG,CAAC,GAAG,0BACP,GAAG,CAAC,IAAI,4CACR,IAAI,GACJ,QAAQ;IACX,WAAW,+MAAC,CACT,MAAM,GACN,GAAG,CAAC,GAAG,yBACP,GAAG,CAAC,IAAI,2CACR,IAAI,GACJ,QAAQ;IACX,UAAU,mBAAmB,QAAQ;IACrC,WAAW,+MAAC,CACT,KAAK,CAAC;QAAC,+MAAC,CAAC,MAAM;QAAI,+MAAC,CAAC,IAAI;KAAG,EAC5B,QAAQ,GACR,SAAS,CAAC,CAAC,MAAS,QAAQ,MAAM,QAAQ,OAAO,YAAY,KAC7D,IAAI,CAAC,+MAAC,CAAC,MAAM,GAAG,IAAI,GAAG,QAAQ;AACpC;AAOO,SAAS,eAAe,QAAwB;IACrD,MAAM,MAAsC;QAC1C,SAAS;QACT,SAAS;QACT,QAAQ;IACV;IACA,OAAO,GAAG,CAAC,SAAS;AACtB;AAKO,SAAS,wBAAwB,QAAwB;IAC9D,MAAM,MAAsC;QAC1C,SAAS;QACT,SAAS;QACT,QAAQ;IACV;IACA,OAAO,GAAG,CAAC,SAAS;AACtB","debugId":null}},
    {"offset": {"line": 256, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/validation/team-schemas.ts"],"sourcesContent":["import { z } from 'zod'\n\n/**\n * Team Validation Schemas\n *\n * Zod schemas for creating and updating teams.\n * Used with React Hook Form for client-side validation\n * and server actions for server-side validation.\n */\n\n/**\n * Team Create Schema\n *\n * Validates all required fields for creating a new team\n */\nexport const teamCreateSchema = z.object({\n  organization_id: z.string().uuid('Invalid organization ID'),\n  name: z\n    .string()\n    .min(1, 'Team name is required')\n    .max(100, 'Team name must be less than 100 characters'),\n  age_years: z\n    .number()\n    .int('Age must be a whole number')\n    .min(6, 'Age must be at least 6')\n    .max(21, 'Age must be 21 or less'),\n  level: z.enum(['house', 'travel', 'aaa', 'aa', 'a'], {\n    errorMap: () => ({ message: 'Please select a skill level' }),\n  }),\n  season: z\n    .string()\n    .regex(/^\\d{4}-\\d{2}$/, 'Season must be in format YYYY-YY (e.g., 2024-25)')\n    .refine(\n      (season) => {\n        const [startYear, endYear] = season.split('-').map(Number)\n        return endYear === (startYear + 1) % 100\n      },\n      { message: 'Invalid season format (e.g., 2024-25)' }\n    ),\n  region: z.enum(['usa', 'canada'], {\n    errorMap: () => ({ message: 'Please select a region' }),\n  }).default('usa'),\n})\n\nexport type TeamCreateInput = z.infer<typeof teamCreateSchema>\n\n/**\n * Team Update Schema\n *\n * Similar to create, but all fields optional (for partial updates)\n * Note: age_years cannot be changed once set (business rule)\n */\nexport const teamUpdateSchema = z.object({\n  name: z\n    .string()\n    .min(1, 'Team name is required')\n    .max(100, 'Team name must be less than 100 characters')\n    .optional(),\n  level: z.enum(['house', 'travel', 'aaa', 'aa', 'a']).optional(),\n  season: z\n    .string()\n    .regex(/^\\d{4}-\\d{2}$/, 'Season must be in format YYYY-YY')\n    .optional(),\n  // Note: age_years and region are intentionally excluded (cannot be changed)\n})\n\nexport type TeamUpdateInput = z.infer<typeof teamUpdateSchema>\n\n/**\n * Helper: Get current season string\n *\n * @returns Current season in YYYY-YY format (e.g., \"2024-25\")\n */\nexport function getCurrentSeason(): string {\n  const now = new Date()\n  const month = now.getMonth() + 1 // 0-indexed\n\n  // Hockey season starts in September (month 9)\n  // If before September, we're in the season that started last year\n  // If September or after, we're in the season starting this year\n  const startYear = month < 9 ? now.getFullYear() - 1 : now.getFullYear()\n  const endYear = startYear + 1\n\n  return `${startYear}-${String(endYear).slice(2)}` // \"2024-25\"\n}\n\n/**\n * Helper: Parse season string to years\n *\n * @param season - Season string like \"2024-25\"\n * @returns { startYear: 2024, endYear: 2025 }\n */\nexport function parseSeason(season: string): { startYear: number; endYear: number } | null {\n  const match = season.match(/^(\\d{4})-(\\d{2})$/)\n  if (!match) return null\n\n  const startYear = parseInt(match[1])\n  const endYear = 2000 + parseInt(match[2])\n\n  return { startYear, endYear }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAA;;AAeO,MAAM,mBAAmB,+MAAC,CAAC,MAAM,CAAC;IACvC,iBAAiB,+MAAC,CAAC,MAAM,GAAG,IAAI,CAAC;IACjC,MAAM,+MAAC,CACJ,MAAM,GACN,GAAG,CAAC,GAAG,yBACP,GAAG,CAAC,KAAK;IACZ,WAAW,+MAAC,CACT,MAAM,GACN,GAAG,CAAC,8BACJ,GAAG,CAAC,GAAG,0BACP,GAAG,CAAC,IAAI;IACX,OAAO,+MAAC,CAAC,IAAI,CAAC;QAAC;QAAS;QAAU;QAAO;QAAM;KAAI,EAAE;QACnD,UAAU,IAAM,CAAC;gBAAE,SAAS;YAA8B,CAAC;IAC7D;IACA,QAAQ,+MAAC,CACN,MAAM,GACN,KAAK,CAAC,iBAAiB,oDACvB,MAAM,CACL,CAAC;QACC,MAAM,CAAC,WAAW,QAAQ,GAAG,OAAO,KAAK,CAAC,KAAK,GAAG,CAAC;QACnD,OAAO,YAAY,CAAC,YAAY,CAAC,IAAI;IACvC,GACA;QAAE,SAAS;IAAwC;IAEvD,QAAQ,+MAAC,CAAC,IAAI,CAAC;QAAC;QAAO;KAAS,EAAE;QAChC,UAAU,IAAM,CAAC;gBAAE,SAAS;YAAyB,CAAC;IACxD,GAAG,OAAO,CAAC;AACb;AAUO,MAAM,mBAAmB,+MAAC,CAAC,MAAM,CAAC;IACvC,MAAM,+MAAC,CACJ,MAAM,GACN,GAAG,CAAC,GAAG,yBACP,GAAG,CAAC,KAAK,8CACT,QAAQ;IACX,OAAO,+MAAC,CAAC,IAAI,CAAC;QAAC;QAAS;QAAU;QAAO;QAAM;KAAI,EAAE,QAAQ;IAC7D,QAAQ,+MAAC,CACN,MAAM,GACN,KAAK,CAAC,iBAAiB,oCACvB,QAAQ;AAEb;AASO,SAAS;IACd,MAAM,MAAM,IAAI;IAChB,MAAM,QAAQ,IAAI,QAAQ,KAAK,EAAE,YAAY;;IAE7C,8CAA8C;IAC9C,kEAAkE;IAClE,gEAAgE;IAChE,MAAM,YAAY,QAAQ,IAAI,IAAI,WAAW,KAAK,IAAI,IAAI,WAAW;IACrE,MAAM,UAAU,YAAY;IAE5B,OAAO,AAAC,GAAe,OAAb,WAAU,KAA4B,OAAzB,OAAO,SAAS,KAAK,CAAC,IAAK,YAAY;;AAChE;AAQO,SAAS,YAAY,MAAc;IACxC,MAAM,QAAQ,OAAO,KAAK,CAAC;IAC3B,IAAI,CAAC,OAAO,OAAO;IAEnB,MAAM,YAAY,SAAS,KAAK,CAAC,EAAE;IACnC,MAAM,UAAU,OAAO,SAAS,KAAK,CAAC,EAAE;IAExC,OAAO;QAAE;QAAW;IAAQ;AAC9B","debugId":null}},
    {"offset": {"line": 338, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/validation/user-schemas.ts"],"sourcesContent":["import { z } from 'zod'\n\n/**\n * Zod schema for updating user profile\n * Fields: full_name (optional), avatar_url (optional)\n */\nexport const updateUserProfileSchema = z.object({\n  full_name: z.string().min(1, 'Name must be at least 1 character').max(100, 'Name must be less than 100 characters').optional().or(z.literal('')),\n  avatar_url: z.string().url('Must be a valid URL').optional().or(z.literal('')),\n})\n\nexport type UpdateUserProfileInput = z.infer<typeof updateUserProfileSchema>\n\n/**\n * User profile data returned from database\n */\nexport interface UserProfile {\n  id: string\n  email: string\n  full_name: string | null\n  avatar_url: string | null\n  created_at: string\n  updated_at: string\n}\n"],"names":[],"mappings":";;;;AAAA;;AAMO,MAAM,0BAA0B,+MAAC,CAAC,MAAM,CAAC;IAC9C,WAAW,+MAAC,CAAC,MAAM,GAAG,GAAG,CAAC,GAAG,qCAAqC,GAAG,CAAC,KAAK,yCAAyC,QAAQ,GAAG,EAAE,CAAC,+MAAC,CAAC,OAAO,CAAC;IAC5I,YAAY,+MAAC,CAAC,MAAM,GAAG,GAAG,CAAC,uBAAuB,QAAQ,GAAG,EAAE,CAAC,+MAAC,CAAC,OAAO,CAAC;AAC5E","debugId":null}},
    {"offset": {"line": 355, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/utils/age-groups.ts"],"sourcesContent":["/**\n * Age group utilities to handle USA and Canada conventions\n *\n * USA: 8U, 10U, 12U, 14U, 16U, 18U (2-year bands, even numbers)\n * Canada: U9, U10, U11, U12, U13, U14, U15, U16, U17, U18 (single-year)\n *\n * Mapping:\n * - U9 (Canada) = 8U (USA) - both are age 8 and under\n * - U11 (Canada) = 10U (USA) - both are age 10 and under\n * - U13 (Canada) = 12U (USA) - both are age 12 and under\n */\n\nexport type Region = 'usa' | 'canada'\n\n/**\n * Format age for display based on region\n * @param ageYears - Age stored in database (e.g., 9, 11, 13)\n * @param region - 'usa' or 'canada'\n * @returns Formatted string (e.g., \"8U\" or \"U9\")\n */\nexport function formatAgeGroup(ageYears: number, region: Region = 'usa'): string {\n  if (region === 'usa') {\n    // USA format: 8U (even numbers)\n    // age_years=9 -> 8U, age_years=11 -> 10U\n    return `${ageYears - 1}U`\n  } else {\n    // Canada format: U9, U10, U11, etc.\n    return `U${ageYears}`\n  }\n}\n\n/**\n * Parse age group string back to integer\n * @param ageGroup - Formatted string (e.g., \"8U\" or \"U9\")\n * @returns Age in years (e.g., 9)\n */\nexport function parseAgeGroup(ageGroup: string): number {\n  // Handle both formats: \"8U\" and \"U9\"\n  const match = ageGroup.match(/(\\d+)U|U(\\d+)/)\n  if (!match) throw new Error(`Invalid age group format: ${ageGroup}`)\n\n  const usaFormat = match[1] // \"8U\" -> \"8\"\n  const canadaFormat = match[2] // \"U9\" -> \"9\"\n\n  if (usaFormat) {\n    // USA format: 8U means 9 years (8 and under)\n    return parseInt(usaFormat) + 1\n  } else {\n    // Canada format: U9 means 9 years\n    return parseInt(canadaFormat)\n  }\n}\n\n/**\n * Get all available age groups for a region\n */\nexport function getAgeGroupOptions(region: Region = 'usa'): Array<{ value: number; label: string }> {\n  const ages = region === 'usa'\n    ? [8, 10, 12, 14, 16, 18] // USA: even numbers only\n    : [6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18] // Canada: every year\n\n  return ages.map(age => {\n    const ageYears = region === 'usa' ? age + 1 : age\n    return {\n      value: ageYears,\n      label: formatAgeGroup(ageYears, region)\n    }\n  })\n}\n\n// Examples:\n// formatAgeGroup(9, 'usa') => \"8U\"\n// formatAgeGroup(9, 'canada') => \"U9\"\n// parseAgeGroup(\"8U\") => 9\n// parseAgeGroup(\"U9\") => 9\n// getAgeGroupOptions('usa') => [{value: 9, label: \"8U\"}, {value: 11, label: \"10U\"}, ...]\n// getAgeGroupOptions('canada') => [{value: 9, label: \"U9\"}, {value: 10, label: \"U10\"}, ...]\n"],"names":[],"mappings":"AAAA;;;;;;;;;;CAUC;;;;;;;;AAUM,SAAS,eAAe,QAAgB;QAAE,SAAA,iEAAiB;IAChE,IAAI,WAAW,OAAO;QACpB,gCAAgC;QAChC,yCAAyC;QACzC,OAAO,AAAC,GAAe,OAAb,WAAW,GAAE;IACzB,OAAO;QACL,oCAAoC;QACpC,OAAO,AAAC,IAAY,OAAT;IACb;AACF;AAOO,SAAS,cAAc,QAAgB;IAC5C,qCAAqC;IACrC,MAAM,QAAQ,SAAS,KAAK,CAAC;IAC7B,IAAI,CAAC,OAAO,MAAM,IAAI,MAAM,AAAC,6BAAqC,OAAT;IAEzD,MAAM,YAAY,KAAK,CAAC,EAAE,CAAC,cAAc;;IACzC,MAAM,eAAe,KAAK,CAAC,EAAE,CAAC,cAAc;;IAE5C,IAAI,WAAW;QACb,6CAA6C;QAC7C,OAAO,SAAS,aAAa;IAC/B,OAAO;QACL,kCAAkC;QAClC,OAAO,SAAS;IAClB;AACF;AAKO,SAAS;QAAmB,SAAA,iEAAiB;IAClD,MAAM,OAAO,WAAW,QACpB;QAAC;QAAG;QAAI;QAAI;QAAI;QAAI;KAAG,CAAC,yBAAyB;OACjD;QAAC;QAAG;QAAG;QAAG;QAAG;QAAI;QAAI;QAAI;QAAI;QAAI;QAAI;QAAI;QAAI;KAAG,CAAC,qBAAqB;;IAE1E,OAAO,KAAK,GAAG,CAAC,CAAA;QACd,MAAM,WAAW,WAAW,QAAQ,MAAM,IAAI;QAC9C,OAAO;YACL,OAAO;YACP,OAAO,eAAe,UAAU;QAClC;IACF;AACF,EAEA,YAAY;CACZ,mCAAmC;CACnC,sCAAsC;CACtC,2BAA2B;CAC3B,2BAA2B;CAC3B,yFAAyF;CACzF,4FAA4F","debugId":null}},
    {"offset": {"line": 447, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/utils/ice-surface-coordinates.ts"],"sourcesContent":["/**\n * Ice Surface Coordinate Helpers\n *\n * Utilities for working with ice surface coordinates in the game tracking system.\n *\n * Coordinate System:\n * - x: 0-200 (left to right, defensive zone â†’ offensive zone)\n * - y: 0-100 (bottom to top)\n * - Based on NHL standard rink dimensions (200 feet x 85 feet)\n *\n * Key Locations:\n * - (0, 0) = Defensive zone, bottom-left corner\n * - (100, 50) = Center ice\n * - (200, 100) = Offensive zone, top-right corner\n *\n * Standard Rink Markings:\n * - Goal lines: x = 11, x = 189 (11 feet from boards)\n * - Blue lines: x = 64, x = 136 (64 and 136 feet from end boards)\n * - Center red line: x = 100\n *\n * Zones:\n * - Defensive: x < 64 (0-63)\n * - Neutral: x 64-136\n * - Offensive: x > 136 (137-200)\n *\n * High Danger Area (Slot):\n * - x: 145-175, y: 35-65\n * - Very close to net: x: 175-189, y: 40-60\n */\n\nexport interface Coordinates {\n  x: number\n  y: number\n}\n\nexport interface ScreenCoordinates {\n  x: number\n  y: number\n}\n\nexport type Zone = 'defensive' | 'neutral' | 'offensive'\nexport type Quadrant = 'defensive_left' | 'defensive_right' | 'neutral_left' | 'neutral_right' | 'offensive_left' | 'offensive_right'\n\n// ===========================================\n// VALIDATION\n// ===========================================\n\n/**\n * Check if coordinates are within valid ice surface bounds\n * @param coords - Coordinates to validate\n * @returns True if coordinates are valid\n */\nexport function isValidCoordinate(coords: Coordinates): boolean {\n  return (\n    coords.x >= 0 &&\n    coords.x <= 200 &&\n    coords.y >= 0 &&\n    coords.y <= 100\n  )\n}\n\n/**\n * Normalize coordinates to ensure they're within bounds (clamp)\n * @param coords - Coordinates to normalize\n * @returns Normalized coordinates within valid bounds\n */\nexport function normalizeCoordinates(coords: Coordinates): Coordinates {\n  return {\n    x: Math.max(0, Math.min(200, coords.x)),\n    y: Math.max(0, Math.min(100, coords.y)),\n  }\n}\n\n// ===========================================\n// ZONE DETECTION\n// ===========================================\n\n/**\n * Determine which zone the coordinates are in\n * @param coords - Ice surface coordinates\n * @returns Zone: 'defensive', 'neutral', or 'offensive'\n */\nexport function getZone(coords: Coordinates): Zone {\n  if (coords.x < 64) return 'defensive'\n  if (coords.x <= 136) return 'neutral'\n  return 'offensive'\n}\n\n/**\n * Get the quadrant (zone + side) for coordinates\n * @param coords - Ice surface coordinates\n * @returns Quadrant identifier\n */\nexport function getQuadrant(coords: Coordinates): Quadrant {\n  const zone = getZone(coords)\n  const side = coords.y <= 50 ? 'left' : 'right'\n  return `${zone}_${side}` as Quadrant\n}\n\n// ===========================================\n// HIGH DANGER AREA DETECTION\n// ===========================================\n\n/**\n * Check if coordinates are in the high-danger slot area\n * @param coords - Ice surface coordinates\n * @returns True if in slot area (x: 145-175, y: 35-65)\n */\nexport function isInSlot(coords: Coordinates): boolean {\n  return (\n    coords.x >= 145 &&\n    coords.x <= 175 &&\n    coords.y >= 35 &&\n    coords.y <= 65\n  )\n}\n\n/**\n * Check if coordinates are in any high danger area\n * Includes slot and very close to net\n * @param coords - Ice surface coordinates\n * @returns True if in high danger area\n */\nexport function isInHighDangerArea(coords: Coordinates): boolean {\n  // Slot area\n  if (isInSlot(coords)) return true\n\n  // Very close to net (right in front of crease)\n  if (\n    coords.x >= 175 &&\n    coords.x <= 189 &&\n    coords.y >= 40 &&\n    coords.y <= 60\n  ) {\n    return true\n  }\n\n  return false\n}\n\n// ===========================================\n// CALCULATIONS\n// ===========================================\n\n/**\n * Calculate Euclidean distance between two points\n * @param from - Starting coordinates\n * @param to - Ending coordinates\n * @returns Distance in coordinate units\n */\nexport function getDistance(from: Coordinates, to: Coordinates): number {\n  const dx = to.x - from.x\n  const dy = to.y - from.y\n  return Math.sqrt(dx * dx + dy * dy)\n}\n\n// ===========================================\n// SCREEN COORDINATE CONVERSION\n// ===========================================\n\n/**\n * Convert screen coordinates (from click/tap) to ice surface coordinates\n * @param screenCoords - Screen pixel coordinates (relative to SVG container)\n * @param screenWidth - Width of the screen container in pixels\n * @param screenHeight - Height of the screen container in pixels\n * @returns Ice surface coordinates (x: 0-200, y: 0-100)\n */\nexport function screenToIce(\n  screenCoords: ScreenCoordinates,\n  screenWidth: number,\n  screenHeight: number\n): Coordinates {\n  const x = Math.round((screenCoords.x / screenWidth) * ICE_SURFACE.WIDTH)\n  const y = Math.round((screenCoords.y / screenHeight) * ICE_SURFACE.HEIGHT)\n\n  return normalizeCoordinates({ x, y })\n}\n\n/**\n * Convert ice surface coordinates to screen coordinates (for rendering)\n * @param iceCoords - Ice surface coordinates (x: 0-200, y: 0-100)\n * @param screenWidth - Width of the screen container in pixels\n * @param screenHeight - Height of the screen container in pixels\n * @returns Screen pixel coordinates\n */\nexport function iceToScreen(\n  iceCoords: Coordinates,\n  screenWidth: number,\n  screenHeight: number\n): ScreenCoordinates {\n  const x = (iceCoords.x / ICE_SURFACE.WIDTH) * screenWidth\n  const y = (iceCoords.y / ICE_SURFACE.HEIGHT) * screenHeight\n\n  return { x, y }\n}\n\n// ===========================================\n// HELPER CONSTANTS\n// ===========================================\n\nexport const ICE_SURFACE = {\n  WIDTH: 200,\n  HEIGHT: 100,\n  CENTER: { x: 100, y: 50 },\n  ZONES: {\n    DEFENSIVE_END: 64, // Blue line position (64 feet from end boards)\n    NEUTRAL_END: 136,  // Blue line position (136 feet from end boards)\n  },\n  SLOT: {\n    MIN_X: 145, // High danger area in offensive zone\n    MAX_X: 175,\n    MIN_Y: 35,\n    MAX_Y: 65,\n  },\n} as const\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4BC;;;;;;;;;;;;;;;;;;;;;;AAwBM,SAAS,kBAAkB,MAAmB;IACnD,OACE,OAAO,CAAC,IAAI,KACZ,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,KACZ,OAAO,CAAC,IAAI;AAEhB;AAOO,SAAS,qBAAqB,MAAmB;IACtD,OAAO;QACL,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,OAAO,CAAC;QACrC,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,OAAO,CAAC;IACvC;AACF;AAWO,SAAS,QAAQ,MAAmB;IACzC,IAAI,OAAO,CAAC,GAAG,IAAI,OAAO;IAC1B,IAAI,OAAO,CAAC,IAAI,KAAK,OAAO;IAC5B,OAAO;AACT;AAOO,SAAS,YAAY,MAAmB;IAC7C,MAAM,OAAO,QAAQ;IACrB,MAAM,OAAO,OAAO,CAAC,IAAI,KAAK,SAAS;IACvC,OAAO,AAAC,GAAU,OAAR,MAAK,KAAQ,OAAL;AACpB;AAWO,SAAS,SAAS,MAAmB;IAC1C,OACE,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,MACZ,OAAO,CAAC,IAAI;AAEhB;AAQO,SAAS,mBAAmB,MAAmB;IACpD,YAAY;IACZ,IAAI,SAAS,SAAS,OAAO;IAE7B,+CAA+C;IAC/C,IACE,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,MACZ,OAAO,CAAC,IAAI,IACZ;QACA,OAAO;IACT;IAEA,OAAO;AACT;AAYO,SAAS,YAAY,IAAiB,EAAE,EAAe;IAC5D,MAAM,KAAK,GAAG,CAAC,GAAG,KAAK,CAAC;IACxB,MAAM,KAAK,GAAG,CAAC,GAAG,KAAK,CAAC;IACxB,OAAO,KAAK,IAAI,CAAC,KAAK,KAAK,KAAK;AAClC;AAaO,SAAS,YACd,YAA+B,EAC/B,WAAmB,EACnB,YAAoB;IAEpB,MAAM,IAAI,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,GAAG,cAAe,YAAY,KAAK;IACvE,MAAM,IAAI,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,GAAG,eAAgB,YAAY,MAAM;IAEzE,OAAO,qBAAqB;QAAE;QAAG;IAAE;AACrC;AASO,SAAS,YACd,SAAsB,EACtB,WAAmB,EACnB,YAAoB;IAEpB,MAAM,IAAI,AAAC,UAAU,CAAC,GAAG,YAAY,KAAK,GAAI;IAC9C,MAAM,IAAI,AAAC,UAAU,CAAC,GAAG,YAAY,MAAM,GAAI;IAE/C,OAAO;QAAE;QAAG;IAAE;AAChB;AAMO,MAAM,cAAc;IACzB,OAAO;IACP,QAAQ;IACR,QAAQ;QAAE,GAAG;QAAK,GAAG;IAAG;IACxB,OAAO;QACL,eAAe;QACf,aAAa;IACf;IACA,MAAM;QACJ,OAAO;QACP,OAAO;QACP,OAAO;QACP,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 574, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/utils/organization-setup.ts"],"sourcesContent":["/**\n * Organization Setup Utilities\n *\n * Helper functions for creating and managing organizations\n * during user signup and onboarding flow.\n */\n\n/**\n * Generate a URL-safe slug from an organization or user name\n *\n * @param name - The name to convert to a slug\n * @returns URL-safe slug (lowercase, alphanumeric + hyphens)\n *\n * @example\n * generateOrgSlug('John Smith') => 'john-smith'\n * generateOrgSlug(\"O'Connor's Team\") => 'oconnors-team'\n */\nexport function generateOrgSlug(name: string): string {\n  return name\n    .trim() // Remove leading/trailing whitespace\n    .toLowerCase() // Convert to lowercase\n    .replace(/[^\\w\\s-]/g, '') // Remove non-alphanumeric except spaces and hyphens\n    .replace(/\\s+/g, '-') // Replace spaces with hyphens\n    .replace(/-+/g, '-') // Replace multiple hyphens with single hyphen\n    .replace(/^-|-$/g, '') // Remove leading/trailing hyphens\n}\n\n/**\n * Generate a default organization name from a user's full name\n *\n * @param fullName - User's full name\n * @returns Organization name (e.g., \"John Smith's Teams\")\n *\n * @example\n * generateOrgName('John Smith') => \"John Smith's Teams\"\n * generateOrgName('') => 'My Teams'\n */\nexport function generateOrgName(fullName: string): string {\n  const trimmed = fullName.trim()\n\n  if (!trimmed) {\n    return 'My Teams'\n  }\n\n  // Add possessive apostrophe + \"Teams\"\n  return `${trimmed}'s Teams`\n}\n\n/**\n * Generate a unique slug by appending a number if conflicts exist\n *\n * @param baseSlug - The desired slug\n * @param existingSlugs - Array of slugs that already exist\n * @returns Unique slug (e.g., 'john-smith-2' if 'john-smith' exists)\n *\n * @example\n * generateUniqueSlug('john-smith', []) => 'john-smith'\n * generateUniqueSlug('john-smith', ['john-smith']) => 'john-smith-2'\n * generateUniqueSlug('john-smith', ['john-smith', 'john-smith-2']) => 'john-smith-3'\n */\nexport function generateUniqueSlug(baseSlug: string, existingSlugs: string[]): string {\n  // If base slug doesn't exist, use it\n  if (!existingSlugs.includes(baseSlug)) {\n    return baseSlug\n  }\n\n  // Find the next available number\n  let counter = 2\n  let candidateSlug = `${baseSlug}-${counter}`\n\n  while (existingSlugs.includes(candidateSlug)) {\n    counter++\n    candidateSlug = `${baseSlug}-${counter}`\n  }\n\n  return candidateSlug\n}\n"],"names":[],"mappings":"AAAA;;;;;CAKC,GAED;;;;;;;;;CASC;;;;;;;;AACM,SAAS,gBAAgB,IAAY;IAC1C,OAAO,KACJ,IAAI,GAAG,qCAAqC;KAC5C,WAAW,GAAG,uBAAuB;KACrC,OAAO,CAAC,aAAa,IAAI,oDAAoD;KAC7E,OAAO,CAAC,QAAQ,KAAK,8BAA8B;KACnD,OAAO,CAAC,OAAO,KAAK,8CAA8C;KAClE,OAAO,CAAC,UAAU,IAAI,kCAAkC;;AAC7D;AAYO,SAAS,gBAAgB,QAAgB;IAC9C,MAAM,UAAU,SAAS,IAAI;IAE7B,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,sCAAsC;IACtC,OAAO,AAAC,GAAU,OAAR,SAAQ;AACpB;AAcO,SAAS,mBAAmB,QAAgB,EAAE,aAAuB;IAC1E,qCAAqC;IACrC,IAAI,CAAC,cAAc,QAAQ,CAAC,WAAW;QACrC,OAAO;IACT;IAEA,iCAAiC;IACjC,IAAI,UAAU;IACd,IAAI,gBAAgB,AAAC,GAAc,OAAZ,UAAS,KAAW,OAAR;IAEnC,MAAO,cAAc,QAAQ,CAAC,eAAgB;QAC5C;QACA,gBAAgB,AAAC,GAAc,OAAZ,UAAS,KAAW,OAAR;IACjC;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 634, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/utils/event-mappers.ts"],"sourcesContent":["/**\n * Event Mappers\n *\n * Utility functions to convert between database row format (snake_case)\n * and client format (camelCase)\n */\n\nimport type { GameEvent, GameEventRow } from '../types'\n\n/**\n * Convert database row to GameEvent client format\n */\nexport function mapRowToGameEvent(row: GameEventRow): GameEvent {\n  return {\n    id: row.id,\n    gameId: row.game_id,\n    eventType: row.event_type,\n    coordinates:\n      row.x_coord !== null && row.y_coord !== null\n        ? { x: row.x_coord, y: row.y_coord }\n        : undefined,\n    playerId: row.player_id || undefined,\n    period: row.period,\n    gameTimeSeconds: row.game_time_seconds || 0,\n    situation: row.situation || 'even_strength',\n    details: row.details || {},\n    timestamp: row.event_timestamp || new Date().toISOString(),\n    trackedBy: row.tracked_by || undefined,\n  }\n}\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;AAOM,SAAS,kBAAkB,GAAiB;IACjD,OAAO;QACL,IAAI,IAAI,EAAE;QACV,QAAQ,IAAI,OAAO;QACnB,WAAW,IAAI,UAAU;QACzB,aACE,IAAI,OAAO,KAAK,QAAQ,IAAI,OAAO,KAAK,OACpC;YAAE,GAAG,IAAI,OAAO;YAAE,GAAG,IAAI,OAAO;QAAC,IACjC;QACN,UAAU,IAAI,SAAS,IAAI;QAC3B,QAAQ,IAAI,MAAM;QAClB,iBAAiB,IAAI,iBAAiB,IAAI;QAC1C,WAAW,IAAI,SAAS,IAAI;QAC5B,SAAS,IAAI,OAAO,IAAI,CAAC;QACzB,WAAW,IAAI,eAAe,IAAI,IAAI,OAAO,WAAW;QACxD,WAAW,IAAI,UAAU,IAAI;IAC/B;AACF","debugId":null}},
    {"offset": {"line": 668, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/analytics/shot-quality.ts"],"sourcesContent":["/**\n * Shot Quality Calculator\n *\n * Classifies shots as high/medium/low danger based on location on ice surface.\n * Used for game analytics and expected goals (xG) calculations.\n *\n * Ice Surface Coordinates:\n * - x: 0-200 (left to right, defensive to offensive)\n * - y: 0-100 (bottom to top)\n *\n * High danger area: \"Home plate\" in front of net (slot)\n * - x: 80-110, y: 35-65\n * - Very close to net: x: 60-80, y: 40-60\n *\n * Low danger areas:\n * - Point shots: x >= 140\n * - Behind goal line: x < 60\n * - Extreme angles: y < 20 or y > 80\n *\n * Medium danger: Everything else (faceoff circles, mid-slot)\n */\n\nimport type { Coordinates } from '../utils/ice-surface-coordinates'\n\nexport type ShotQuality = 'high' | 'medium' | 'low'\n\n/**\n * Calculate shot quality based on ice coordinates\n * @param coordinates - Shot location on ice surface\n * @returns Shot quality: 'high', 'medium', or 'low'\n */\nexport function calculateShotQuality({ x, y }: Coordinates): ShotQuality {\n  // High danger: slot area (home plate)\n  if (x >= 80 && x <= 110 && y >= 35 && y <= 65) {\n    return 'high'\n  }\n\n  // High danger: very close to net\n  if (x >= 60 && x <= 80 && y >= 40 && y <= 60) {\n    return 'high'\n  }\n\n  // Low danger: point shots (from blue line or beyond)\n  if (x >= 140) {\n    return 'low'\n  }\n\n  // Low danger: behind goal line or extreme angles\n  if (x < 60 || y < 20 || y > 80) {\n    return 'low'\n  }\n\n  // Medium danger: everything else (faceoff dots, mid-slot)\n  return 'medium'\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;CAoBC;;;;AAWM,SAAS,qBAAqB,KAAqB;QAArB,EAAE,CAAC,EAAE,CAAC,EAAe,GAArB;IACnC,sCAAsC;IACtC,IAAI,KAAK,MAAM,KAAK,OAAO,KAAK,MAAM,KAAK,IAAI;QAC7C,OAAO;IACT;IAEA,iCAAiC;IACjC,IAAI,KAAK,MAAM,KAAK,MAAM,KAAK,MAAM,KAAK,IAAI;QAC5C,OAAO;IACT;IAEA,qDAAqD;IACrD,IAAI,KAAK,KAAK;QACZ,OAAO;IACT;IAEA,iDAAiD;IACjD,IAAI,IAAI,MAAM,IAAI,MAAM,IAAI,IAAI;QAC9B,OAAO;IACT;IAEA,0DAA0D;IAC1D,OAAO;AACT","debugId":null}},
    {"offset": {"line": 720, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/analytics/breakout-analytics.ts"],"sourcesContent":["/**\n * Breakout Analytics Calculator\n *\n * Calculates statistics and insights from breakout events.\n * Used for post-game analytics and practice plan recommendations.\n *\n * Key Metrics:\n * - Overall breakout success rate\n * - Success rate by exit zone (left, center, right)\n * - Success rate by breakout type (up_boards, center_ice, cross_ice, carry)\n * - Identification of weakest areas for targeted practice\n */\n\nexport interface BreakoutEvent {\n  success: boolean\n  type: 'up_boards' | 'center_ice' | 'cross_ice' | 'carry'\n  exit_zone?: 'left' | 'center' | 'right'\n}\n\nexport interface BreakoutStats {\n  total: number\n  successful: number\n  failed: number\n  successRate: number\n}\n\nexport interface BreakoutStatsByZone {\n  left: BreakoutStats\n  center: BreakoutStats\n  right: BreakoutStats\n  unknown: BreakoutStats\n}\n\nexport interface BreakoutStatsByType {\n  up_boards: BreakoutStats\n  center_ice: BreakoutStats\n  cross_ice: BreakoutStats\n  carry: BreakoutStats\n}\n\nexport interface WeakestArea {\n  zone: string\n  successRate: number\n  total: number\n  failed: number\n}\n\n// ===========================================\n// CORE CALCULATIONS\n// ===========================================\n\n/**\n * Calculate overall breakout success rate\n * @param breakouts - Array of breakout events\n * @returns Success rate as percentage (0-100)\n */\nexport function calculateBreakoutSuccessRate(breakouts: BreakoutEvent[]): number {\n  if (breakouts.length === 0) return 0\n\n  const successful = breakouts.filter(b => b.success).length\n  return (successful / breakouts.length) * 100\n}\n\n/**\n * Calculate complete breakout statistics\n * @param breakouts - Array of breakout events\n * @returns Detailed breakout statistics\n */\nexport function calculateBreakoutStats(breakouts: BreakoutEvent[]): BreakoutStats {\n  const total = breakouts.length\n  const successful = breakouts.filter(b => b.success).length\n  const failed = total - successful\n  const successRate = total > 0 ? (successful / total) * 100 : 0\n\n  return {\n    total,\n    successful,\n    failed,\n    successRate,\n  }\n}\n\n// ===========================================\n// ZONE-BASED ANALYSIS\n// ===========================================\n\n/**\n * Calculate breakout statistics by exit zone\n * @param breakouts - Array of breakout events\n * @returns Statistics grouped by exit zone\n */\nexport function getBreakoutStatsByZone(breakouts: BreakoutEvent[]): BreakoutStatsByZone {\n  const zones = {\n    left: [] as BreakoutEvent[],\n    center: [] as BreakoutEvent[],\n    right: [] as BreakoutEvent[],\n    unknown: [] as BreakoutEvent[],\n  }\n\n  // Group breakouts by zone\n  breakouts.forEach(breakout => {\n    const zone = breakout.exit_zone || 'unknown'\n    zones[zone].push(breakout)\n  })\n\n  // Calculate stats for each zone\n  return {\n    left: calculateBreakoutStats(zones.left),\n    center: calculateBreakoutStats(zones.center),\n    right: calculateBreakoutStats(zones.right),\n    unknown: calculateBreakoutStats(zones.unknown),\n  }\n}\n\n// ===========================================\n// TYPE-BASED ANALYSIS\n// ===========================================\n\n/**\n * Calculate breakout statistics by breakout type\n * @param breakouts - Array of breakout events\n * @returns Statistics grouped by breakout type\n */\nexport function getBreakoutStatsByType(breakouts: BreakoutEvent[]): BreakoutStatsByType {\n  const types = {\n    up_boards: [] as BreakoutEvent[],\n    center_ice: [] as BreakoutEvent[],\n    cross_ice: [] as BreakoutEvent[],\n    carry: [] as BreakoutEvent[],\n  }\n\n  // Group breakouts by type\n  breakouts.forEach(breakout => {\n    types[breakout.type].push(breakout)\n  })\n\n  // Calculate stats for each type\n  return {\n    up_boards: calculateBreakoutStats(types.up_boards),\n    center_ice: calculateBreakoutStats(types.center_ice),\n    cross_ice: calculateBreakoutStats(types.cross_ice),\n    carry: calculateBreakoutStats(types.carry),\n  }\n}\n\n// ===========================================\n// INSIGHTS & RECOMMENDATIONS\n// ===========================================\n\n/**\n * Identify the weakest breakout area (zone with lowest success rate)\n * @param breakouts - Array of breakout events\n * @returns Weakest area details or null if no breakouts\n */\nexport function identifyWeakestBreakoutArea(breakouts: BreakoutEvent[]): WeakestArea | null {\n  if (breakouts.length === 0) return null\n\n  const statsByZone = getBreakoutStatsByZone(breakouts)\n\n  // Find zone with lowest success rate (excluding zones with no attempts)\n  let weakest: WeakestArea | null = null\n\n  const zones: Array<{ name: string; stats: BreakoutStats }> = [\n    { name: 'left', stats: statsByZone.left },\n    { name: 'center', stats: statsByZone.center },\n    { name: 'right', stats: statsByZone.right },\n  ]\n\n  zones.forEach(({ name, stats }) => {\n    if (stats.total > 0) {\n      if (!weakest || stats.successRate < weakest.successRate) {\n        weakest = {\n          zone: name,\n          successRate: stats.successRate,\n          total: stats.total,\n          failed: stats.failed,\n        }\n      }\n    }\n  })\n\n  return weakest\n}\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;CAWC;;;;;;;;;;;;AA6CM,SAAS,6BAA6B,SAA0B;IACrE,IAAI,UAAU,MAAM,KAAK,GAAG,OAAO;IAEnC,MAAM,aAAa,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,OAAO,EAAE,MAAM;IAC1D,OAAO,AAAC,aAAa,UAAU,MAAM,GAAI;AAC3C;AAOO,SAAS,uBAAuB,SAA0B;IAC/D,MAAM,QAAQ,UAAU,MAAM;IAC9B,MAAM,aAAa,UAAU,MAAM,CAAC,CAAA,IAAK,EAAE,OAAO,EAAE,MAAM;IAC1D,MAAM,SAAS,QAAQ;IACvB,MAAM,cAAc,QAAQ,IAAI,AAAC,aAAa,QAAS,MAAM;IAE7D,OAAO;QACL;QACA;QACA;QACA;IACF;AACF;AAWO,SAAS,uBAAuB,SAA0B;IAC/D,MAAM,QAAQ;QACZ,MAAM,EAAE;QACR,QAAQ,EAAE;QACV,OAAO,EAAE;QACT,SAAS,EAAE;IACb;IAEA,0BAA0B;IAC1B,UAAU,OAAO,CAAC,CAAA;QAChB,MAAM,OAAO,SAAS,SAAS,IAAI;QACnC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC;IACnB;IAEA,gCAAgC;IAChC,OAAO;QACL,MAAM,uBAAuB,MAAM,IAAI;QACvC,QAAQ,uBAAuB,MAAM,MAAM;QAC3C,OAAO,uBAAuB,MAAM,KAAK;QACzC,SAAS,uBAAuB,MAAM,OAAO;IAC/C;AACF;AAWO,SAAS,uBAAuB,SAA0B;IAC/D,MAAM,QAAQ;QACZ,WAAW,EAAE;QACb,YAAY,EAAE;QACd,WAAW,EAAE;QACb,OAAO,EAAE;IACX;IAEA,0BAA0B;IAC1B,UAAU,OAAO,CAAC,CAAA;QAChB,KAAK,CAAC,SAAS,IAAI,CAAC,CAAC,IAAI,CAAC;IAC5B;IAEA,gCAAgC;IAChC,OAAO;QACL,WAAW,uBAAuB,MAAM,SAAS;QACjD,YAAY,uBAAuB,MAAM,UAAU;QACnD,WAAW,uBAAuB,MAAM,SAAS;QACjD,OAAO,uBAAuB,MAAM,KAAK;IAC3C;AACF;AAWO,SAAS,4BAA4B,SAA0B;IACpE,IAAI,UAAU,MAAM,KAAK,GAAG,OAAO;IAEnC,MAAM,cAAc,uBAAuB;IAE3C,wEAAwE;IACxE,IAAI,UAA8B;IAElC,MAAM,QAAuD;QAC3D;YAAE,MAAM;YAAQ,OAAO,YAAY,IAAI;QAAC;QACxC;YAAE,MAAM;YAAU,OAAO,YAAY,MAAM;QAAC;QAC5C;YAAE,MAAM;YAAS,OAAO,YAAY,KAAK;QAAC;KAC3C;IAED,MAAM,OAAO,CAAC;YAAC,EAAE,IAAI,EAAE,KAAK,EAAE;QAC5B,IAAI,MAAM,KAAK,GAAG,GAAG;YACnB,IAAI,CAAC,WAAW,MAAM,WAAW,GAAG,QAAQ,WAAW,EAAE;gBACvD,UAAU;oBACR,MAAM;oBACN,aAAa,MAAM,WAAW;oBAC9B,OAAO,MAAM,KAAK;oBAClB,QAAQ,MAAM,MAAM;gBACtB;YACF;QACF;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 840, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/analytics/game-analytics.ts"],"sourcesContent":["import type { GameEvent, ShotResult, Player as PlayerDB } from '../types'\n\n// Client-side player format (camelCase)\nexport interface Player {\n  id: string\n  firstName: string\n  lastName: string\n  jerseyNumber: number\n  position: 'forward' | 'defense' | 'goalie'\n}\n\nexport interface PlayerStats {\n  playerId: string\n  playerName: string\n  jerseyNumber: number\n  position: string\n  shots: number\n  goals: number\n  shootingPct: number\n  turnovers: number\n  breakouts: number\n  breakoutSuccessPct: number\n  zoneEntries: number\n  faceoffs: number\n  faceoffWins: number\n  faceoffWinPct: number\n  totalEvents: number\n}\n\nexport interface ShotData {\n  x: number\n  y: number\n  result: ShotResult\n  shotQuality?: 'high' | 'medium' | 'low'\n  period: number\n  situation: string\n  playerId?: string\n}\n\nexport interface ShotQualityStats {\n  high: { count: number; goals: number; percentage: number }\n  medium: { count: number; goals: number; percentage: number }\n  low: { count: number; goals: number; percentage: number }\n  total: { count: number; goals: number; percentage: number }\n}\n\nexport interface BreakoutAnalytics {\n  total: number\n  successful: number\n  failed: number\n  successRate: number\n  byType: Record<string, { total: number; successful: number; successRate: number }>\n}\n\nexport interface PeriodStats {\n  period: number\n  shots: number\n  goals: number\n  turnovers: number\n  breakouts: number\n  zoneEntries: number\n}\n\nexport interface TurnoverData {\n  x: number\n  y: number\n  period: number\n  situation: string\n}\n\n/**\n * Extract shot data from events for visualization\n */\nexport function extractShotData(events: GameEvent[]): ShotData[] {\n  return events\n    .filter((e) => e.eventType === 'shot' && e.coordinates)\n    .map((event) => ({\n      x: event.coordinates!.x,\n      y: event.coordinates!.y,\n      result: (event.details.result as ShotResult) || 'miss_high',\n      shotQuality: event.details.shot_quality as 'high' | 'medium' | 'low' | undefined,\n      period: event.period,\n      situation: event.situation,\n      playerId: event.playerId,\n    }))\n}\n\n/**\n * Calculate shot quality statistics\n */\nexport function calculateShotQualityStats(events: GameEvent[]): ShotQualityStats {\n  const shots = events.filter((e) => e.eventType === 'shot')\n\n  const stats: ShotQualityStats = {\n    high: { count: 0, goals: 0, percentage: 0 },\n    medium: { count: 0, goals: 0, percentage: 0 },\n    low: { count: 0, goals: 0, percentage: 0 },\n    total: { count: shots.length, goals: 0, percentage: 0 },\n  }\n\n  shots.forEach((shot) => {\n    const quality = shot.details.shot_quality as 'high' | 'medium' | 'low' | undefined\n    const isGoal = shot.details.result === 'goal'\n\n    if (isGoal) {\n      stats.total.goals++\n    }\n\n    if (quality) {\n      stats[quality].count++\n      if (isGoal) {\n        stats[quality].goals++\n      }\n    }\n  })\n\n  // Calculate percentages\n  if (stats.high.count > 0) {\n    stats.high.percentage = (stats.high.goals / stats.high.count) * 100\n  }\n  if (stats.medium.count > 0) {\n    stats.medium.percentage = (stats.medium.goals / stats.medium.count) * 100\n  }\n  if (stats.low.count > 0) {\n    stats.low.percentage = (stats.low.goals / stats.low.count) * 100\n  }\n  if (stats.total.count > 0) {\n    stats.total.percentage = (stats.total.goals / stats.total.count) * 100\n  }\n\n  return stats\n}\n\n/**\n * Analyze breakout performance\n */\nexport function analyzeBreakouts(events: GameEvent[]): BreakoutAnalytics {\n  const breakouts = events.filter((e) => e.eventType === 'breakout')\n\n  const analytics: BreakoutAnalytics = {\n    total: breakouts.length,\n    successful: 0,\n    failed: 0,\n    successRate: 0,\n    byType: {},\n  }\n\n  breakouts.forEach((breakout) => {\n    const success = breakout.details.success === true\n    const type = (breakout.details.type as string) || 'unknown'\n\n    if (success) {\n      analytics.successful++\n    } else {\n      analytics.failed++\n    }\n\n    // Track by type\n    if (!analytics.byType[type]) {\n      analytics.byType[type] = { total: 0, successful: 0, successRate: 0 }\n    }\n    analytics.byType[type].total++\n    if (success) {\n      analytics.byType[type].successful++\n    }\n  })\n\n  // Calculate success rates\n  if (analytics.total > 0) {\n    analytics.successRate = (analytics.successful / analytics.total) * 100\n  }\n\n  Object.keys(analytics.byType).forEach((type) => {\n    const typeStats = analytics.byType[type]\n    if (typeStats.total > 0) {\n      typeStats.successRate = (typeStats.successful / typeStats.total) * 100\n    }\n  })\n\n  return analytics\n}\n\n/**\n * Get period-by-period statistics\n */\nexport function getPeriodStats(events: GameEvent[], maxPeriod = 3): PeriodStats[] {\n  const periodStats: PeriodStats[] = []\n\n  for (let period = 1; period <= maxPeriod; period++) {\n    const periodEvents = events.filter((e) => e.period === period)\n\n    periodStats.push({\n      period,\n      shots: periodEvents.filter((e) => e.eventType === 'shot').length,\n      goals: periodEvents.filter(\n        (e) => e.eventType === 'shot' && e.details.result === 'goal'\n      ).length,\n      turnovers: periodEvents.filter((e) => e.eventType === 'turnover').length,\n      breakouts: periodEvents.filter((e) => e.eventType === 'breakout').length,\n      zoneEntries: periodEvents.filter((e) => e.eventType === 'zone_entry').length,\n    })\n  }\n\n  return periodStats\n}\n\n/**\n * Extract turnover data for heat map\n */\nexport function extractTurnoverData(events: GameEvent[]): TurnoverData[] {\n  return events\n    .filter((e) => e.eventType === 'turnover' && e.coordinates)\n    .map((event) => ({\n      x: event.coordinates!.x,\n      y: event.coordinates!.y,\n      period: event.period,\n      situation: event.situation,\n    }))\n}\n\n/**\n * Calculate shooting percentage by situation\n */\nexport function getShootingPercentageBySituation(events: GameEvent[]) {\n  const situations = ['even_strength', 'power_play', 'penalty_kill'] as const\n\n  return situations.map((situation) => {\n    const shots = events.filter(\n      (e) => e.eventType === 'shot' && e.situation === situation\n    )\n    const goals = shots.filter((s) => s.details.result === 'goal').length\n\n    return {\n      situation,\n      shots: shots.length,\n      goals,\n      percentage: shots.length > 0 ? (goals / shots.length) * 100 : 0,\n    }\n  })\n}\n\n/**\n * Calculate per-player statistics from game events\n */\nexport function calculatePlayerStats(events: GameEvent[], players: Player[]): PlayerStats[] {\n  return players.map((player) => {\n    // Filter events for this player\n    const playerEvents = events.filter((e) => e.playerId === player.id)\n\n    // Shots and goals\n    const shots = playerEvents.filter((e) => e.eventType === 'shot')\n    const goals = shots.filter((s) => s.details.result === 'goal')\n    const shootingPct = shots.length > 0 ? (goals.length / shots.length) * 100 : 0\n\n    // Turnovers\n    const turnovers = playerEvents.filter((e) => e.eventType === 'turnover')\n\n    // Breakouts\n    const breakouts = playerEvents.filter((e) => e.eventType === 'breakout')\n    const successfulBreakouts = breakouts.filter((b) => b.details.success === true)\n    const breakoutSuccessPct = breakouts.length > 0 ? (successfulBreakouts.length / breakouts.length) * 100 : 0\n\n    // Zone entries\n    const zoneEntries = playerEvents.filter((e) => e.eventType === 'zone_entry')\n\n    // Faceoffs\n    const faceoffs = playerEvents.filter((e) => e.eventType === 'faceoff')\n    const faceoffWins = faceoffs.filter((f) => f.details.won === true)\n    const faceoffWinPct = faceoffs.length > 0 ? (faceoffWins.length / faceoffs.length) * 100 : 0\n\n    return {\n      playerId: player.id,\n      playerName: `${player.firstName[0]}. ${player.lastName}`,\n      jerseyNumber: player.jerseyNumber,\n      position: player.position,\n      shots: shots.length,\n      goals: goals.length,\n      shootingPct,\n      turnovers: turnovers.length,\n      breakouts: breakouts.length,\n      breakoutSuccessPct,\n      zoneEntries: zoneEntries.length,\n      faceoffs: faceoffs.length,\n      faceoffWins: faceoffWins.length,\n      faceoffWinPct,\n      totalEvents: playerEvents.length,\n    }\n  }).filter(stats => stats.totalEvents > 0) // Only show players with events\n   .sort((a, b) => b.totalEvents - a.totalEvents) // Sort by most active players\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1050, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/stores/game-tracking-store.ts"],"sourcesContent":["/**\n * Game Tracking Store\n *\n * Platform-agnostic Zustand store for live game event tracking.\n * Uses dependency injection for API calls to support both web (Supabase) and mobile (REST API).\n */\n\nimport { create } from 'zustand'\nimport type { IGameEventsAPI } from '../api/game-events.interface'\nimport type { GameEvent, EventType, GameSituation, ShotResult, ShotType } from '../types'\nimport type { Coordinates } from '../utils/ice-surface-coordinates'\nimport { mapRowToGameEvent } from '../utils/event-mappers'\n\nexport type { EventType, GameSituation, ShotResult, ShotType }\n\nexport type GameStatus = 'scheduled' | 'in_progress' | 'completed' | 'cancelled'\n\nexport interface Player {\n  id: string\n  jerseyNumber: number\n  firstName: string\n  lastName: string\n  position: 'forward' | 'defense' | 'goalie'\n}\n\nexport interface GameState {\n  gameId: string | null\n  period: number\n  gameTimeSeconds: number\n  score: { us: number; them: number }\n  situation: GameSituation\n  status: GameStatus\n}\n\ninterface EventLoggingFlow {\n  step: 'idle' | 'select_location' | 'select_event_type' | 'select_player' | 'select_details' | 'complete'\n  eventType: EventType | null\n  coordinates: Coordinates | null\n  playerId: string | null\n  details: Record<string, unknown>\n}\n\nexport interface GameTrackingStore {\n  // Game state\n  gameState: GameState\n  players: Player[]\n  events: GameEvent[]\n\n  // Event logging flow\n  loggingFlow: EventLoggingFlow\n\n  // Actions\n  setGameState: (state: Partial<GameState>) => void\n  setPlayers: (players: Player[]) => void\n\n  // Event logging flow\n  startEventLogging: (eventType: EventType, coordinates?: Coordinates, prefilledDetails?: Record<string, unknown>) => void\n  startLocationFirst: () => void // Start flow by clicking ice first\n  setCoordinates: (coordinates: Coordinates) => void\n  setEventType: (eventType: EventType, prefilledDetails?: Record<string, unknown>) => void\n  setPlayer: (playerId: string) => void\n  setEventDetails: (details: Record<string, unknown>) => void\n  completeEvent: () => Promise<void>\n  cancelEventLogging: () => void\n\n  // Event management\n  addEvent: (event: GameEvent) => void\n  updateEvent: (eventId: string, updates: Partial<GameEvent>) => Promise<void>\n  deleteEvent: (eventId: string) => Promise<void>\n  undoLastEvent: () => Promise<void>\n  loadEvents: (gameId: string) => Promise<void>\n\n  // Computed stats\n  getEventsByType: (type: EventType) => GameEvent[]\n  getShotStats: () => {\n    total: number\n    onGoal: number\n    goals: number\n    saves: number\n    misses: number\n    blocked: number\n  }\n  getBreakoutStats: () => {\n    total: number\n    successful: number\n    failed: number\n    successRate: number\n  }\n}\n\nconst initialLoggingFlow: EventLoggingFlow = {\n  step: 'idle',\n  eventType: null,\n  coordinates: null,\n  playerId: null,\n  details: {},\n}\n\n/**\n * Create game tracking store with injected API\n * @param api - Platform-specific API implementation (Supabase for web, REST for mobile)\n */\nexport function createGameTrackingStore(api: IGameEventsAPI) {\n  return create<GameTrackingStore>((set, get) => ({\n    // Initial state\n    gameState: {\n      gameId: null,\n      period: 1,\n      gameTimeSeconds: 1200, // 20:00\n      score: { us: 0, them: 0 },\n      situation: 'even_strength',\n      status: 'in_progress',\n    },\n    players: [],\n    events: [],\n    loggingFlow: initialLoggingFlow,\n\n    // Game state actions\n    setGameState: (state) =>\n      set((prev) => ({\n        gameState: { ...prev.gameState, ...state },\n      })),\n\n    setPlayers: (players) => set({ players }),\n\n    // Event logging flow\n    startEventLogging: (eventType, coordinates, prefilledDetails) =>\n      set({\n        loggingFlow: {\n          step: coordinates ? 'select_player' : 'select_location',\n          eventType,\n          coordinates: coordinates || null,\n          playerId: null,\n          details: prefilledDetails || {},\n        },\n      }),\n\n    // Start flow by allowing user to click ice first\n    startLocationFirst: () =>\n      set({\n        loggingFlow: {\n          step: 'select_location',\n          eventType: null,\n          coordinates: null,\n          playerId: null,\n          details: {},\n        },\n      }),\n\n    setCoordinates: (coordinates) =>\n      set((prev) => ({\n        loggingFlow: {\n          ...prev.loggingFlow,\n          coordinates,\n          // If event type is already set, go to player; otherwise, select event type\n          step: prev.loggingFlow.eventType ? 'select_player' : 'select_event_type',\n        },\n      })),\n\n    // Set event type after location has been selected\n    setEventType: (eventType, prefilledDetails) =>\n      set((prev) => ({\n        loggingFlow: {\n          ...prev.loggingFlow,\n          eventType,\n          details: prefilledDetails || {},\n          step: 'select_player',\n        },\n      })),\n\n    setPlayer: (playerId) =>\n      set((prev) => ({\n        loggingFlow: {\n          ...prev.loggingFlow,\n          playerId,\n          step: prev.loggingFlow.eventType === 'shot' ? 'select_details' : 'complete',\n        },\n      })),\n\n    setEventDetails: (details) =>\n      set((prev) => ({\n        loggingFlow: {\n          ...prev.loggingFlow,\n          details: { ...prev.loggingFlow.details, ...details },\n          step: 'complete',\n        },\n      })),\n\n    completeEvent: async () => {\n      const { loggingFlow, gameState, events } = get()\n\n      if (!loggingFlow.eventType || !gameState.gameId) {\n        return\n      }\n\n      const tempEvent: GameEvent = {\n        id: `temp_${Date.now()}`, // Temporary ID until synced with DB\n        gameId: gameState.gameId,\n        eventType: loggingFlow.eventType,\n        coordinates: loggingFlow.coordinates || undefined,\n        playerId: loggingFlow.playerId || undefined,\n        period: gameState.period,\n        gameTimeSeconds: gameState.gameTimeSeconds,\n        situation: gameState.situation,\n        details: loggingFlow.details,\n        timestamp: new Date().toISOString(),\n      }\n\n      // Optimistic update - add to local state immediately\n      set({\n        events: [...events, tempEvent],\n        loggingFlow: initialLoggingFlow,\n      })\n\n      // Save to database in background\n      try {\n        const savedEventRow = await api.saveGameEvent(tempEvent)\n        const savedEvent = mapRowToGameEvent(savedEventRow)\n\n        // Update local event with real ID from database\n        set((state) => ({\n          events: state.events.map((e) =>\n            e.id === tempEvent.id ? savedEvent : e\n          ),\n        }))\n      } catch (error) {\n        console.error('Failed to save event to database:', error)\n        // TODO: Add to sync queue for offline support\n      }\n    },\n\n    cancelEventLogging: () =>\n      set({\n        loggingFlow: initialLoggingFlow,\n      }),\n\n    // Event management\n    addEvent: (event) =>\n      set((prev) => ({\n        events: [...prev.events, event],\n      })),\n\n    updateEvent: async (eventId, updates) => {\n      // Optimistic update\n      set((prev) => ({\n        events: prev.events.map((e) =>\n          e.id === eventId ? { ...e, ...updates } : e\n        ),\n      }))\n\n      // Persist to database\n      try {\n        await api.updateGameEvent(eventId, updates)\n      } catch (error) {\n        console.error('Failed to update event in database:', error)\n        // TODO: Add to sync queue for offline support\n      }\n    },\n\n    deleteEvent: async (eventId) => {\n      // Optimistic update\n      set((prev) => ({\n        events: prev.events.filter((e) => e.id !== eventId),\n      }))\n\n      // Persist to database (skip temp events)\n      if (!eventId.startsWith('temp_')) {\n        try {\n          await api.deleteGameEvent(eventId)\n        } catch (error) {\n          console.error('Failed to delete event from database:', error)\n          // TODO: Add to sync queue for offline support\n        }\n      }\n    },\n\n    undoLastEvent: async () => {\n      const { events } = get()\n      if (events.length === 0) return\n\n      const lastEvent = events[events.length - 1]\n\n      // Optimistic update\n      set((prev) => ({\n        events: prev.events.slice(0, -1),\n      }))\n\n      // Delete from database (skip temp events)\n      if (!lastEvent.id.startsWith('temp_')) {\n        try {\n          await api.deleteGameEvent(lastEvent.id)\n        } catch (error) {\n          console.error('Failed to undo event in database:', error)\n          // TODO: Add to sync queue for offline support\n        }\n      }\n    },\n\n    loadEvents: async (gameId) => {\n      try {\n        const rows = await api.getGameEvents(gameId)\n        const events = rows.map(mapRowToGameEvent)\n\n        set({ events })\n      } catch (error) {\n        console.error('Failed to load events from database:', error)\n      }\n    },\n\n    // Computed stats\n    getEventsByType: (type) => {\n      return get().events.filter((e) => e.eventType === type)\n    },\n\n    getShotStats: () => {\n      const { events } = get()\n      const shotEvents = events.filter((e) => e.eventType === 'shot')\n\n      const stats = {\n        total: shotEvents.length,\n        onGoal: 0,\n        goals: 0,\n        saves: 0,\n        misses: 0,\n        blocked: 0,\n      }\n\n      shotEvents.forEach((event) => {\n        const result = event.details.result as ShotResult | undefined\n\n        if (result === 'goal') {\n          stats.goals++\n          stats.onGoal++\n        } else if (result === 'save') {\n          stats.saves++\n          stats.onGoal++\n        } else if (result === 'blocked') {\n          stats.blocked++\n        } else {\n          // miss_high, miss_wide, post, or undefined\n          stats.misses++\n        }\n      })\n\n      return stats\n    },\n\n    getBreakoutStats: () => {\n      const { events } = get()\n      const breakouts = events.filter((e) => e.eventType === 'breakout')\n\n      const successful = breakouts.filter((e) => e.details.success === true).length\n      const failed = breakouts.filter((e) => e.details.success === false).length\n\n      return {\n        total: breakouts.length,\n        successful,\n        failed,\n        successRate: breakouts.length > 0 ? (successful / breakouts.length) * 100 : 0,\n      }\n    },\n  }))\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1312, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/shared/src/index.ts"],"sourcesContent":["/**\n * @hockeypilot/shared\n *\n * Shared code between web and mobile apps\n * - Types\n * - API clients\n * - Business logic\n * - Zustand stores\n * - Validation schemas\n */\n\n// Export types\nexport * from './types'\n\n// Export API interfaces\nexport * from './api/game-events.interface'\n\n// Export validation schemas\nexport * from './validation/event-schemas'\nexport * from './validation/player-schemas'\nexport * from './validation/team-schemas'\nexport * from './validation/user-schemas'\n\n// Export utils\nexport * from './utils/age-groups'\nexport * from './utils/ice-surface-coordinates'\nexport * from './utils/organization-setup'\nexport * from './utils/event-mappers'\n\n// Export analytics\nexport * from './analytics/shot-quality'\nexport * from './analytics/breakout-analytics'\nexport {\n  type PlayerStats,\n  type ShotData,\n  type ShotQualityStats,\n  type BreakoutAnalytics,\n  type PeriodStats,\n  type TurnoverData,\n  extractShotData,\n  calculateShotQualityStats,\n  analyzeBreakouts,\n  getPeriodStats,\n  extractTurnoverData,\n  getShootingPercentageBySituation,\n  calculatePlayerStats,\n} from './analytics/game-analytics'\n\n// Export stores\nexport {\n  type GameTrackingStore,\n  type GameState,\n  type GameStatus,\n  createGameTrackingStore,\n} from './stores/game-tracking-store'\n"],"names":[],"mappings":"AAAA;;;;;;;;;CASC,GAED,eAAe;;AACf;AAEA,wBAAwB;AACxB;AAEA,4BAA4B;AAC5B;AACA;AACA;AACA;AAEA,eAAe;AACf;AACA;AACA;AACA;AAEA,mBAAmB;AACnB;AACA;AACA;AAgBA,gBAAgB;AAChB","debugId":null}},
    {"offset": {"line": 1363, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/lib/api/game-events.supabase.ts"],"sourcesContent":["/**\n * Supabase Implementation of Game Events API\n *\n * Wraps direct Supabase calls to implement the IGameEventsAPI interface.\n * This allows the web app to use the platform-agnostic store with Supabase as the backend.\n */\n\nimport { supabase } from '../db/supabase'\nimport type { Database } from '../types/database'\nimport type { IGameEventsAPI } from '@hockeypilot/shared'\nimport type { GameEvent, GameEventRow } from '@hockeypilot/shared'\nimport type { SupabaseClient } from '@supabase/supabase-js'\n\ntype GameEventInsert = Database['public']['Tables']['game_events']['Insert']\n\n/**\n * Supabase implementation of game events API\n */\nexport class SupabaseGameEventsAPI implements IGameEventsAPI {\n  constructor(private client: SupabaseClient<Database> = supabase) {}\n\n  /**\n   * Save a new game event\n   */\n  async saveGameEvent(event: GameEvent): Promise<GameEventRow> {\n    // Debug: Check if we have a valid session\n    const {\n      data: { session },\n    } = await this.client.auth.getSession()\n    console.log('ðŸ“Š Saving event with session:', session ? 'AUTHENTICATED' : 'NOT AUTHENTICATED')\n    if (session) {\n      console.log('User ID:', session.user.id)\n    } else {\n      console.error('âŒ No session found! User is not authenticated.')\n    }\n\n    const eventData: GameEventInsert = {\n      game_id: event.gameId,\n      event_type: event.eventType as any,\n      x_coord: event.coordinates?.x || null,\n      y_coord: event.coordinates?.y || null,\n      period: event.period,\n      game_time_seconds: event.gameTimeSeconds,\n      player_id: event.playerId || null,\n      situation: event.situation as any,\n      details: event.details as any,\n    }\n\n    const { data, error } = await this.client\n      .from('game_events')\n      .insert(eventData)\n      .select()\n      .single()\n\n    if (error) {\n      console.error('Error saving game event:', error)\n\n      // If it's a 403 (Forbidden) error, sign out the user\n      // This typically means the session expired or RLS policy denied access\n      if (error.code === '42501' || error.message?.includes('row-level security')) {\n        console.error('ðŸ”’ RLS policy denied access - signing out user')\n        await this.client.auth.signOut()\n      }\n\n      throw error\n    }\n\n    return this.mapDbRowToGameEventRow(data)\n  }\n\n  /**\n   * Update an existing game event\n   */\n  async updateGameEvent(eventId: string, updates: Partial<GameEvent>): Promise<GameEventRow> {\n    const updateData: Partial<GameEventInsert> = {}\n\n    if (updates.coordinates) {\n      updateData.x_coord = updates.coordinates.x\n      updateData.y_coord = updates.coordinates.y\n    }\n\n    if (updates.playerId !== undefined) {\n      updateData.player_id = updates.playerId || null\n    }\n\n    if (updates.details) {\n      updateData.details = updates.details as any\n    }\n\n    if (updates.period) {\n      updateData.period = updates.period\n    }\n\n    if (updates.gameTimeSeconds !== undefined) {\n      updateData.game_time_seconds = updates.gameTimeSeconds\n    }\n\n    if (updates.situation) {\n      updateData.situation = updates.situation as any\n    }\n\n    const { data, error } = await this.client\n      .from('game_events')\n      .update(updateData)\n      .eq('id', eventId)\n      .select()\n      .single()\n\n    if (error) {\n      console.error('Error updating game event:', error)\n\n      // If it's a 403 (Forbidden) error, sign out the user\n      if (error.code === '42501' || error.message?.includes('row-level security')) {\n        console.error('ðŸ”’ RLS policy denied access - signing out user')\n        await this.client.auth.signOut()\n      }\n\n      throw error\n    }\n\n    return this.mapDbRowToGameEventRow(data)\n  }\n\n  /**\n   * Delete a game event\n   */\n  async deleteGameEvent(eventId: string): Promise<void> {\n    const { error } = await this.client\n      .from('game_events')\n      .delete()\n      .eq('id', eventId)\n\n    if (error) {\n      console.error('Error deleting game event:', error)\n\n      // If it's a 403 (Forbidden) error, sign out the user\n      if (error.code === '42501' || error.message?.includes('row-level security')) {\n        console.error('ðŸ”’ RLS policy denied access - signing out user')\n        await this.client.auth.signOut()\n      }\n\n      throw error\n    }\n  }\n\n  /**\n   * Get all events for a game\n   */\n  async getGameEvents(gameId: string): Promise<GameEventRow[]> {\n    const { data, error } = await this.client\n      .from('game_events')\n      .select('*')\n      .eq('game_id', gameId)\n      .order('event_timestamp', { ascending: true })\n\n    if (error) {\n      console.error('Error fetching game events:', error)\n\n      // If it's a 403 (Forbidden) error, sign out the user\n      if (error.code === '42501' || error.message?.includes('row-level security')) {\n        console.error('ðŸ”’ RLS policy denied access - signing out user')\n        await this.client.auth.signOut()\n      }\n\n      throw error\n    }\n\n    return data.map(row => this.mapDbRowToGameEventRow(row))\n  }\n\n  /**\n   * Convert Supabase database row to GameEventRow type\n   */\n  private mapDbRowToGameEventRow(row: Database['public']['Tables']['game_events']['Row']): GameEventRow {\n    return {\n      id: row.id,\n      game_id: row.game_id,\n      event_type: row.event_type as any,\n      x_coord: row.x_coord,\n      y_coord: row.y_coord,\n      period: row.period,\n      game_time_seconds: row.game_time_seconds,\n      player_id: row.player_id,\n      situation: row.situation as any,\n      details: (row.details as any) || {},\n      event_timestamp: row.event_timestamp,\n      tracked_by: row.tracked_by,\n      created_at: row.created_at,\n      updated_at: row.updated_at,\n      notes: row.notes,\n      zone: row.zone as any,\n    }\n  }\n}\n\n/**\n * Default instance for web app\n */\nexport const gameEventsAPI = new SupabaseGameEventsAPI()\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1520, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/lib/stores/game-tracking-store-configured.ts"],"sourcesContent":["/**\n * Configured Game Tracking Store for Web App\n *\n * Exports a game tracking store configured with the Supabase API implementation.\n */\n\nimport { createGameTrackingStore } from '@hockeypilot/shared'\nimport { gameEventsAPI } from '../api/game-events.supabase'\n\n/**\n * Game tracking store configured with Supabase API for web app\n */\nexport const useGameTrackingStore = createGameTrackingStore(gameEventsAPI)\n\n// Re-export types for convenience\nexport type {\n  GameTrackingStore,\n  GameState,\n  GameStatus,\n  EventType,\n  GameSituation,\n  ShotResult,\n  ShotType,\n} from '@hockeypilot/shared'\n"],"names":[],"mappings":"AAAA;;;;CAIC;;;;AAED;AAAA;AACA;;;AAKO,MAAM,uBAAuB,IAAA,6MAAuB,EAAC,8LAAa","debugId":null}},
    {"offset": {"line": 1541, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/lib/utils/ice-surface-coordinates.ts"],"sourcesContent":["/**\n * Ice Surface Coordinate Helpers\n *\n * Utilities for working with ice surface coordinates in the game tracking system.\n *\n * Coordinate System:\n * - x: 0-200 (left to right, defensive zone â†’ offensive zone)\n * - y: 0-100 (bottom to top)\n * - Based on NHL standard rink dimensions (200 feet x 85 feet)\n *\n * Key Locations:\n * - (0, 0) = Defensive zone, bottom-left corner\n * - (100, 50) = Center ice\n * - (200, 100) = Offensive zone, top-right corner\n *\n * Standard Rink Markings:\n * - Goal lines: x = 11, x = 189 (11 feet from boards)\n * - Blue lines: x = 64, x = 136 (64 and 136 feet from end boards)\n * - Center red line: x = 100\n *\n * Zones:\n * - Defensive: x < 64 (0-63)\n * - Neutral: x 64-136\n * - Offensive: x > 136 (137-200)\n *\n * High Danger Area (Slot):\n * - x: 145-175, y: 35-65\n * - Very close to net: x: 175-189, y: 40-60\n */\n\nexport interface Coordinates {\n  x: number\n  y: number\n}\n\nexport interface ScreenCoordinates {\n  x: number\n  y: number\n}\n\nexport type Zone = 'defensive' | 'neutral' | 'offensive'\nexport type Quadrant = 'defensive_left' | 'defensive_right' | 'neutral_left' | 'neutral_right' | 'offensive_left' | 'offensive_right'\n\n// ===========================================\n// VALIDATION\n// ===========================================\n\n/**\n * Check if coordinates are within valid ice surface bounds\n * @param coords - Coordinates to validate\n * @returns True if coordinates are valid\n */\nexport function isValidCoordinate(coords: Coordinates): boolean {\n  return (\n    coords.x >= 0 &&\n    coords.x <= 200 &&\n    coords.y >= 0 &&\n    coords.y <= 100\n  )\n}\n\n/**\n * Normalize coordinates to ensure they're within bounds (clamp)\n * @param coords - Coordinates to normalize\n * @returns Normalized coordinates within valid bounds\n */\nexport function normalizeCoordinates(coords: Coordinates): Coordinates {\n  return {\n    x: Math.max(0, Math.min(200, coords.x)),\n    y: Math.max(0, Math.min(100, coords.y)),\n  }\n}\n\n// ===========================================\n// ZONE DETECTION\n// ===========================================\n\n/**\n * Determine which zone the coordinates are in\n * @param coords - Ice surface coordinates\n * @returns Zone: 'defensive', 'neutral', or 'offensive'\n */\nexport function getZone(coords: Coordinates): Zone {\n  if (coords.x < 64) return 'defensive'\n  if (coords.x <= 136) return 'neutral'\n  return 'offensive'\n}\n\n/**\n * Get the quadrant (zone + side) for coordinates\n * @param coords - Ice surface coordinates\n * @returns Quadrant identifier\n */\nexport function getQuadrant(coords: Coordinates): Quadrant {\n  const zone = getZone(coords)\n  const side = coords.y <= 50 ? 'left' : 'right'\n  return `${zone}_${side}` as Quadrant\n}\n\n// ===========================================\n// HIGH DANGER AREA DETECTION\n// ===========================================\n\n/**\n * Check if coordinates are in the high-danger slot area\n * @param coords - Ice surface coordinates\n * @returns True if in slot area (x: 145-175, y: 35-65)\n */\nexport function isInSlot(coords: Coordinates): boolean {\n  return (\n    coords.x >= 145 &&\n    coords.x <= 175 &&\n    coords.y >= 35 &&\n    coords.y <= 65\n  )\n}\n\n/**\n * Check if coordinates are in any high danger area\n * Includes slot and very close to net\n * @param coords - Ice surface coordinates\n * @returns True if in high danger area\n */\nexport function isInHighDangerArea(coords: Coordinates): boolean {\n  // Slot area\n  if (isInSlot(coords)) return true\n\n  // Very close to net (right in front of crease)\n  if (\n    coords.x >= 175 &&\n    coords.x <= 189 &&\n    coords.y >= 40 &&\n    coords.y <= 60\n  ) {\n    return true\n  }\n\n  return false\n}\n\n// ===========================================\n// CALCULATIONS\n// ===========================================\n\n/**\n * Calculate Euclidean distance between two points\n * @param from - Starting coordinates\n * @param to - Ending coordinates\n * @returns Distance in coordinate units\n */\nexport function getDistance(from: Coordinates, to: Coordinates): number {\n  const dx = to.x - from.x\n  const dy = to.y - from.y\n  return Math.sqrt(dx * dx + dy * dy)\n}\n\n// ===========================================\n// SCREEN COORDINATE CONVERSION\n// ===========================================\n\n/**\n * Convert screen coordinates (from click/tap) to ice surface coordinates\n * @param screenCoords - Screen pixel coordinates (relative to SVG container)\n * @param screenWidth - Width of the screen container in pixels\n * @param screenHeight - Height of the screen container in pixels\n * @returns Ice surface coordinates (x: 0-200, y: 0-100)\n */\nexport function screenToIce(\n  screenCoords: ScreenCoordinates,\n  screenWidth: number,\n  screenHeight: number\n): Coordinates {\n  const x = Math.round((screenCoords.x / screenWidth) * ICE_SURFACE.WIDTH)\n  const y = Math.round((screenCoords.y / screenHeight) * ICE_SURFACE.HEIGHT)\n\n  return normalizeCoordinates({ x, y })\n}\n\n/**\n * Convert ice surface coordinates to screen coordinates (for rendering)\n * @param iceCoords - Ice surface coordinates (x: 0-200, y: 0-100)\n * @param screenWidth - Width of the screen container in pixels\n * @param screenHeight - Height of the screen container in pixels\n * @returns Screen pixel coordinates\n */\nexport function iceToScreen(\n  iceCoords: Coordinates,\n  screenWidth: number,\n  screenHeight: number\n): ScreenCoordinates {\n  const x = (iceCoords.x / ICE_SURFACE.WIDTH) * screenWidth\n  const y = (iceCoords.y / ICE_SURFACE.HEIGHT) * screenHeight\n\n  return { x, y }\n}\n\n// ===========================================\n// HELPER CONSTANTS\n// ===========================================\n\nexport const ICE_SURFACE = {\n  WIDTH: 200,\n  HEIGHT: 100,\n  CENTER: { x: 100, y: 50 },\n  ZONES: {\n    DEFENSIVE_END: 64, // Blue line position (64 feet from end boards)\n    NEUTRAL_END: 136,  // Blue line position (136 feet from end boards)\n  },\n  SLOT: {\n    MIN_X: 145, // High danger area in offensive zone\n    MAX_X: 175,\n    MIN_Y: 35,\n    MAX_Y: 65,\n  },\n} as const\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4BC;;;;;;;;;;;;;;;;;;;;;;AAwBM,SAAS,kBAAkB,MAAmB;IACnD,OACE,OAAO,CAAC,IAAI,KACZ,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,KACZ,OAAO,CAAC,IAAI;AAEhB;AAOO,SAAS,qBAAqB,MAAmB;IACtD,OAAO;QACL,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,OAAO,CAAC;QACrC,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,OAAO,CAAC;IACvC;AACF;AAWO,SAAS,QAAQ,MAAmB;IACzC,IAAI,OAAO,CAAC,GAAG,IAAI,OAAO;IAC1B,IAAI,OAAO,CAAC,IAAI,KAAK,OAAO;IAC5B,OAAO;AACT;AAOO,SAAS,YAAY,MAAmB;IAC7C,MAAM,OAAO,QAAQ;IACrB,MAAM,OAAO,OAAO,CAAC,IAAI,KAAK,SAAS;IACvC,OAAO,AAAC,GAAU,OAAR,MAAK,KAAQ,OAAL;AACpB;AAWO,SAAS,SAAS,MAAmB;IAC1C,OACE,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,MACZ,OAAO,CAAC,IAAI;AAEhB;AAQO,SAAS,mBAAmB,MAAmB;IACpD,YAAY;IACZ,IAAI,SAAS,SAAS,OAAO;IAE7B,+CAA+C;IAC/C,IACE,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,MACZ,OAAO,CAAC,IAAI,IACZ;QACA,OAAO;IACT;IAEA,OAAO;AACT;AAYO,SAAS,YAAY,IAAiB,EAAE,EAAe;IAC5D,MAAM,KAAK,GAAG,CAAC,GAAG,KAAK,CAAC;IACxB,MAAM,KAAK,GAAG,CAAC,GAAG,KAAK,CAAC;IACxB,OAAO,KAAK,IAAI,CAAC,KAAK,KAAK,KAAK;AAClC;AAaO,SAAS,YACd,YAA+B,EAC/B,WAAmB,EACnB,YAAoB;IAEpB,MAAM,IAAI,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,GAAG,cAAe,YAAY,KAAK;IACvE,MAAM,IAAI,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,GAAG,eAAgB,YAAY,MAAM;IAEzE,OAAO,qBAAqB;QAAE;QAAG;IAAE;AACrC;AASO,SAAS,YACd,SAAsB,EACtB,WAAmB,EACnB,YAAoB;IAEpB,MAAM,IAAI,AAAC,UAAU,CAAC,GAAG,YAAY,KAAK,GAAI;IAC9C,MAAM,IAAI,AAAC,UAAU,CAAC,GAAG,YAAY,MAAM,GAAI;IAE/C,OAAO;QAAE;QAAG;IAAE;AAChB;AAMO,MAAM,cAAc;IACzB,OAAO;IACP,QAAQ;IACR,QAAQ;QAAE,GAAG;QAAK,GAAG;IAAG;IACxB,OAAO;QACL,eAAe;QACf,aAAa;IACf;IACA,MAAM;QACJ,OAAO;QACP,OAAO;QACP,OAAO;QACP,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 1668, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/game-tracking/ice-surface.tsx"],"sourcesContent":["'use client'\n\nimport React, { useRef, MouseEvent } from 'react'\nimport {\n  screenToIce,\n  iceToScreen,\n  type Coordinates,\n  ICE_SURFACE,\n} from '@/lib/utils/ice-surface-coordinates'\n\nexport interface IceEvent {\n  id: string\n  x: number\n  y: number\n  type: 'shot' | 'goal' | 'turnover' | 'breakout' | 'zone_entry' | 'zone_exit'\n}\n\nexport interface IceSurfaceProps {\n  width?: number | string\n  height?: number | string\n  onClick?: (coords: Coordinates) => void\n  showZones?: boolean\n  showSlot?: boolean\n  events?: IceEvent[]\n  className?: string\n  responsive?: boolean // New prop for responsive behavior\n  endsSwapped?: boolean // New prop to flip offensive/defensive ends\n}\n\nexport function IceSurface({\n  width,\n  height,\n  onClick,\n  showZones = false,\n  showSlot = false,\n  events = [],\n  className = '',\n  responsive = true, // Default to responsive\n  endsSwapped = false,\n}: IceSurfaceProps) {\n  const svgRef = useRef<SVGSVGElement>(null)\n\n  // For responsive mode, use 100% width and auto height\n  const svgWidth = responsive ? '100%' : (width || 400)\n  const svgHeight = responsive ? 'auto' : (height || 200)\n\n  const handleClick = (e: MouseEvent<SVGSVGElement>) => {\n    if (!onClick) return\n\n    const svg = svgRef.current\n    if (!svg) return\n\n    // Get click position relative to SVG\n    const rect = svg.getBoundingClientRect()\n    const screenX = e.clientX - rect.left\n    const screenY = e.clientY - rect.top\n\n    // Convert to ice coordinates\n    const iceCoords = screenToIce(\n      { x: screenX, y: screenY },\n      rect.width,\n      rect.height\n    )\n\n    onClick(iceCoords)\n  }\n\n  // Convert event type to color\n  const getEventColor = (type: IceEvent['type']): string => {\n    switch (type) {\n      case 'shot':\n      case 'goal':\n        return '#3b82f6' // blue\n      case 'turnover':\n        return '#ef4444' // red\n      case 'breakout':\n        return '#10b981' // green\n      case 'zone_entry':\n      case 'zone_exit':\n        return '#f59e0b' // amber\n      default:\n        return '#6b7280' // gray\n    }\n  }\n\n  return (\n    <svg\n      ref={svgRef}\n      width={svgWidth}\n      height={svgHeight}\n      viewBox={`0 0 ${ICE_SURFACE.WIDTH} ${ICE_SURFACE.HEIGHT}`}\n      preserveAspectRatio=\"xMidYMid meet\"\n      role=\"img\"\n      aria-label=\"Hockey ice surface\"\n      onClick={handleClick}\n      className={`cursor-pointer ${responsive ? 'max-w-full' : ''} ${className}`}\n      style={{ border: '2px solid #666', display: 'block', borderRadius: '8px' }}\n    >\n      {/* Ice surface background - white ice */}\n      <rect\n        x={0}\n        y={0}\n        width={ICE_SURFACE.WIDTH}\n        height={ICE_SURFACE.HEIGHT}\n        fill=\"#ffffff\"\n        rx={4}\n      />\n\n      {/* Boards (darker border inside) */}\n      <rect\n        x={1}\n        y={1}\n        width={ICE_SURFACE.WIDTH - 2}\n        height={ICE_SURFACE.HEIGHT - 2}\n        fill=\"none\"\n        stroke=\"#333\"\n        strokeWidth={2}\n        rx={4}\n      />\n\n      {/* Goal lines (thin red lines at ends) - 11 feet from boards */}\n      <line\n        x1={11}\n        y1={0}\n        x2={11}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n      <line\n        x1={189}\n        y1={0}\n        x2={189}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n\n      {/* Blue line - Defensive zone (64 feet from end) */}\n      <line\n        x1={64}\n        y1={0}\n        x2={64}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#0066cc\"\n        strokeWidth={2}\n      />\n\n      {/* Blue line - Offensive zone (136 feet from end) */}\n      <line\n        x1={136}\n        y1={0}\n        x2={136}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#0066cc\"\n        strokeWidth={2}\n      />\n\n      {/* Red center line */}\n      <line\n        x1={ICE_SURFACE.CENTER.x}\n        y1={0}\n        x2={ICE_SURFACE.CENTER.x}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#cc0000\"\n        strokeWidth={2}\n      />\n\n      {/* Center ice circle (15 foot radius) */}\n      <circle\n        cx={100}\n        cy={50}\n        r={15}\n        fill=\"none\"\n        stroke=\"#0066cc\"\n        strokeWidth={1.5}\n      />\n\n      {/* Center ice dot */}\n      <circle\n        cx={100}\n        cy={50}\n        r={1}\n        fill=\"#0066cc\"\n      />\n\n      {/* Defensive zone faceoff circles - 20 feet from goal line, 22 feet from boards */}\n      <circle\n        cx={31}\n        cy={26}\n        r={15}\n        fill=\"none\"\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n      <circle\n        cx={31}\n        cy={74}\n        r={15}\n        fill=\"none\"\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n\n      {/* Offensive zone faceoff circles */}\n      <circle\n        cx={169}\n        cy={26}\n        r={15}\n        fill=\"none\"\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n      <circle\n        cx={169}\n        cy={74}\n        r={15}\n        fill=\"none\"\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n\n      {/* Faceoff dots in end zone circles */}\n      <circle cx={31} cy={26} r={1.5} fill=\"#cc0000\" />\n      <circle cx={31} cy={74} r={1.5} fill=\"#cc0000\" />\n      <circle cx={169} cy={26} r={1.5} fill=\"#cc0000\" />\n      <circle cx={169} cy={74} r={1.5} fill=\"#cc0000\" />\n\n      {/* Neutral zone faceoff dots - 5 feet outside blue lines */}\n      <circle cx={69} cy={26} r={1.5} fill=\"#cc0000\" />\n      <circle cx={69} cy={74} r={1.5} fill=\"#cc0000\" />\n      <circle cx={131} cy={26} r={1.5} fill=\"#cc0000\" />\n      <circle cx={131} cy={74} r={1.5} fill=\"#cc0000\" />\n\n      {/* Goal creases - Defensive (4 foot radius semi-circle) */}\n      <path\n        d=\"M 7 45 A 6 6 0 0 1 7 55 L 11 55 L 11 45 Z\"\n        fill=\"rgba(173, 216, 230, 0.4)\"\n        stroke=\"#0066cc\"\n        strokeWidth={1.5}\n      />\n\n      {/* Goal creases - Offensive */}\n      <path\n        d=\"M 193 45 A 6 6 0 0 0 193 55 L 189 55 L 189 45 Z\"\n        fill=\"rgba(173, 216, 230, 0.4)\"\n        stroke=\"#0066cc\"\n        strokeWidth={1.5}\n      />\n\n      {/* Optional zone shading */}\n      {showZones && (\n        <>\n          {/* Defensive zone shading */}\n          <rect\n            x={0}\n            y={0}\n            width={64}\n            height={ICE_SURFACE.HEIGHT}\n            fill=\"rgba(200, 220, 255, 0.15)\"\n            data-zone=\"defensive\"\n          />\n\n          {/* Offensive zone shading */}\n          <rect\n            x={136}\n            y={0}\n            width={64}\n            height={ICE_SURFACE.HEIGHT}\n            fill=\"rgba(255, 220, 220, 0.15)\"\n            data-zone=\"offensive\"\n          />\n        </>\n      )}\n\n      {/* High danger zone (slot) */}\n      {showSlot && (() => {\n        // Calculate slot position based on whether ends are swapped\n        const slotMinX = endsSwapped ? (200 - ICE_SURFACE.SLOT.MAX_X) : ICE_SURFACE.SLOT.MIN_X\n        const slotMaxX = endsSwapped ? (200 - ICE_SURFACE.SLOT.MIN_X) : ICE_SURFACE.SLOT.MAX_X\n        const slotWidth = slotMaxX - slotMinX\n        const slotCenterX = slotMinX + slotWidth / 2\n\n        return (\n          <>\n            <rect\n              x={slotMinX}\n              y={ICE_SURFACE.SLOT.MIN_Y}\n              width={slotWidth}\n              height={ICE_SURFACE.SLOT.MAX_Y - ICE_SURFACE.SLOT.MIN_Y}\n              fill=\"rgba(255, 100, 100, 0.2)\"\n              stroke=\"#cc0000\"\n              strokeWidth={1}\n              strokeDasharray=\"2,2\"\n              data-slot=\"true\"\n            />\n            <text\n              x={slotCenterX}\n              y={ICE_SURFACE.SLOT.MIN_Y - 2}\n              fontSize=\"4\"\n              fill=\"#cc0000\"\n              textAnchor=\"middle\"\n              fontWeight=\"bold\"\n            >\n              HIGH DANGER\n            </text>\n          </>\n        )\n      })()}\n\n      {/* Zone labels */}\n      <text\n        x={32}\n        y={8}\n        fontSize=\"6\"\n        fill=\"#666\"\n        textAnchor=\"middle\"\n        fontWeight=\"bold\"\n        opacity={0.7}\n      >\n        {endsSwapped ? 'OFFENSIVE ZONE' : 'DEFENSIVE ZONE'}\n      </text>\n      <text\n        x={100}\n        y={8}\n        fontSize=\"6\"\n        fill=\"#666\"\n        textAnchor=\"middle\"\n        fontWeight=\"bold\"\n        opacity={0.7}\n      >\n        NEUTRAL ZONE\n      </text>\n      <text\n        x={168}\n        y={8}\n        fontSize=\"6\"\n        fill=\"#666\"\n        textAnchor=\"middle\"\n        fontWeight=\"bold\"\n        opacity={0.7}\n      >\n        {endsSwapped ? 'DEFENSIVE ZONE' : 'OFFENSIVE ZONE'}\n      </text>\n\n      {/* Event markers */}\n      {events.map((event) => {\n        const screenPos = iceToScreen(\n          { x: event.x, y: event.y },\n          ICE_SURFACE.WIDTH,\n          ICE_SURFACE.HEIGHT\n        )\n\n        return (\n          <circle\n            key={event.id}\n            cx={event.x}\n            cy={event.y}\n            r={3}\n            fill={getEventColor(event.type)}\n            stroke=\"#fff\"\n            strokeWidth={1}\n            opacity={0.8}\n            data-event-marker=\"true\"\n            data-event-type={event.type}\n          />\n        )\n      })}\n    </svg>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2144, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/game-tracking/player-selector.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport type { Player } from '@/lib/stores/game-tracking-store-configured'\n\nexport interface PlayerSelectorProps {\n  players: Player[]\n  onSelect: (playerId: string) => void\n  onCancel?: () => void\n  title?: string\n  filterPosition?: 'forward' | 'defense' | 'goalie'\n  quickSelect?: boolean\n}\n\nexport function PlayerSelector({\n  players,\n  onSelect,\n  onCancel,\n  title = 'Select Player',\n  filterPosition,\n  quickSelect = false,\n}: PlayerSelectorProps) {\n  // Filter players by position if specified\n  const filteredPlayers = filterPosition\n    ? players.filter((p) => p.position === filterPosition)\n    : players\n\n  // Sort by jersey number\n  const sortedPlayers = [...filteredPlayers].sort(\n    (a, b) => a.jerseyNumber - b.jerseyNumber\n  )\n\n  if (players.length === 0) {\n    return (\n      <div className=\"p-8 text-center\">\n        <p className=\"text-gray-500\">No players available</p>\n        {onCancel && (\n          <button\n            onClick={onCancel}\n            className=\"mt-4 px-4 py-2 text-sm text-gray-600 hover:text-gray-800\"\n          >\n            Cancel\n          </button>\n        )}\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"w-full\">\n      {/* Title - Only show if not in modal/sheet with title */}\n      {!quickSelect && title && (\n        <div className=\"mb-4\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">{title}</h3>\n        </div>\n      )}\n\n      {/* Player Grid - Optimized for mobile touch */}\n      <div className=\"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 md:gap-3 p-4\">\n        {sortedPlayers.map((player) => (\n          <button\n            key={player.id}\n            onClick={() => onSelect(player.id)}\n            className={`\n              flex flex-col items-center justify-center\n              p-3 md:p-4 rounded-lg border-2 border-gray-300\n              hover:border-blue-500 hover:bg-blue-50\n              active:bg-blue-100 active:border-blue-600\n              transition-all duration-150\n              touch-manipulation\n              ${quickSelect ? 'min-h-[88px]' : 'min-h-[80px]'}\n            `}\n            aria-label={`Player ${player.jerseyNumber} ${player.lastName}`}\n          >\n            {/* Jersey Number - Larger on mobile for easier scanning */}\n            <span\n              className={`\n                font-bold text-gray-900\n                ${quickSelect ? 'text-3xl md:text-4xl' : 'text-2xl md:text-3xl'}\n              `}\n            >\n              {player.jerseyNumber}\n            </span>\n\n            {/* Player Name - Format: F. Last */}\n            <span className=\"text-xs md:text-sm text-gray-600 mt-1 text-center truncate w-full px-1\">\n              {player.firstName[0]}. {player.lastName}\n            </span>\n\n            {/* Position Badge */}\n            <span\n              className={`\n                text-[10px] md:text-xs uppercase font-medium mt-1\n                ${\n                  player.position === 'forward'\n                    ? 'text-blue-600'\n                    : player.position === 'defense'\n                      ? 'text-green-600'\n                      : 'text-purple-600'\n                }\n              `}\n            >\n              {player.position[0]}\n            </span>\n          </button>\n        ))}\n      </div>\n\n      {/* Cancel Button - Hidden when using bottom sheet (bottom sheet has its own close) */}\n      {onCancel && !quickSelect && (\n        <div className=\"mt-4 mb-4 flex justify-center px-4\">\n          <button\n            onClick={onCancel}\n            className=\"w-full md:w-auto px-6 py-3 md:py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors\"\n          >\n            Cancel\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAcO,SAAS,eAAe,KAOT;QAPS,EAC7B,OAAO,EACP,QAAQ,EACR,QAAQ,EACR,QAAQ,eAAe,EACvB,cAAc,EACd,cAAc,KAAK,EACC,GAPS;IAQ7B,0CAA0C;IAC1C,MAAM,kBAAkB,iBACpB,QAAQ,MAAM,CAAC,CAAC,IAAM,EAAE,QAAQ,KAAK,kBACrC;IAEJ,wBAAwB;IACxB,MAAM,gBAAgB;WAAI;KAAgB,CAAC,IAAI,CAC7C,CAAC,GAAG,IAAM,EAAE,YAAY,GAAG,EAAE,YAAY;IAG3C,IAAI,QAAQ,MAAM,KAAK,GAAG;QACxB,qBACE,4MAAC;YAAI,WAAU;;8BACb,4MAAC;oBAAE,WAAU;8BAAgB;;;;;;gBAC5B,0BACC,4MAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;IAMT;IAEA,qBACE,4MAAC;QAAI,WAAU;;YAEZ,CAAC,eAAe,uBACf,4MAAC;gBAAI,WAAU;0BACb,cAAA,4MAAC;oBAAG,WAAU;8BAAuC;;;;;;;;;;;0BAKzD,4MAAC;gBAAI,WAAU;0BACZ,cAAc,GAAG,CAAC,CAAC,uBAClB,4MAAC;wBAEC,SAAS,IAAM,SAAS,OAAO,EAAE;wBACjC,WAAW,AAAC,sUAOsC,OAA9C,cAAc,iBAAiB,gBAAe;wBAElD,cAAY,AAAC,UAAgC,OAAvB,OAAO,YAAY,EAAC,KAAmB,OAAhB,OAAO,QAAQ;;0CAG5D,4MAAC;gCACC,WAAW,AAAC,8DAEsD,OAA9D,cAAc,yBAAyB,wBAAuB;0CAGjE,OAAO,YAAY;;;;;;0CAItB,4MAAC;gCAAK,WAAU;;oCACb,OAAO,SAAS,CAAC,EAAE;oCAAC;oCAAG,OAAO,QAAQ;;;;;;;0CAIzC,4MAAC;gCACC,WAAW,AAAC,wFAQT,OALC,OAAO,QAAQ,KAAK,YAChB,kBACA,OAAO,QAAQ,KAAK,YAClB,mBACA,mBACP;0CAGF,OAAO,QAAQ,CAAC,EAAE;;;;;;;uBAzChB,OAAO,EAAE;;;;;;;;;;YAgDnB,YAAY,CAAC,6BACZ,4MAAC;gBAAI,WAAU;0BACb,cAAA,4MAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;;;;;;AAOX;KA3GgB","debugId":null}},
    {"offset": {"line": 2284, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/game-tracking/quick-event-buttons.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport type { EventType } from '@/lib/stores/game-tracking-store-configured'\n\nexport interface QuickEventButtonsProps {\n  onEventSelect: (eventType: EventType, prefilledDetails?: Record<string, unknown>) => void\n  disabled?: boolean\n  compact?: boolean\n  eventTypes?: EventType[]\n  showIcons?: boolean\n  selectedEventType?: EventType | null\n  sidebarMode?: boolean\n}\n\ninterface EventButton {\n  type: EventType\n  label: string\n  color: string\n  bgHover: string\n  icon?: string\n  prefilledDetails?: Record<string, unknown>\n}\n\nconst defaultEventButtons: EventButton[] = [\n  {\n    type: 'shot',\n    label: 'Shot',\n    color: 'bg-blue-500 hover:bg-blue-600 text-white',\n    bgHover: 'hover:bg-blue-50',\n    icon: 'ðŸ’',\n  },\n  {\n    type: 'shot',\n    label: 'Goal',\n    color: 'bg-green-500 hover:bg-green-600 text-white',\n    bgHover: 'hover:bg-green-50',\n    icon: 'ðŸŽ¯',\n    prefilledDetails: { result: 'goal' },\n  },\n  {\n    type: 'turnover',\n    label: 'Turnover',\n    color: 'bg-red-500 hover:bg-red-600 text-white',\n    bgHover: 'hover:bg-red-50',\n    icon: 'âŒ',\n  },\n  {\n    type: 'breakout',\n    label: 'Breakout',\n    color: 'bg-green-600 hover:bg-green-700 text-white',\n    bgHover: 'hover:bg-green-50',\n    icon: 'â¬†ï¸',\n  },\n  {\n    type: 'zone_entry',\n    label: 'Zone Entry',\n    color: 'bg-amber-500 hover:bg-amber-600 text-white',\n    bgHover: 'hover:bg-amber-50',\n    icon: 'âž¡ï¸',\n  },\n  {\n    type: 'faceoff',\n    label: 'Faceoff',\n    color: 'bg-purple-500 hover:bg-purple-600 text-white',\n    bgHover: 'hover:bg-purple-50',\n    icon: 'âš«',\n  },\n]\n\nexport function QuickEventButtons({\n  onEventSelect,\n  disabled = false,\n  compact = false,\n  eventTypes,\n  showIcons = false,\n  selectedEventType = null,\n  sidebarMode = false,\n}: QuickEventButtonsProps) {\n  // Filter event buttons if specific types are provided\n  let buttons = eventTypes\n    ? defaultEventButtons.filter((btn) => eventTypes.includes(btn.type))\n    : defaultEventButtons\n\n  // In sidebar mode, remove Goal and Faceoff buttons\n  if (sidebarMode) {\n    buttons = buttons.filter((btn) =>\n      !(btn.label === 'Goal' || btn.label === 'Faceoff')\n    )\n  }\n\n  return (\n    <div\n      className={`grid ${\n        compact ? 'grid-cols-2 gap-2' : sidebarMode ? 'grid-cols-1 gap-2' : 'grid-cols-2 sm:grid-cols-3 gap-3'\n      } w-full`}\n    >\n      {buttons.map((button, index) => {\n        // Check if this button is selected (handle both direct match and Goal button which is shot with result='goal')\n        const isSelected = selectedEventType === button.type &&\n          (!button.prefilledDetails || selectedEventType === 'shot')\n\n        return (\n          <button\n            key={`${button.type}-${index}`}\n            onClick={() => onEventSelect(button.type, button.prefilledDetails)}\n            disabled={disabled}\n            className={`\n              ${button.color}\n              ${sidebarMode ? 'py-2.5 px-2 text-xs' : compact ? 'py-3 px-3 text-sm' : 'py-5 md:py-4 px-4 md:px-6 text-base'}\n              font-semibold rounded-lg\n              shadow-md\n              transition-all duration-150\n              active:scale-95\n              disabled:opacity-50 disabled:cursor-not-allowed\n              ${!disabled ? 'hover:shadow-lg' : ''}\n              touch-manipulation\n              ${sidebarMode ? 'min-h-[48px]' : 'min-h-[56px]'}\n              ${isSelected ? 'ring-[6px] ring-yellow-300 scale-110 shadow-2xl brightness-110' : ''}\n            `}\n            aria-label={button.label}\n          >\n            <div className=\"flex items-center justify-center gap-1.5\">\n              {showIcons && button.icon && !sidebarMode && (\n                <span className='text-xl md:text-2xl'>{button.icon}</span>\n              )}\n              <span className={sidebarMode ? 'text-xs' : 'text-sm md:text-base'}>{button.label}</span>\n            </div>\n          </button>\n        )\n      })}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAwBA,MAAM,sBAAqC;IACzC;QACE,MAAM;QACN,OAAO;QACP,OAAO;QACP,SAAS;QACT,MAAM;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,OAAO;QACP,SAAS;QACT,MAAM;QACN,kBAAkB;YAAE,QAAQ;QAAO;IACrC;IACA;QACE,MAAM;QACN,OAAO;QACP,OAAO;QACP,SAAS;QACT,MAAM;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,OAAO;QACP,SAAS;QACT,MAAM;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,OAAO;QACP,SAAS;QACT,MAAM;IACR;IACA;QACE,MAAM;QACN,OAAO;QACP,OAAO;QACP,SAAS;QACT,MAAM;IACR;CACD;AAEM,SAAS,kBAAkB,KAQT;QARS,EAChC,aAAa,EACb,WAAW,KAAK,EAChB,UAAU,KAAK,EACf,UAAU,EACV,YAAY,KAAK,EACjB,oBAAoB,IAAI,EACxB,cAAc,KAAK,EACI,GARS;IAShC,sDAAsD;IACtD,IAAI,UAAU,aACV,oBAAoB,MAAM,CAAC,CAAC,MAAQ,WAAW,QAAQ,CAAC,IAAI,IAAI,KAChE;IAEJ,mDAAmD;IACnD,IAAI,aAAa;QACf,UAAU,QAAQ,MAAM,CAAC,CAAC,MACxB,CAAC,CAAC,IAAI,KAAK,KAAK,UAAU,IAAI,KAAK,KAAK,SAAS;IAErD;IAEA,qBACE,4MAAC;QACC,WAAW,AAAC,QAEX,OADC,UAAU,sBAAsB,cAAc,sBAAsB,oCACrE;kBAEA,QAAQ,GAAG,CAAC,CAAC,QAAQ;YACpB,+GAA+G;YAC/G,MAAM,aAAa,sBAAsB,OAAO,IAAI,IAClD,CAAC,CAAC,OAAO,gBAAgB,IAAI,sBAAsB,MAAM;YAE3D,qBACE,4MAAC;gBAEC,SAAS,IAAM,cAAc,OAAO,IAAI,EAAE,OAAO,gBAAgB;gBACjE,UAAU;gBACV,WAAW,AAAC,mBAER,OADA,OAAO,KAAK,EAAC,oBAOb,OANA,cAAc,wBAAwB,UAAU,sBAAsB,uCAAsC,8NAQ5G,OAFA,CAAC,WAAW,oBAAoB,IAAG,sDAGnC,OADA,cAAc,iBAAiB,gBAAe,oBACqC,OAAnF,aAAa,mEAAmE,IAAG;gBAEvF,cAAY,OAAO,KAAK;0BAExB,cAAA,4MAAC;oBAAI,WAAU;;wBACZ,aAAa,OAAO,IAAI,IAAI,CAAC,6BAC5B,4MAAC;4BAAK,WAAU;sCAAuB,OAAO,IAAI;;;;;;sCAEpD,4MAAC;4BAAK,WAAW,cAAc,YAAY;sCAAyB,OAAO,KAAK;;;;;;;;;;;;eAtB7E,AAAC,GAAiB,OAAf,OAAO,IAAI,EAAC,KAAS,OAAN;;;;;QA0B7B;;;;;;AAGN;KA/DgB","debugId":null}},
    {"offset": {"line": 2403, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/ui/bottom-sheet.tsx"],"sourcesContent":["'use client'\n\nimport React, { useEffect, useRef, useState } from 'react'\n\nexport interface BottomSheetProps {\n  isOpen: boolean\n  onClose: () => void\n  children: React.ReactNode\n  title?: string\n  snapPoint?: number // Height as percentage of viewport (0-100)\n  showHandle?: boolean\n  closeOnBackdropClick?: boolean\n  className?: string\n}\n\nexport function BottomSheet({\n  isOpen,\n  onClose,\n  children,\n  title,\n  snapPoint = 75, // Default to 75% of viewport height\n  showHandle = true,\n  closeOnBackdropClick = true,\n  className = '',\n}: BottomSheetProps) {\n  const sheetRef = useRef<HTMLDivElement>(null)\n  const [startY, setStartY] = useState<number | null>(null)\n  const [currentY, setCurrentY] = useState<number | null>(null)\n  const [isDragging, setIsDragging] = useState(false)\n\n  // Lock body scroll when sheet is open\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden'\n    } else {\n      document.body.style.overflow = ''\n    }\n\n    return () => {\n      document.body.style.overflow = ''\n    }\n  }, [isOpen])\n\n  // Handle touch start\n  const handleTouchStart = (e: React.TouchEvent) => {\n    setStartY(e.touches[0].clientY)\n    setIsDragging(true)\n  }\n\n  // Handle touch move\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (startY === null) return\n\n    const currentTouch = e.touches[0].clientY\n    setCurrentY(currentTouch)\n\n    // Only allow dragging down\n    if (currentTouch > startY) {\n      const sheet = sheetRef.current\n      if (sheet) {\n        const delta = currentTouch - startY\n        sheet.style.transform = `translateY(${delta}px)`\n      }\n    }\n  }\n\n  // Handle touch end\n  const handleTouchEnd = () => {\n    if (startY !== null && currentY !== null) {\n      const delta = currentY - startY\n\n      // If dragged down more than 100px, close the sheet\n      if (delta > 100) {\n        onClose()\n      } else {\n        // Snap back to original position\n        const sheet = sheetRef.current\n        if (sheet) {\n          sheet.style.transform = 'translateY(0)'\n        }\n      }\n    }\n\n    setStartY(null)\n    setCurrentY(null)\n    setIsDragging(false)\n  }\n\n  if (!isOpen) return null\n\n  return (\n    <>\n      {/* Backdrop */}\n      <div\n        className=\"fixed inset-0 bg-black/50 z-40 transition-opacity duration-300\"\n        onClick={closeOnBackdropClick ? onClose : undefined}\n        aria-hidden=\"true\"\n      />\n\n      {/* Bottom Sheet */}\n      <div\n        ref={sheetRef}\n        className={`\n          fixed bottom-0 left-0 right-0 z-50\n          bg-white rounded-t-2xl shadow-2xl\n          transition-transform duration-300 ease-out\n          ${isDragging ? '' : 'transform-gpu'}\n          ${className}\n        `}\n        style={{\n          maxHeight: `${snapPoint}vh`,\n          transform: isOpen ? 'translateY(0)' : 'translateY(100%)',\n        }}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby={title ? 'bottom-sheet-title' : undefined}\n      >\n        {/* Handle for dragging */}\n        {showHandle && (\n          <div\n            className=\"flex justify-center pt-3 pb-2 cursor-grab active:cursor-grabbing\"\n            onTouchStart={handleTouchStart}\n            onTouchMove={handleTouchMove}\n            onTouchEnd={handleTouchEnd}\n          >\n            <div className=\"w-12 h-1.5 bg-gray-300 rounded-full\" />\n          </div>\n        )}\n\n        {/* Header with title */}\n        {title && (\n          <div className=\"flex items-center justify-between px-4 py-3 border-b border-gray-200\">\n            <h2 id=\"bottom-sheet-title\" className=\"text-lg font-semibold text-gray-900\">\n              {title}\n            </h2>\n            <button\n              onClick={onClose}\n              className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-gray-100\"\n              aria-label=\"Close\"\n            >\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                className=\"h-6 w-6\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path\n                  strokeLinecap=\"round\"\n                  strokeLinejoin=\"round\"\n                  strokeWidth={2}\n                  d=\"M6 18L18 6M6 6l12 12\"\n                />\n              </svg>\n            </button>\n          </div>\n        )}\n\n        {/* Content */}\n        <div\n          className=\"overflow-y-auto pb-6\"\n          style={{\n            maxHeight: title\n              ? `calc(${snapPoint}vh - 60px)` // Account for header\n              : `calc(${snapPoint}vh - 30px)`, // Account for handle only\n          }}\n        >\n          {children}\n        </div>\n      </div>\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2595, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/game-tracking/event-logger.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { useGameTrackingStore } from '@/lib/stores/game-tracking-store-configured'\nimport { IceSurface } from './ice-surface'\nimport { PlayerSelector } from './player-selector'\nimport { QuickEventButtons } from './quick-event-buttons'\nimport { BottomSheet } from '@/components/ui/bottom-sheet'\nimport type { Coordinates } from '@/lib/utils/ice-surface-coordinates'\nimport type { ShotResult } from '@/lib/stores/game-tracking-store-configured'\n\nexport interface EventLoggerProps {\n  showZones?: boolean\n  showSlot?: boolean\n  endsSwapped?: boolean\n  // Remove fixed width/height props - now fully responsive\n}\n\nexport function EventLogger({\n  showZones = true,\n  showSlot = true,\n  endsSwapped = false,\n}: EventLoggerProps) {\n  const {\n    gameState,\n    loggingFlow,\n    players,\n    events,\n    startEventLogging,\n    startLocationFirst,\n    setCoordinates,\n    setEventType,\n    setPlayer,\n    setEventDetails,\n    completeEvent,\n    cancelEventLogging,\n  } = useGameTrackingStore()\n\n  // Filter events to only show current period\n  const currentPeriodEvents = events.filter(e => e.period === gameState.period)\n\n  // Coordinate transformation for swapped ends\n  const transformCoords = (coords: Coordinates): Coordinates => {\n    if (!endsSwapped) return coords\n    return { x: 200 - coords.x, y: coords.y }\n  }\n\n  // Inverse transformation (when user clicks to log event)\n  const inverseTransformCoords = (coords: Coordinates): Coordinates => {\n    if (!endsSwapped) return coords\n    return { x: 200 - coords.x, y: coords.y }\n  }\n\n  // Control bottom sheet for player selection\n  const [showPlayerSheet, setShowPlayerSheet] = useState(false)\n\n  // Open player selection bottom sheet when step changes to select_player\n  useEffect(() => {\n    if (loggingFlow.step === 'select_player') {\n      setShowPlayerSheet(true)\n    } else {\n      setShowPlayerSheet(false)\n    }\n  }, [loggingFlow.step])\n\n  // Handle ice surface click\n  const handleIceClick = (coords: Coordinates) => {\n    if (loggingFlow.step === 'idle' || loggingFlow.step === 'select_location') {\n      // Transform coordinates if ends are swapped (convert back to canonical form)\n      const canonicalCoords = inverseTransformCoords(coords)\n\n      // If in idle state, start the location-first flow\n      if (loggingFlow.step === 'idle') {\n        startLocationFirst()\n      }\n\n      // Set the coordinates\n      setCoordinates(canonicalCoords)\n    }\n  }\n\n  // Handle event type selection\n  const handleEventTypeSelect = (eventType: string, prefilledDetails?: Record<string, unknown>) => {\n    // If we're in the select_event_type step (after clicking ice), use setEventType\n    if (loggingFlow.step === 'select_event_type') {\n      setEventType(eventType as any, prefilledDetails)\n    } else {\n      // Old flow: start with event type first\n      startEventLogging(eventType as any, undefined, prefilledDetails)\n    }\n  }\n\n  // Handle player selection\n  const handlePlayerSelect = (playerId: string) => {\n    setPlayer(playerId)\n    setShowPlayerSheet(false) // Close the bottom sheet\n\n    // If this is not a shot, complete immediately\n    // For shots with pre-filled result (like goal), also complete immediately\n    if (loggingFlow.eventType !== 'shot' || loggingFlow.details.result) {\n      // Auto-complete for non-shot events or shots with result already set\n      setTimeout(() => {\n        completeEvent()\n      }, 100)\n    }\n  }\n\n  // Handle bottom sheet close\n  const handlePlayerSheetClose = () => {\n    setShowPlayerSheet(false)\n    cancelEventLogging()\n  }\n\n  // Handle shot result selection\n  const handleShotResultSelect = (result: ShotResult) => {\n    setEventDetails({ result })\n    completeEvent()\n  }\n\n  // Check if game is completed\n  const isGameCompleted = gameState.status === 'completed'\n\n  // Render based on current step\n  const renderContent = () => {\n    switch (loggingFlow.step) {\n      case 'idle':\n        return (\n          <div className=\"h-full flex flex-col\">\n            {/* Game Completed Message */}\n            {isGameCompleted && (\n              <div className=\"bg-yellow-50 border-2 border-yellow-400 rounded-lg p-3 md:p-4 mb-2\">\n                <div className=\"flex items-start gap-2\">\n                  <span className=\"text-2xl\">ðŸ</span>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-bold text-yellow-900 text-sm md:text-base mb-1\">\n                      Game Ended\n                    </h3>\n                    <p className=\"text-xs md:text-sm text-yellow-800\">\n                      This game has been ended. You cannot add new events to a completed game.\n                      Use the \"New Game\" button to start tracking a new game.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Ice Surface - Clickable and fills remaining space */}\n            <div className={`${isGameCompleted ? 'flex-1' : 'h-full'} bg-white rounded-lg shadow p-2 md:p-3 min-h-0`}>\n              <div className=\"w-full h-full flex items-center justify-center\">\n                <IceSurface\n                  onClick={!isGameCompleted ? handleIceClick : undefined}\n                  showZones={showZones}\n                  showSlot={showSlot}\n                  responsive={true}\n                  endsSwapped={endsSwapped}\n                  events={currentPeriodEvents.map((e) => {\n                    const coords = e.coordinates ? transformCoords(e.coordinates) : { x: 0, y: 0 }\n                    return {\n                      id: e.id,\n                      x: coords.x,\n                      y: coords.y,\n                      type: e.eventType as any,\n                    }\n                  })}\n                />\n              </div>\n            </div>\n          </div>\n        )\n\n      case 'select_location':\n        return (\n          <div className=\"space-y-2 md:space-y-3 landscape:h-full landscape:flex landscape:flex-col\">\n            {/* Prompt - Hidden in landscape, shown in portrait */}\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-2 md:p-3 landscape:hidden\">\n              <p className=\"text-blue-900 font-medium text-xs md:text-sm\">\n                Tap the ice surface where the {loggingFlow.eventType} occurred\n              </p>\n            </div>\n\n            <div className=\"bg-white rounded-lg shadow p-2 md:p-3 landscape:p-1.5 landscape:flex-1 landscape:min-h-0\">\n              <div className=\"w-full landscape:h-full landscape:flex landscape:items-center landscape:justify-center\">\n                <IceSurface\n                  onClick={handleIceClick}\n                  showZones={showZones}\n                  showSlot={showSlot}\n                  responsive={true}\n                  endsSwapped={endsSwapped}\n                  events={currentPeriodEvents.map((e) => {\n                    const coords = e.coordinates ? transformCoords(e.coordinates) : { x: 0, y: 0 }\n                    return {\n                      id: e.id,\n                      x: coords.x,\n                      y: coords.y,\n                      type: e.eventType as any,\n                    }\n                  })}\n                />\n              </div>\n            </div>\n\n            <button\n              onClick={cancelEventLogging}\n              className=\"w-full py-2 text-xs md:text-sm text-gray-600 hover:text-gray-800 font-medium landscape:hidden\"\n            >\n              Cancel\n            </button>\n          </div>\n        )\n\n      case 'select_event_type':\n        return (\n          <div className=\"h-full flex flex-col\">\n            {/* Prompt */}\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-2 md:p-3 mb-2\">\n              <p className=\"text-blue-900 font-medium text-xs md:text-sm text-center\">\n                What type of event occurred?\n              </p>\n              {loggingFlow.coordinates && (\n                <p className=\"text-xs text-blue-700 mt-1 text-center\">\n                  Location: ({loggingFlow.coordinates.x.toFixed(0)}, {loggingFlow.coordinates.y.toFixed(0)})\n                </p>\n              )}\n            </div>\n\n            {/* Event Type Buttons */}\n            <div className=\"bg-white rounded-lg shadow p-3 md:p-4\">\n              <QuickEventButtons onEventSelect={handleEventTypeSelect} showIcons={true} />\n            </div>\n\n            {/* Cancel Button */}\n            <button\n              onClick={cancelEventLogging}\n              className=\"mt-2 w-full py-2 text-xs md:text-sm text-gray-600 hover:text-gray-800 font-medium\"\n            >\n              Cancel\n            </button>\n\n            {/* Ice Surface in background - smaller, for reference */}\n            <div className=\"flex-1 mt-2 bg-white rounded-lg shadow p-2 opacity-50 min-h-0\">\n              <div className=\"w-full h-full flex items-center justify-center\">\n                <IceSurface\n                  showZones={showZones}\n                  showSlot={showSlot}\n                  responsive={true}\n                  endsSwapped={endsSwapped}\n                  events={currentPeriodEvents.map((e) => {\n                    const coords = e.coordinates ? transformCoords(e.coordinates) : { x: 0, y: 0 }\n                    return {\n                      id: e.id,\n                      x: coords.x,\n                      y: coords.y,\n                      type: e.eventType as any,\n                    }\n                  })}\n                />\n              </div>\n            </div>\n          </div>\n        )\n\n      case 'select_player':\n        // Player selection now happens in bottom sheet\n        // Show the ice surface with a prompt\n        return (\n          <div className=\"space-y-2 md:space-y-3 landscape:h-full landscape:flex landscape:flex-col\">\n            {/* Prompt - Hidden in landscape, shown in portrait */}\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-2 md:p-3 landscape:hidden\">\n              <p className=\"text-blue-900 font-medium text-xs md:text-sm\">\n                Selecting player for {loggingFlow.eventType}...\n              </p>\n              {loggingFlow.coordinates && (\n                <p className=\"text-xs text-blue-700 mt-1\">\n                  Location: ({loggingFlow.coordinates.x.toFixed(0)}, {loggingFlow.coordinates.y.toFixed(0)})\n                </p>\n              )}\n            </div>\n\n            {/* Show ice surface with events in background */}\n            <div className=\"bg-white rounded-lg shadow p-2 md:p-3 opacity-50 landscape:opacity-100 landscape:p-1.5 landscape:flex-1 landscape:min-h-0\">\n              <div className=\"w-full landscape:h-full landscape:flex landscape:items-center landscape:justify-center\">\n                <IceSurface\n                  showZones={showZones}\n                  showSlot={showSlot}\n                  responsive={true}\n                  endsSwapped={endsSwapped}\n                  events={currentPeriodEvents.map((e) => {\n                    const coords = e.coordinates ? transformCoords(e.coordinates) : { x: 0, y: 0 }\n                    return {\n                      id: e.id,\n                      x: coords.x,\n                      y: coords.y,\n                      type: e.eventType as any,\n                    }\n                  })}\n                />\n              </div>\n            </div>\n          </div>\n        )\n\n      case 'select_details':\n        // Shot result selection\n        if (loggingFlow.eventType === 'shot' || loggingFlow.eventType === 'goal') {\n          return (\n            <div className=\"space-y-2 md:space-y-3 landscape:h-full landscape:flex landscape:flex-col landscape:justify-center\">\n              {/* Prompt - Hidden in landscape, shown in portrait */}\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-2 md:p-3 landscape:hidden\">\n                <p className=\"text-blue-900 font-medium text-xs md:text-sm\">Select shot result</p>\n              </div>\n\n              <div className=\"bg-white rounded-lg shadow p-2 md:p-3 landscape:p-1.5\">\n                <div className=\"grid grid-cols-2 gap-2\">\n                  <button\n                    onClick={() => handleShotResultSelect('goal')}\n                    className=\"py-4 md:py-5 px-3 md:px-4 bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-semibold rounded-lg shadow transition-colors touch-manipulation text-sm md:text-base\"\n                  >\n                    Goal\n                  </button>\n                  <button\n                    onClick={() => handleShotResultSelect('save')}\n                    className=\"py-4 md:py-5 px-3 md:px-4 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white font-semibold rounded-lg shadow transition-colors touch-manipulation text-sm md:text-base\"\n                  >\n                    Save\n                  </button>\n                  <button\n                    onClick={() => handleShotResultSelect('miss_wide')}\n                    className=\"py-4 md:py-5 px-3 md:px-4 bg-gray-500 hover:bg-gray-600 active:bg-gray-700 text-white font-semibold rounded-lg shadow transition-colors touch-manipulation text-sm md:text-base\"\n                  >\n                    Miss Wide\n                  </button>\n                  <button\n                    onClick={() => handleShotResultSelect('miss_high')}\n                    className=\"py-4 md:py-5 px-3 md:px-4 bg-gray-500 hover:bg-gray-600 active:bg-gray-700 text-white font-semibold rounded-lg shadow transition-colors touch-manipulation text-sm md:text-base\"\n                  >\n                    Miss High\n                  </button>\n                  <button\n                    onClick={() => handleShotResultSelect('blocked')}\n                    className=\"py-4 md:py-5 px-3 md:px-4 bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-semibold rounded-lg shadow transition-colors touch-manipulation text-sm md:text-base\"\n                  >\n                    Blocked\n                  </button>\n                  <button\n                    onClick={() => handleShotResultSelect('post')}\n                    className=\"py-4 md:py-5 px-3 md:px-4 bg-amber-500 hover:bg-amber-600 active:bg-amber-700 text-white font-semibold rounded-lg shadow transition-colors touch-manipulation text-sm md:text-base\"\n                  >\n                    Post\n                  </button>\n                </div>\n\n                <button\n                  onClick={cancelEventLogging}\n                  className=\"w-full mt-2 py-2 text-xs md:text-sm text-gray-600 hover:text-gray-800 font-medium landscape:hidden\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          )\n        }\n        return null\n\n      default:\n        return null\n    }\n  }\n\n  return (\n    <>\n      <div className=\"w-full\">{renderContent()}</div>\n\n      {/* Bottom Sheet for Player Selection */}\n      <BottomSheet\n        isOpen={showPlayerSheet}\n        onClose={handlePlayerSheetClose}\n        title=\"Select Player\"\n        snapPoint={70}\n        showHandle={true}\n        closeOnBackdropClick={true}\n      >\n        <PlayerSelector\n          players={players}\n          onSelect={handlePlayerSelect}\n          quickSelect={true}\n        />\n      </BottomSheet>\n    </>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3222, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/ui/swipeable-item.tsx"],"sourcesContent":["'use client'\n\nimport React, { useRef, useState, useEffect } from 'react'\n\nexport interface SwipeableItemProps {\n  children: React.ReactNode\n  onSwipeLeft?: () => void\n  onSwipeRight?: () => void\n  leftAction?: {\n    label: string\n    icon?: string\n    color: string // e.g., 'bg-red-500'\n  }\n  rightAction?: {\n    label: string\n    icon?: string\n    color: string // e.g., 'bg-green-500'\n  }\n  threshold?: number // Swipe distance threshold in pixels\n  className?: string\n}\n\nexport function SwipeableItem({\n  children,\n  onSwipeLeft,\n  onSwipeRight,\n  leftAction,\n  rightAction,\n  threshold = 80,\n  className = '',\n}: SwipeableItemProps) {\n  const itemRef = useRef<HTMLDivElement>(null)\n  const [touchStart, setTouchStart] = useState<number | null>(null)\n  const [touchCurrent, setTouchCurrent] = useState<number | null>(null)\n  const [isSwiping, setIsSwiping] = useState(false)\n  const [swipeDistance, setSwipeDistance] = useState(0)\n\n  const handleTouchStart = (e: React.TouchEvent) => {\n    setTouchStart(e.touches[0].clientX)\n    setIsSwiping(true)\n  }\n\n  const handleTouchMove = (e: React.TouchEvent) => {\n    if (touchStart === null) return\n\n    const currentTouch = e.touches[0].clientX\n    const distance = currentTouch - touchStart\n\n    // Only allow swipe in enabled directions\n    if (distance < 0 && onSwipeLeft) {\n      // Swiping left (negative distance)\n      setSwipeDistance(Math.max(distance, -threshold * 1.5)) // Max 1.5x threshold\n    } else if (distance > 0 && onSwipeRight) {\n      // Swiping right (positive distance)\n      setSwipeDistance(Math.min(distance, threshold * 1.5))\n    }\n\n    setTouchCurrent(currentTouch)\n  }\n\n  const handleTouchEnd = () => {\n    if (touchStart === null || touchCurrent === null) {\n      resetSwipe()\n      return\n    }\n\n    const distance = touchCurrent - touchStart\n\n    // Check if swipe threshold was exceeded\n    if (distance < -threshold && onSwipeLeft) {\n      // Swiped left past threshold\n      onSwipeLeft()\n    } else if (distance > threshold && onSwipeRight) {\n      // Swiped right past threshold\n      onSwipeRight()\n    }\n\n    // Reset state\n    resetSwipe()\n  }\n\n  const resetSwipe = () => {\n    setTouchStart(null)\n    setTouchCurrent(null)\n    setIsSwiping(false)\n    setSwipeDistance(0)\n  }\n\n  // Calculate action reveal percentage\n  const revealPercentage = Math.abs(swipeDistance) / threshold\n  const isActionRevealed = revealPercentage >= 1\n\n  // Determine which action is being revealed\n  const revealingLeft = swipeDistance < 0\n  const revealingRight = swipeDistance > 0\n\n  return (\n    <div className={`relative overflow-hidden ${className}`}>\n      {/* Background Actions */}\n      {leftAction && (\n        <div\n          className={`absolute inset-y-0 right-0 flex items-center justify-end px-6 ${leftAction.color} transition-opacity duration-150`}\n          style={{\n            width: revealingLeft ? `${Math.abs(swipeDistance)}px` : '0px',\n            opacity: revealingLeft ? Math.min(revealPercentage, 1) : 0,\n          }}\n        >\n          <div className=\"flex flex-col items-center text-white\">\n            {leftAction.icon && <span className=\"text-2xl mb-1\">{leftAction.icon}</span>}\n            <span className=\"text-xs font-semibold\">{leftAction.label}</span>\n          </div>\n        </div>\n      )}\n\n      {rightAction && (\n        <div\n          className={`absolute inset-y-0 left-0 flex items-center justify-start px-6 ${rightAction.color} transition-opacity duration-150`}\n          style={{\n            width: revealingRight ? `${swipeDistance}px` : '0px',\n            opacity: revealingRight ? Math.min(revealPercentage, 1) : 0,\n          }}\n        >\n          <div className=\"flex flex-col items-center text-white\">\n            {rightAction.icon && <span className=\"text-2xl mb-1\">{rightAction.icon}</span>}\n            <span className=\"text-xs font-semibold\">{rightAction.label}</span>\n          </div>\n        </div>\n      )}\n\n      {/* Swipeable Content */}\n      <div\n        ref={itemRef}\n        onTouchStart={handleTouchStart}\n        onTouchMove={handleTouchMove}\n        onTouchEnd={handleTouchEnd}\n        style={{\n          transform: `translateX(${swipeDistance}px)`,\n          transition: isSwiping ? 'none' : 'transform 0.3s ease-out',\n        }}\n        className=\"relative bg-white touch-pan-y\"\n      >\n        {children}\n      </div>\n\n      {/* Visual indicator when action will trigger */}\n      {isActionRevealed && (\n        <div className=\"absolute inset-0 pointer-events-none bg-white/10 animate-pulse\" />\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3403, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/game-tracking/recent-events-list.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { useGameTrackingStore } from '@/lib/stores/game-tracking-store-configured'\nimport { SwipeableItem } from '@/components/ui/swipeable-item'\n\nexport function RecentEventsList() {\n  const { events, players, undoLastEvent, deleteEvent } = useGameTrackingStore()\n\n  // Get last 10 events in reverse chronological order\n  const recentEvents = [...events].reverse().slice(0, 10)\n\n  const getPlayerName = (playerId: string | undefined) => {\n    if (!playerId) return 'Unknown'\n    const player = players.find((p) => p.id === playerId)\n    return player ? `${player.firstName[0]}. ${player.lastName} (#${player.jerseyNumber})` : 'Unknown'\n  }\n\n  const getEventColor = (type: string) => {\n    switch (type) {\n      case 'shot':\n      case 'goal':\n        return 'bg-blue-100 text-blue-800'\n      case 'turnover':\n        return 'bg-red-100 text-red-800'\n      case 'breakout':\n        return 'bg-green-100 text-green-800'\n      case 'zone_entry':\n        return 'bg-amber-100 text-amber-800'\n      case 'faceoff':\n        return 'bg-purple-100 text-purple-800'\n      default:\n        return 'bg-gray-100 text-gray-800'\n    }\n  }\n\n  const formatEventDetails = (event: any) => {\n    const parts: string[] = []\n\n    if (event.playerId) {\n      parts.push(getPlayerName(event.playerId))\n    }\n\n    if (event.coordinates) {\n      parts.push(`(${event.coordinates.x}, ${event.coordinates.y})`)\n    }\n\n    if (event.details.result) {\n      parts.push(event.details.result)\n    }\n\n    if (event.details.success !== undefined) {\n      parts.push(event.details.success ? 'âœ“ Success' : 'âœ— Failed')\n    }\n\n    return parts.join(' â€¢ ')\n  }\n\n  if (events.length === 0) {\n    return (\n      <div className=\"bg-white rounded-lg shadow-lg p-6\">\n        <h2 className=\"text-xl font-bold mb-4\">Recent Events</h2>\n        <p className=\"text-center text-gray-500 py-8\">No events logged yet</p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-lg p-4 md:p-6\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-lg md:text-xl font-bold\">Recent Events</h2>\n        <button\n          onClick={undoLastEvent}\n          className=\"px-3 py-2 md:py-1 text-xs md:text-sm bg-gray-200 hover:bg-gray-300 rounded transition-colors touch-manipulation\"\n        >\n          Undo Last\n        </button>\n      </div>\n\n      {/* Hint for mobile users */}\n      <div className=\"md:hidden text-xs text-gray-500 mb-3 text-center\">\n        ðŸ‘ˆ Swipe left on any event to delete\n      </div>\n\n      <div className=\"space-y-2\">\n        {recentEvents.map((event) => (\n          <SwipeableItem\n            key={event.id}\n            onSwipeLeft={() => deleteEvent(event.id)}\n            leftAction={{\n              label: 'Delete',\n              icon: 'ðŸ—‘ï¸',\n              color: 'bg-red-500',\n            }}\n            threshold={80}\n            className=\"rounded-lg overflow-hidden\"\n          >\n            <div className=\"flex items-center justify-between p-3 border border-gray-200 bg-white\">\n              <div className=\"flex-1 min-w-0\">\n                <div className=\"flex items-center gap-2 mb-1 flex-wrap\">\n                  <span\n                    className={`px-2 py-1 text-xs font-medium rounded ${getEventColor(\n                      event.eventType\n                    )}`}\n                  >\n                    {event.eventType.replace('_', ' ').toUpperCase()}\n                  </span>\n                  <span className=\"text-xs md:text-sm text-gray-600 whitespace-nowrap\">\n                    P{event.period} â€¢ {Math.floor(event.gameTimeSeconds / 60)}:\n                    {(event.gameTimeSeconds % 60).toString().padStart(2, '0')}\n                  </span>\n                </div>\n                <p className=\"text-xs md:text-sm text-gray-700 truncate\">{formatEventDetails(event)}</p>\n              </div>\n\n              {/* Delete button - hidden on mobile (use swipe), visible on desktop */}\n              <button\n                onClick={() => deleteEvent(event.id)}\n                className=\"hidden md:block ml-4 p-2 text-red-600 hover:bg-red-50 rounded transition-colors\"\n                aria-label=\"Delete event\"\n              >\n                <svg\n                  className=\"w-5 h-5\"\n                  fill=\"none\"\n                  stroke=\"currentColor\"\n                  viewBox=\"0 0 24 24\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M6 18L18 6M6 6l12 12\"\n                  />\n                </svg>\n              </button>\n            </div>\n          </SwipeableItem>\n        ))}\n      </div>\n\n      {events.length > 10 && (\n        <p className=\"text-center text-sm text-gray-500 mt-4\">\n          Showing last 10 of {events.length} events\n        </p>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3666, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/auth/auth-form.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { supabase } from '@/lib/db/supabase'\n\nexport interface AuthFormProps {\n  mode: 'signin' | 'signup'\n  onSuccess?: () => void\n  onToggleMode?: () => void\n}\n\nexport function AuthForm({ mode, onSuccess, onToggleMode }: AuthFormProps) {\n  const [email, setEmail] = useState('')\n  const [password, setPassword] = useState('')\n  const [name, setName] = useState('')\n  const [loading, setLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [message, setMessage] = useState<string | null>(null)\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault()\n    setError(null)\n    setMessage(null)\n    setLoading(true)\n\n    try {\n      if (mode === 'signup') {\n        // Sign up new user\n        const { data, error: signUpError } = await supabase.auth.signUp({\n          email,\n          password,\n          options: {\n            data: {\n              full_name: name,\n            },\n          },\n        })\n\n        if (signUpError) throw signUpError\n\n        if (data.user) {\n          // Check if email confirmation is required\n          if (data.user.confirmed_at) {\n            setMessage('Account created! You can now start tracking games.')\n            setTimeout(() => {\n              onSuccess?.()\n            }, 1500)\n          } else {\n            setMessage(\n              'Account created! Please check your email to confirm your account before signing in.'\n            )\n            // Don't call onSuccess - user needs to confirm email first\n          }\n        }\n      } else {\n        // Sign in existing user\n        const { data, error: signInError } = await supabase.auth.signInWithPassword({\n          email,\n          password,\n        })\n\n        if (signInError) throw signInError\n\n        if (data.user) {\n          setMessage('Welcome back!')\n          setTimeout(() => {\n            onSuccess?.()\n          }, 500)\n        }\n      }\n    } catch (err: any) {\n      console.error('Auth error:', err)\n\n      // Handle specific error cases\n      if (err.message?.includes('User already registered')) {\n        setError(\n          'This email is already registered. Please sign in instead or use the \"Forgot password?\" link if you need to reset your password.'\n        )\n      } else if (err.message?.includes('Email not confirmed')) {\n        setError(\n          'Please confirm your email address first. Check your inbox or click \"Resend confirmation email\" below.'\n        )\n      } else if (err.message?.includes('Invalid login credentials')) {\n        setError(\n          'Invalid email or password. If you just reset the database, you\\'ll need to create a new account. Click \"Sign up\" below to create an account.'\n        )\n      } else {\n        setError(err.message || 'An error occurred during authentication')\n      }\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handlePasswordReset = async () => {\n    if (!email) {\n      setError('Please enter your email address')\n      return\n    }\n\n    setError(null)\n    setMessage(null)\n    setLoading(true)\n\n    try {\n      const { error: resetError } = await supabase.auth.resetPasswordForEmail(email, {\n        redirectTo: `${window.location.origin}/auth/reset-password`,\n      })\n\n      if (resetError) throw resetError\n\n      setMessage('Password reset email sent! Check your inbox.')\n    } catch (err: any) {\n      console.error('Password reset error:', err)\n      setError(err.message || 'Failed to send password reset email')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleResendConfirmation = async () => {\n    if (!email) {\n      setError('Please enter your email address')\n      return\n    }\n\n    setError(null)\n    setMessage(null)\n    setLoading(true)\n\n    try {\n      const { error: resendError } = await supabase.auth.resend({\n        type: 'signup',\n        email: email,\n      })\n\n      if (resendError) throw resendError\n\n      setMessage('Confirmation email resent! Check your inbox.')\n    } catch (err: any) {\n      console.error('Resend confirmation error:', err)\n      setError(err.message || 'Failed to resend confirmation email')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  return (\n    <div className=\"w-full max-w-md\">\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        {/* Name field (sign up only) */}\n        {mode === 'signup' && (\n          <div>\n            <label htmlFor=\"name\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Full Name\n            </label>\n            <input\n              id=\"name\"\n              type=\"text\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              required\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              placeholder=\"John Smith\"\n              disabled={loading}\n            />\n          </div>\n        )}\n\n        {/* Email field */}\n        <div>\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Email\n          </label>\n          <input\n            id=\"email\"\n            type=\"email\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            required\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"coach@example.com\"\n            disabled={loading}\n          />\n        </div>\n\n        {/* Password field */}\n        <div>\n          <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Password\n          </label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            required\n            minLength={6}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\"\n            disabled={loading}\n          />\n          {mode === 'signup' && (\n            <p className=\"mt-1 text-xs text-gray-500\">Must be at least 6 characters</p>\n          )}\n        </div>\n\n        {/* Error message */}\n        {error && (\n          <div className=\"p-3 bg-red-50 border border-red-200 rounded-md\">\n            <p className=\"text-sm text-red-600\">{error}</p>\n          </div>\n        )}\n\n        {/* Success message */}\n        {message && (\n          <div className=\"p-3 bg-green-50 border border-green-200 rounded-md\">\n            <p className=\"text-sm text-green-600\">{message}</p>\n          </div>\n        )}\n\n        {/* Submit button */}\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors\"\n        >\n          {loading ? (\n            <span className=\"flex items-center justify-center\">\n              <svg\n                className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n                fill=\"none\"\n                viewBox=\"0 0 24 24\"\n              >\n                <circle\n                  className=\"opacity-25\"\n                  cx=\"12\"\n                  cy=\"12\"\n                  r=\"10\"\n                  stroke=\"currentColor\"\n                  strokeWidth=\"4\"\n                ></circle>\n                <path\n                  className=\"opacity-75\"\n                  fill=\"currentColor\"\n                  d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                ></path>\n              </svg>\n              {mode === 'signup' ? 'Creating Account...' : 'Signing In...'}\n            </span>\n          ) : mode === 'signup' ? (\n            'Create Account'\n          ) : (\n            'Sign In'\n          )}\n        </button>\n\n        {/* Forgot password / Resend confirmation */}\n        {mode === 'signin' && (\n          <div className=\"flex justify-between text-sm\">\n            <button\n              type=\"button\"\n              onClick={handlePasswordReset}\n              disabled={loading}\n              className=\"text-blue-600 hover:text-blue-700 disabled:text-gray-400\"\n            >\n              Forgot password?\n            </button>\n            <button\n              type=\"button\"\n              onClick={handleResendConfirmation}\n              disabled={loading}\n              className=\"text-blue-600 hover:text-blue-700 disabled:text-gray-400\"\n            >\n              Resend confirmation\n            </button>\n          </div>\n        )}\n\n        {/* Toggle mode */}\n        {onToggleMode && (\n          <div className=\"text-center pt-2\">\n            <button\n              type=\"button\"\n              onClick={onToggleMode}\n              disabled={loading}\n              className=\"text-sm text-gray-600 hover:text-gray-700 disabled:text-gray-400\"\n            >\n              {mode === 'signup' ? (\n                <>\n                  Already have an account?{' '}\n                  <span className=\"font-semibold text-blue-600\">Sign in</span>\n                </>\n              ) : (\n                <>\n                  Don't have an account?{' '}\n                  <span className=\"font-semibold text-blue-600\">Sign up</span>\n                </>\n              )}\n            </button>\n          </div>\n        )}\n      </form>\n\n      {/* Free tier info (sign up only) */}\n      {mode === 'signup' && (\n        <div className=\"mt-6 space-y-3\">\n          <div className=\"p-3 bg-blue-50 border border-blue-200 rounded-md\">\n            <p className=\"text-xs text-blue-900\">\n              <strong>Free tier includes:</strong> Track up to 3 games per season with full\n              analytics and AI practice plans. No credit card required.\n            </p>\n          </div>\n          {/* Local development email note */}\n          {window.location.hostname === 'localhost' && (\n            <div className=\"p-3 bg-amber-50 border border-amber-200 rounded-md\">\n              <p className=\"text-xs text-amber-900\">\n                <strong>ðŸ“§ Local Development:</strong> View confirmation emails at{' '}\n                <a\n                  href=\"http://localhost:54324\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"underline font-semibold hover:text-amber-950\"\n                >\n                  localhost:54324\n                </a>\n              </p>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 4150, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/auth/auth-modal.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport { AuthForm } from './auth-form'\n\nexport interface AuthModalProps {\n  initialMode?: 'signin' | 'signup'\n  onSuccess?: () => void\n  onClose?: () => void\n}\n\nexport function AuthModal({ initialMode = 'signup', onSuccess, onClose }: AuthModalProps) {\n  const [mode, setMode] = useState<'signin' | 'signup'>(initialMode)\n\n  const toggleMode = () => {\n    setMode(mode === 'signin' ? 'signup' : 'signin')\n  }\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6 relative\">\n        {/* Close button */}\n        {onClose && (\n          <button\n            onClick={onClose}\n            className=\"absolute top-4 right-4 text-gray-400 hover:text-gray-600\"\n            aria-label=\"Close\"\n          >\n            <svg\n              className=\"w-6 h-6\"\n              fill=\"none\"\n              stroke=\"currentColor\"\n              viewBox=\"0 0 24 24\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        )}\n\n        {/* Header */}\n        <div className=\"mb-6\">\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">\n            {mode === 'signup' ? 'Create Your Account' : 'Welcome Back'}\n          </h2>\n          <p className=\"text-sm text-gray-600\">\n            {mode === 'signup'\n              ? 'Start tracking games and planning practices'\n              : 'Sign in to continue tracking'}\n          </p>\n        </div>\n\n        {/* Auth form */}\n        <AuthForm mode={mode} onSuccess={onSuccess} onToggleMode={toggleMode} />\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;;;AAHA;;;AAWO,SAAS,UAAU,KAA8D;QAA9D,EAAE,cAAc,QAAQ,EAAE,SAAS,EAAE,OAAO,EAAkB,GAA9D;;IACxB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,wLAAQ,EAAsB;IAEtD,MAAM,aAAa;QACjB,QAAQ,SAAS,WAAW,WAAW;IACzC;IAEA,qBACE,4MAAC;QAAI,WAAU;kBACb,cAAA,4MAAC;YAAI,WAAU;;gBAEZ,yBACC,4MAAC;oBACC,SAAS;oBACT,WAAU;oBACV,cAAW;8BAEX,cAAA,4MAAC;wBACC,WAAU;wBACV,MAAK;wBACL,QAAO;wBACP,SAAQ;kCAER,cAAA,4MAAC;4BACC,eAAc;4BACd,gBAAe;4BACf,aAAa;4BACb,GAAE;;;;;;;;;;;;;;;;8BAOV,4MAAC;oBAAI,WAAU;;sCACb,4MAAC;4BAAG,WAAU;sCACX,SAAS,WAAW,wBAAwB;;;;;;sCAE/C,4MAAC;4BAAE,WAAU;sCACV,SAAS,WACN,gDACA;;;;;;;;;;;;8BAKR,4MAAC,oLAAQ;oBAAC,MAAM;oBAAM,WAAW;oBAAW,cAAc;;;;;;;;;;;;;;;;;AAIlE;GAlDgB;KAAA","debugId":null}},
    {"offset": {"line": 4260, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/app/demo/game-tracking/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useGameTrackingStore } from '@/lib/stores/game-tracking-store-configured'\nimport { EventLogger } from '@/components/game-tracking/event-logger'\nimport { RecentEventsList } from '@/components/game-tracking/recent-events-list'\nimport { QuickEventButtons } from '@/components/game-tracking/quick-event-buttons'\nimport { AuthModal } from '@/components/auth/auth-modal'\nimport { supabase } from '@/lib/db/supabase'\nimport { useTeam } from '@/lib/contexts/team-context'\nimport type { Player } from '@/lib/stores/game-tracking-store-configured'\n\ninterface GameInfo {\n  opponent_name: string\n  game_date: string\n  location: string | null\n}\n\nexport default function GameTrackingDemoPage() {\n  const { gameState, setGameState, setPlayers, loadEvents, loggingFlow } = useGameTrackingStore()\n  const { selectedTeamId, selectTeam } = useTeam()\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState<string | null>(null)\n  const [isAuthenticated, setIsAuthenticated] = useState(false)\n  const [checkingAuth, setCheckingAuth] = useState(true)\n  const [emailVerified, setEmailVerified] = useState(true)\n  const [gameInfo, setGameInfo] = useState<GameInfo | null>(null)\n  const [isEditingGameInfo, setIsEditingGameInfo] = useState(false)\n  const [editOpponentName, setEditOpponentName] = useState('')\n  const [editLocation, setEditLocation] = useState('')\n  const [savingGameInfo, setSavingGameInfo] = useState(false)\n  const [creatingGame, setCreatingGame] = useState(false)\n  const [showNewGameForm, setShowNewGameForm] = useState(false)\n  const [newGameOpponent, setNewGameOpponent] = useState('')\n  const [newGameLocation, setNewGameLocation] = useState('')\n  const [endsSwapped, setEndsSwapped] = useState(false)\n  const [mobileView, setMobileView] = useState<'ice' | 'events'>('ice')\n  const [showPeriodEndConfirm, setShowPeriodEndConfirm] = useState(false)\n  const [showPeriod3EndDialog, setShowPeriod3EndDialog] = useState(false)\n  const [isFullscreen, setIsFullscreen] = useState(false)\n  const [supportsFullscreen, setSupportsFullscreen] = useState(false)\n\n  // Check if game is completed\n  const isGameCompleted = gameState.status === 'completed'\n\n  // Check if fullscreen is supported\n  useEffect(() => {\n    const doc = document as any\n    const docEl = document.documentElement as any\n    const isSupported = !!(\n      docEl.requestFullscreen ||\n      docEl.webkitRequestFullscreen ||\n      docEl.mozRequestFullScreen ||\n      docEl.msRequestFullscreen\n    )\n    setSupportsFullscreen(isSupported)\n  }, [])\n\n  // Handle fullscreen changes\n  useEffect(() => {\n    const handleFullscreenChange = () => {\n      const doc = document as any\n      setIsFullscreen(!!(document.fullscreenElement || doc.webkitFullscreenElement))\n    }\n\n    // Listen to both standard and webkit fullscreen events (for Safari)\n    document.addEventListener('fullscreenchange', handleFullscreenChange)\n    document.addEventListener('webkitfullscreenchange', handleFullscreenChange)\n\n    return () => {\n      document.removeEventListener('fullscreenchange', handleFullscreenChange)\n      document.removeEventListener('webkitfullscreenchange', handleFullscreenChange)\n    }\n  }, [])\n\n  // Toggle fullscreen mode\n  const toggleFullscreen = async () => {\n    try {\n      const doc = document as any\n      const docEl = document.documentElement as any\n\n      if (!document.fullscreenElement && !doc.webkitFullscreenElement) {\n        // Enter fullscreen\n        if (docEl.requestFullscreen) {\n          await docEl.requestFullscreen()\n        } else if (docEl.webkitRequestFullscreen) {\n          // Safari iOS\n          await docEl.webkitRequestFullscreen()\n        }\n      } else {\n        // Exit fullscreen\n        if (doc.exitFullscreen) {\n          await doc.exitFullscreen()\n        } else if (doc.webkitExitFullscreen) {\n          // Safari iOS\n          await doc.webkitExitFullscreen()\n        }\n      }\n    } catch (err) {\n      console.error('Fullscreen error:', err)\n    }\n  }\n\n  // Check authentication status\n  useEffect(() => {\n    async function checkAuth() {\n      try {\n        const {\n          data: { user },\n          error,\n        } = await supabase.auth.getUser()\n\n        // If there's an error (like 403), clear the session\n        if (error) {\n          console.log('Auth error, clearing session:', error)\n          await supabase.auth.signOut()\n          setIsAuthenticated(false)\n          setCheckingAuth(false)\n          return\n        }\n\n        setIsAuthenticated(!!user)\n        setCheckingAuth(false)\n      } catch (err) {\n        console.error('Auth check failed:', err)\n        // Clear any invalid session\n        await supabase.auth.signOut()\n        setIsAuthenticated(false)\n        setCheckingAuth(false)\n      }\n\n      // Listen for auth changes\n      const {\n        data: { subscription },\n      } = supabase.auth.onAuthStateChange((_event, session) => {\n        setIsAuthenticated(!!session?.user)\n      })\n\n      return () => {\n        subscription.unsubscribe()\n      }\n    }\n\n    checkAuth()\n  }, [])\n\n  // Initialize demo once authenticated\n  useEffect(() => {\n    if (!isAuthenticated) return\n\n    async function initializeDemo() {\n      try {\n        // Get the current user\n        const {\n          data: { user },\n        } = await supabase.auth.getUser()\n\n        if (!user) {\n          throw new Error('User not found')\n        }\n\n        // Check if email is verified (using our custom field)\n        const { data: profile } = await supabase\n          .from('user_profiles')\n          .select('email_verified')\n          .eq('id', user.id)\n          .single()\n\n        if (!profile?.email_verified) {\n          setEmailVerified(false)\n          setError('email_not_verified')\n          setLoading(false)\n          return\n        }\n\n        // Determine which team to use\n        let teamId: string\n\n        if (selectedTeamId) {\n          // Use the selected team from context\n          teamId = selectedTeamId\n        } else {\n          // No team selected - get user's first team and auto-select it\n          const { data: teamMembers, error: teamError } = await supabase\n            .from('team_members')\n            .select('team_id')\n            .eq('user_id', user.id)\n            .limit(1)\n\n          if (teamError) {\n            console.error('Error fetching team membership:', teamError)\n            throw new Error(`Failed to fetch team membership: ${teamError.message}`)\n          }\n\n          if (!teamMembers || teamMembers.length === 0) {\n            throw new Error('No team found for user. Please create a team first.')\n          }\n\n          teamId = teamMembers[0].team_id\n          // Auto-select this team in context\n          selectTeam(teamId)\n        }\n\n        // Load players from roster for this team\n        const { data: dbPlayers, error: playersError } = await supabase\n          .from('players')\n          .select('id, jersey_number, first_name, last_name, position')\n          .eq('team_id', teamId)\n          .order('jersey_number')\n\n        if (playersError) {\n          console.error('Error loading roster:', playersError)\n          throw new Error(`Failed to load roster: ${playersError.message}`)\n        }\n\n        // Check if roster is empty\n        if (!dbPlayers || dbPlayers.length === 0) {\n          throw new Error('no_players')\n        }\n\n        // Map database players to store format\n        const players: Player[] = dbPlayers.map((p) => ({\n          id: p.id,\n          jerseyNumber: p.jersey_number,\n          firstName: p.first_name,\n          lastName: p.last_name,\n          position: p.position as any,\n        }))\n\n        let gameId: string | null = null\n\n        // 1. Try to load the current game from localStorage (team-specific)\n        const storageKey = `current_game_${teamId}`\n        const storedGameId = localStorage.getItem(storageKey)\n\n        if (storedGameId) {\n          // Verify the stored game still exists and belongs to this team\n          const { data: storedGame } = await supabase\n            .from('games')\n            .select('id')\n            .eq('id', storedGameId)\n            .eq('team_id', teamId)\n            .maybeSingle()\n\n          if (storedGame) {\n            gameId = storedGame.id\n            console.log('âœ… Loaded game from localStorage:', gameId)\n          } else {\n            // Stored game doesn't exist anymore, clear localStorage\n            localStorage.removeItem(storageKey)\n            console.log('âš ï¸ Stored game not found, cleared localStorage')\n          }\n        }\n\n        // 2. If no stored game, load the most recent game for this team\n        if (!gameId) {\n          const { data: recentGame } = await supabase\n            .from('games')\n            .select('id')\n            .eq('team_id', teamId)\n            .order('created_at', { ascending: false })\n            .limit(1)\n            .maybeSingle()\n\n          if (recentGame) {\n            gameId = recentGame.id\n            // Store it in localStorage for next time\n            localStorage.setItem(storageKey, gameId)\n            console.log('âœ… Loaded most recent game:', gameId)\n          }\n        }\n\n        // 3. If still no game, create a default one\n        if (!gameId) {\n          const { data: newGame, error: gameError } = await supabase\n            .from('games')\n            .insert({\n              team_id: teamId,\n              opponent_name: 'Rival Team',\n              game_date: new Date().toISOString(),\n              is_home: true,\n              status: 'in_progress',\n            })\n            .select()\n            .single()\n\n          if (gameError) throw gameError\n          gameId = newGame.id\n          // Store it in localStorage\n          localStorage.setItem(storageKey, gameId)\n          console.log('âœ… Created new default game:', gameId)\n        }\n\n        // Fetch game status from database\n        const { data: gameData } = await supabase\n          .from('games')\n          .select('status')\n          .eq('id', gameId)\n          .single()\n\n        // Initialize game state\n        setGameState({\n          gameId,\n          period: 1,\n          gameTimeSeconds: 1200,\n          score: { us: 0, them: 0 },\n          situation: 'even_strength',\n          status: gameData?.status || 'in_progress',\n        })\n\n        // Load players\n        setPlayers(players)\n\n        // Load existing events from database\n        await loadEvents(gameId)\n\n        setLoading(false)\n      } catch (err) {\n        console.error('Failed to initialize game tracking:', err)\n\n        // Handle no team error - redirect to teams page for onboarding\n        if (err instanceof Error && err.message.includes('No team found')) {\n          // Redirect new users to create their first team\n          window.location.href = '/demo/teams'\n          return\n        }\n\n        // Handle empty roster error specially\n        if (err instanceof Error && err.message === 'no_players') {\n          setError('empty_roster')\n        } else {\n          setError(err instanceof Error ? err.message : 'Failed to load game tracking. Please refresh the page.')\n        }\n        setLoading(false)\n      }\n    }\n\n    initializeDemo()\n  }, [isAuthenticated, selectedTeamId, setGameState, setPlayers, loadEvents, selectTeam])\n\n  // Fetch game info when gameId is available\n  useEffect(() => {\n    if (!gameState.gameId) return\n\n    async function fetchGameInfo() {\n      try {\n        const { data: game, error } = await supabase\n          .from('games')\n          .select('opponent_name, game_date, location')\n          .eq('id', gameState.gameId)\n          .single()\n\n        if (error) throw error\n\n        if (game) {\n          setGameInfo(game)\n        }\n      } catch (err) {\n        console.error('Failed to fetch game info:', err)\n      }\n    }\n\n    fetchGameInfo()\n  }, [gameState.gameId])\n\n  // Show auth modal if not authenticated\n  if (checkingAuth) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Checking authentication...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (!isAuthenticated) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n        <div className=\"text-center max-w-2xl\">\n          <h1 className=\"text-4xl font-bold text-gray-900 mb-4\">ðŸ’ Hockey Practice Planner</h1>\n          <p className=\"text-lg text-gray-600 mb-8\">\n            Track games in real-time and get AI-powered practice plans\n          </p>\n          <AuthModal\n            initialMode=\"signup\"\n            onSuccess={() => {\n              // Auth state will be updated by the listener\n              setIsAuthenticated(true)\n            }}\n          />\n        </div>\n      </div>\n    )\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading demo data from database...</p>\n        </div>\n      </div>\n    )\n  }\n\n  if (error) {\n    // Special handling for email not verified\n    if (error === 'email_not_verified') {\n      return (\n        <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n          <div className=\"bg-amber-50 border border-amber-200 rounded-lg p-6 max-w-md\">\n            <h2 className=\"text-amber-900 font-bold text-lg mb-2\">ðŸ“§ Email Verification Required</h2>\n            <p className=\"text-amber-700 mb-4\">\n              You need to verify your email address before you can track games.\n            </p>\n            <p className=\"text-amber-700 mb-4\">\n              Check your inbox for a verification link. Once verified, you'll have full access to game tracking.\n            </p>\n            <div className=\"flex gap-3\">\n              <a\n                href=\"/demo/teams\"\n                className=\"px-4 py-2 bg-amber-600 text-white rounded hover:bg-amber-700 transition-colors\"\n              >\n                Go to Teams\n              </a>\n              <button\n                onClick={() => window.location.reload()}\n                className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors\"\n              >\n                I've Verified\n              </button>\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    // Special handling for empty roster\n    if (error === 'empty_roster') {\n      return (\n        <div className=\"min-h-screen bg-gray-50 flex items-center justify-center p-4\">\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6 max-w-md\">\n            <h2 className=\"text-yellow-900 font-bold text-lg mb-2\">âš ï¸ No Players in Roster</h2>\n            <p className=\"text-yellow-700 mb-4\">\n              You need to add players to your roster before you can track a game.\n            </p>\n            <p className=\"text-yellow-700 mb-4\">\n              Game tracking requires players to log events like shots, goals, and turnovers.\n            </p>\n            <div className=\"flex gap-3\">\n              <a\n                href={selectedTeamId ? `/demo/teams/${selectedTeamId}/roster` : '/demo/teams'}\n                className=\"px-4 py-2 bg-yellow-600 text-white rounded hover:bg-yellow-700 transition-colors\"\n              >\n                {selectedTeamId ? 'Add Players to Roster' : 'Go to Teams'}\n              </a>\n              <button\n                onClick={() => window.location.reload()}\n                className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded transition-colors\"\n              >\n                Retry\n              </button>\n            </div>\n          </div>\n        </div>\n      )\n    }\n\n    // Regular error display\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md\">\n          <h2 className=\"text-red-900 font-bold text-lg mb-2\">Error</h2>\n          <p className=\"text-red-700\">{error}</p>\n          <button\n            onClick={() => window.location.reload()}\n            className=\"mt-4 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700\"\n          >\n            Retry\n          </button>\n        </div>\n      </div>\n    )\n  }\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut()\n    setIsAuthenticated(false)\n  }\n\n  const handleEndPeriodClick = () => {\n    // Show confirmation dialog\n    setShowPeriodEndConfirm(true)\n  }\n\n  const handleConfirmEndPeriod = () => {\n    setShowPeriodEndConfirm(false)\n\n    // If ending period 3, show overtime/end game dialog\n    if (gameState.period === 3) {\n      setShowPeriod3EndDialog(true)\n    } else if (gameState.period === 4) {\n      // Ending overtime ends the game\n      handleEndGame()\n    } else if (gameState.period < 4) {\n      // Normal period end (periods 1, 2)\n      setGameState({ period: gameState.period + 1 })\n    }\n  }\n\n  const handlePeriod3Choice = (choice: 'overtime' | 'end') => {\n    setShowPeriod3EndDialog(false)\n\n    if (choice === 'overtime') {\n      // Go to overtime (period 4)\n      setGameState({ period: 4 })\n    } else {\n      // End game\n      handleEndGame()\n    }\n  }\n\n  const handleEndGame = async () => {\n    if (!gameState.gameId) return\n\n    try {\n      const { error } = await supabase\n        .from('games')\n        .update({ status: 'completed' })\n        .eq('id', gameState.gameId)\n\n      if (error) throw error\n\n      setGameState({ status: 'completed' })\n    } catch (error) {\n      console.error('âŒ Error ending game:', error)\n      alert('Failed to end game. Please try again.')\n    }\n  }\n\n  const handleNewGameClick = () => {\n    const { events } = useGameTrackingStore.getState()\n    if (events.length > 0) {\n      const confirmed = confirm('Starting a new game will save the current game and start fresh. Continue?')\n      if (!confirmed) return\n    }\n    setNewGameOpponent('')\n    setNewGameLocation('')\n    setShowNewGameForm(true)\n  }\n\n  const handleCreateGame = async (e: React.FormEvent) => {\n    e.preventDefault()\n\n    if (!newGameOpponent.trim()) {\n      alert('Please enter an opponent name')\n      return\n    }\n\n    try {\n      setCreatingGame(true)\n\n      const { data: { user } } = await supabase.auth.getUser()\n      if (!user) {\n        alert('Please sign in to create a new game')\n        return\n      }\n\n      // Use the selected team from context\n      let teamId = selectedTeamId\n\n      // If no team selected, get user's first team\n      if (!teamId) {\n        const { data: teamMembers } = await supabase\n          .from('team_members')\n          .select('team_id')\n          .eq('user_id', user.id)\n          .limit(1)\n\n        if (!teamMembers || teamMembers.length === 0) {\n          alert('No team found. Please create a team first.')\n          return\n        }\n\n        teamId = teamMembers[0].team_id\n        selectTeam(teamId) // Auto-select this team\n      }\n\n      const { data: newGame, error } = await supabase\n        .from('games')\n        .insert({\n          team_id: teamId,\n          opponent_name: newGameOpponent.trim(),\n          game_date: new Date().toISOString(),\n          location: newGameLocation.trim() !== '' ? newGameLocation.trim() : null,\n          status: 'in_progress',\n        })\n        .select()\n        .single()\n\n      if (error) throw error\n\n      console.log('âœ… New game created:', newGame.id, 'vs', newGameOpponent)\n\n      const storageKey = `current_game_${teamId}`\n      localStorage.setItem(storageKey, newGame.id)\n\n      setGameState({\n        gameId: newGame.id,\n        period: 1,\n        gameTimeSeconds: 1200,\n        score: { us: 0, them: 0 },\n        situation: 'even_strength',\n        status: 'in_progress',\n      })\n\n      await loadEvents(newGame.id)\n\n      // Update game info state\n      setGameInfo({\n        opponent_name: newGameOpponent.trim(),\n        game_date: newGame.game_date,\n        location: newGameLocation.trim() !== '' ? newGameLocation.trim() : null,\n      })\n\n      setShowNewGameForm(false)\n      setNewGameOpponent('')\n      setNewGameLocation('')\n\n      alert(`New game created vs ${newGameOpponent.trim()}! Ready to track events.`)\n    } catch (error) {\n      console.error('âŒ Error creating new game:', error)\n      alert('Failed to create new game. Please try again.')\n    } finally {\n      setCreatingGame(false)\n    }\n  }\n\n  const handleEditGameInfo = () => {\n    if (gameInfo) {\n      setEditOpponentName(gameInfo.opponent_name)\n      setEditLocation(gameInfo.location || '')\n      setIsEditingGameInfo(true)\n    }\n  }\n\n  const handleCancelEdit = () => {\n    setIsEditingGameInfo(false)\n    setEditOpponentName('')\n    setEditLocation('')\n  }\n\n  const handleSaveGameInfo = async () => {\n    if (!gameState.gameId || !editOpponentName.trim()) {\n      alert('Opponent name is required')\n      return\n    }\n\n    try {\n      setSavingGameInfo(true)\n\n      const { error } = await supabase\n        .from('games')\n        .update({\n          opponent_name: editOpponentName.trim(),\n          location: editLocation.trim() !== '' ? editLocation.trim() : null,\n        })\n        .eq('id', gameState.gameId)\n\n      if (error) throw error\n\n      // Update local state\n      setGameInfo({\n        ...gameInfo!,\n        opponent_name: editOpponentName.trim(),\n        location: editLocation.trim() !== '' ? editLocation.trim() : null,\n      })\n\n      setIsEditingGameInfo(false)\n      console.log('âœ… Game info updated successfully')\n    } catch (error) {\n      console.error('âŒ Error updating game info:', error)\n      alert('Failed to update game info. Please try again.')\n    } finally {\n      setSavingGameInfo(false)\n    }\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Compact Header - Fixed at top on mobile landscape */}\n        <div className=\"sticky top-0 z-20 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-3 py-2 md:p-4 shadow-lg landscape:py-1.5\">\n          <div className=\"flex items-center justify-between gap-2 md:gap-3\">\n            <div className=\"flex-1 min-w-0\">\n              {gameInfo && (\n                <div className=\"flex items-center gap-2 landscape:gap-1\">\n                  <span className=\"text-lg md:text-2xl landscape:text-base\">ðŸ’</span>\n                  <div className=\"flex-1 min-w-0\">\n                    <h2 className=\"text-sm md:text-xl font-bold truncate landscape:text-xs\">\n                      vs {gameInfo.opponent_name}\n                    </h2>\n                    <div className=\"hidden md:flex items-center gap-2 text-xs text-blue-100\">\n                      <span>\n                        {new Date(gameInfo.game_date).toLocaleDateString('en-US', {\n                          month: 'short',\n                          day: 'numeric',\n                        })}\n                      </span>\n                      {gameInfo.location && <span>@ {gameInfo.location}</span>}\n                    </div>\n                  </div>\n                </div>\n              )}\n            </div>\n\n            {/* View Toggle - Single button to switch between ice and events */}\n            <button\n              onClick={() => setMobileView(mobileView === 'ice' ? 'events' : 'ice')}\n              className={`px-2 py-1 rounded text-[10px] md:text-xs font-medium transition-colors whitespace-nowrap ${\n                mobileView === 'events'\n                  ? 'bg-white text-blue-600'\n                  : 'bg-white/20 hover:bg-white/30 text-white'\n              }`}\n            >\n              ðŸ“‹ Events\n            </button>\n\n            {/* Game Controls */}\n            <div className=\"flex items-center gap-1.5 md:gap-2\">\n              {/* Fullscreen Toggle - Mobile Only (if supported) */}\n              {supportsFullscreen && (\n                <button\n                  onClick={toggleFullscreen}\n                  className=\"md:hidden px-2 py-1 bg-white/20 hover:bg-white/30 rounded text-[10px] font-medium transition-colors whitespace-nowrap\"\n                  title={isFullscreen ? \"Exit fullscreen\" : \"Enter fullscreen\"}\n                >\n                  {isFullscreen ? 'â¬‡ï¸' : 'â¬†ï¸'}\n                </button>\n              )}\n              <button\n                onClick={() => setEndsSwapped(!endsSwapped)}\n                className=\"px-2 py-1 bg-white/20 hover:bg-white/30 rounded text-[10px] md:text-xs font-medium transition-colors whitespace-nowrap\"\n                title=\"Change which end is offensive/defensive\"\n              >\n                ðŸ”„ Change Ends\n              </button>\n              <button\n                onClick={handleEndPeriodClick}\n                disabled={gameState.period > 4 || isGameCompleted}\n                className=\"px-2 py-1 bg-white/20 hover:bg-white/30 rounded text-[10px] md:text-xs font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\n              >\n                {isGameCompleted ? 'Ended âœ“' : gameState.period === 4 ? 'End OT' : `End P${gameState.period}`}\n              </button>\n              <button\n                onClick={handleNewGameClick}\n                disabled={creatingGame}\n                className=\"px-2 py-1 bg-purple-500/80 hover:bg-purple-600 rounded text-[10px] md:text-xs font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed whitespace-nowrap\"\n              >\n                ðŸ†• New\n              </button>\n            </div>\n\n            <div className=\"flex items-center gap-2 landscape:gap-1\">\n              <div className=\"text-right\">\n                <div className=\"text-xs text-blue-100 font-semibold\">\n                  {gameState.period === 4 ? 'Overtime' : `Period ${gameState.period}`}\n                </div>\n                <div className=\"text-xl md:text-2xl font-bold landscape:text-base\">\n                  {gameState.score.us}-{gameState.score.them}\n                </div>\n              </div>\n              {gameInfo && (\n                <button\n                  onClick={handleEditGameInfo}\n                  className=\"px-2 py-1 bg-white/20 hover:bg-white/30 rounded text-xs landscape:px-1 landscape:text-[10px]\"\n                  title=\"Edit\"\n                >\n                  âœï¸\n                </button>\n              )}\n              <button\n                onClick={handleSignOut}\n                className=\"px-2 py-1 text-xs bg-white/20 hover:bg-white/30 rounded landscape:px-1 landscape:text-[10px]\"\n              >\n                Sign Out\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {/* Edit Game Info Modal - Only shown when editing */}\n        {isEditingGameInfo && gameInfo && (\n          <div className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n              <h3 className=\"text-xl font-bold mb-4\">Edit Game Information</h3>\n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Opponent Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={editOpponentName}\n                    onChange={(e) => setEditOpponentName(e.target.value)}\n                    placeholder=\"e.g., Hawks, Red Wings\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    disabled={savingGameInfo}\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Location (optional)\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={editLocation}\n                    onChange={(e) => setEditLocation(e.target.value)}\n                    placeholder=\"e.g., Home Arena, Away Rink\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    disabled={savingGameInfo}\n                  />\n                </div>\n              </div>\n              <div className=\"flex items-center gap-3 mt-6\">\n                <button\n                  onClick={handleSaveGameInfo}\n                  disabled={savingGameInfo || !editOpponentName.trim()}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  {savingGameInfo ? 'Saving...' : 'ðŸ’¾ Save'}\n                </button>\n                <button\n                  onClick={handleCancelEdit}\n                  disabled={savingGameInfo}\n                  className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors font-medium disabled:opacity-50\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* New Game Modal */}\n        {showNewGameForm && (\n          <div className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n              <h3 className=\"text-xl font-bold mb-4\">Create New Game</h3>\n              <form onSubmit={handleCreateGame} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Opponent Name *\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={newGameOpponent}\n                    onChange={(e) => setNewGameOpponent(e.target.value)}\n                    placeholder=\"e.g., Hawks, Red Wings\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                    disabled={creatingGame}\n                    autoFocus\n                    required\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Location (optional)\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={newGameLocation}\n                    onChange={(e) => setNewGameLocation(e.target.value)}\n                    placeholder=\"e.g., Home Arena, Away Rink\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-purple-500\"\n                    disabled={creatingGame}\n                  />\n                </div>\n                <div className=\"flex items-center gap-3 mt-6\">\n                  <button\n                    type=\"submit\"\n                    disabled={creatingGame || !newGameOpponent.trim()}\n                    className=\"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {creatingGame ? 'Creating...' : 'Create Game'}\n                  </button>\n                  <button\n                    type=\"button\"\n                    onClick={() => setShowNewGameForm(false)}\n                    disabled={creatingGame}\n                    className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors font-medium disabled:opacity-50\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {/* Period End Confirmation Modal */}\n        {showPeriodEndConfirm && (\n          <div className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n              <h3 className=\"text-xl font-bold mb-4\">\n                End {gameState.period === 4 ? 'Overtime' : `Period ${gameState.period}`}?\n              </h3>\n              <p className=\"text-gray-600 mb-6\">\n                {gameState.period === 4 ? (\n                  'End overtime and complete the game?'\n                ) : (\n                  `End period ${gameState.period} and continue to ${\n                    gameState.period === 1 ? 'period 2' : gameState.period === 2 ? 'period 3' : 'the next period'\n                  }?`\n                )}\n              </p>\n              <div className=\"flex items-center gap-3\">\n                <button\n                  onClick={handleConfirmEndPeriod}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium\"\n                >\n                  Yes, End Period\n                </button>\n                <button\n                  onClick={() => setShowPeriodEndConfirm(false)}\n                  className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors font-medium\"\n                >\n                  Cancel\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Period 3 End: Overtime or End Game Dialog */}\n        {showPeriod3EndDialog && (\n          <div className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center p-4\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n              <h3 className=\"text-xl font-bold mb-4\">Period 3 Complete</h3>\n              <p className=\"text-gray-600 mb-6\">\n                Is this the end of the game, or will there be overtime?\n              </p>\n              <div className=\"space-y-3\">\n                <button\n                  onClick={() => handlePeriod3Choice('end')}\n                  className=\"w-full px-4 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors font-medium text-left\"\n                >\n                  <div className=\"font-semibold\">End Game</div>\n                  <div className=\"text-sm text-green-100\">Game is complete</div>\n                </button>\n                <button\n                  onClick={() => handlePeriod3Choice('overtime')}\n                  className=\"w-full px-4 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors font-medium text-left\"\n                >\n                  <div className=\"font-semibold\">Overtime</div>\n                  <div className=\"text-sm text-blue-100\">Continue to overtime period</div>\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Main Layout - Toggle-based view */}\n        <div className=\"h-[calc(100vh-48px)]\">\n          {/* Ice Surface - Shown when ice view is selected */}\n          <div className={`h-full overflow-auto p-3 ${\n            mobileView === 'ice' ? 'block' : 'hidden'\n          }`}>\n            <EventLogger endsSwapped={endsSwapped} />\n          </div>\n\n          {/* Recent Events - Shown when events view is selected */}\n          <div className={`h-full overflow-auto p-3 ${\n            mobileView === 'events' ? 'block' : 'hidden'\n          }`}>\n            <RecentEventsList />\n          </div>\n\n          {/* Right Sidebar - No longer used (toggle replaces it) */}\n          <div className=\"hidden\">\n            {/* Game Completed Message */}\n            {isGameCompleted && (\n              <div className=\"bg-yellow-50 border-2 border-yellow-400 rounded-lg p-2\">\n                <div className=\"flex items-start gap-1\">\n                  <span className=\"text-lg\">ðŸ</span>\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-bold text-yellow-900 text-xs mb-0.5\">\n                      Game Ended\n                    </h3>\n                    <p className=\"text-[10px] text-yellow-800 leading-tight\">\n                      Start a new game to add events\n                    </p>\n                  </div>\n                </div>\n              </div>\n            )}\n\n            {/* Quick Event Buttons - Top of sidebar in landscape */}\n            {!isGameCompleted && (\n              <div className=\"bg-white rounded-lg shadow p-2\">\n                <h3 className=\"text-xs font-medium text-gray-700 mb-2\">Log Event</h3>\n                <QuickEventButtons\n                  onEventSelect={(eventType, prefilledDetails) => {\n                    useGameTrackingStore.getState().startEventLogging(eventType as any, undefined, prefilledDetails)\n                  }}\n                  showIcons={true}\n                  sidebarMode={true}\n                  selectedEventType={loggingFlow.step !== 'idle' ? loggingFlow.eventType : null}\n                />\n              </div>\n            )}\n\n            {/* Recent Events */}\n            <RecentEventsList />\n          </div>\n        </div>\n\n        {/* Feature Highlights - Hidden on mobile for space */}\n        <div className=\"hidden lg:block mt-8 bg-white rounded-lg shadow-lg p-6\">\n          <h2 className=\"text-xl font-bold mb-4\">Features Demonstrated</h2>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n            <div className=\"p-4 bg-blue-50 rounded-lg\">\n              <h3 className=\"font-semibold text-blue-900 mb-2\">âœ… Quick Event Logging</h3>\n              <p className=\"text-sm text-blue-700\">\n                6 event types with color-coded buttons for fast logging during live games\n              </p>\n            </div>\n\n            <div className=\"p-4 bg-green-50 rounded-lg\">\n              <h3 className=\"font-semibold text-green-900 mb-2\">âœ… Interactive Ice Surface</h3>\n              <p className=\"text-sm text-green-700\">\n                Tap anywhere to log exact location - coordinates mapped to database schema\n              </p>\n            </div>\n\n            <div className=\"p-4 bg-purple-50 rounded-lg\">\n              <h3 className=\"font-semibold text-purple-900 mb-2\">âœ… Player Quick Select</h3>\n              <p className=\"text-sm text-purple-700\">\n                Jersey number grid with position indicators for fast player selection\n              </p>\n            </div>\n\n            <div className=\"p-4 bg-amber-50 rounded-lg\">\n              <h3 className=\"font-semibold text-amber-900 mb-2\">âœ… Live Stats Calculation</h3>\n              <p className=\"text-sm text-amber-700\">\n                Real-time shot stats, breakout success rates, and turnover tracking\n              </p>\n            </div>\n\n            <div className=\"p-4 bg-red-50 rounded-lg\">\n              <h3 className=\"font-semibold text-red-900 mb-2\">âœ… Event Management</h3>\n              <p className=\"text-sm text-red-700\">\n                Undo last event, delete specific events, view recent history\n              </p>\n            </div>\n\n            <div className=\"p-4 bg-gray-50 rounded-lg\">\n              <h3 className=\"font-semibold text-gray-900 mb-2\">âœ… State Management</h3>\n              <p className=\"text-sm text-gray-700\">\n                Zustand store for predictable state transitions and event flow\n              </p>\n            </div>\n          </div>\n        </div>\n\n        {/* Workflow Info - Hidden on mobile for space */}\n        <div className=\"hidden lg:block mt-8 bg-blue-50 border border-blue-200 rounded-lg p-6\">\n          <h2 className=\"text-xl font-semibold text-blue-900 mb-4\">\n            Event Logging Workflow\n          </h2>\n\n          <div className=\"space-y-3\">\n            <div className=\"flex items-start gap-3\">\n              <span className=\"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold\">\n                1\n              </span>\n              <div>\n                <h3 className=\"font-semibold text-blue-900\">Select Event Type</h3>\n                <p className=\"text-sm text-blue-700\">\n                  Click a quick event button (Shot, Goal, Turnover, etc.)\n                </p>\n              </div>\n            </div>\n\n            <div className=\"flex items-start gap-3\">\n              <span className=\"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold\">\n                2\n              </span>\n              <div>\n                <h3 className=\"font-semibold text-blue-900\">Tap Ice Location</h3>\n                <p className=\"text-sm text-blue-700\">\n                  Tap the ice surface where the event occurred (coordinates auto-captured)\n                </p>\n              </div>\n            </div>\n\n            <div className=\"flex items-start gap-3\">\n              <span className=\"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold\">\n                3\n              </span>\n              <div>\n                <h3 className=\"font-semibold text-blue-900\">Select Player</h3>\n                <p className=\"text-sm text-blue-700\">\n                  Choose player from quick-select grid (sorted by jersey number)\n                </p>\n              </div>\n            </div>\n\n            <div className=\"flex items-start gap-3\">\n              <span className=\"flex-shrink-0 w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold\">\n                4\n              </span>\n              <div>\n                <h3 className=\"font-semibold text-blue-900\">Shot Result (if applicable)</h3>\n                <p className=\"text-sm text-blue-700\">\n                  For shots/goals: select result (Goal, Save, Miss, Blocked, Post)\n                </p>\n              </div>\n            </div>\n\n            <div className=\"flex items-start gap-3\">\n              <span className=\"flex-shrink-0 w-8 h-8 bg-green-600 text-white rounded-full flex items-center justify-center font-bold\">\n                âœ“\n              </span>\n              <div>\n                <h3 className=\"font-semibold text-green-900\">Event Logged!</h3>\n                <p className=\"text-sm text-green-700\">\n                  Event appears in recent list, stats update immediately, ice surface shows marker\n                </p>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-6 p-4 bg-white rounded border border-blue-300\">\n            <p className=\"text-sm text-blue-900\">\n              <strong>â±ï¸ Target Time:</strong> 5 seconds per event (as specified in product docs)\n            </p>\n          </div>\n        </div>\n\n        {/* Next Steps - Hidden on mobile for space */}\n        <div className=\"hidden lg:block mt-8 bg-white rounded-lg shadow-lg p-6\">\n          <h2 className=\"text-xl font-bold mb-4\">What's Working Now?</h2>\n\n          <ul className=\"space-y-2 text-gray-700\">\n            <li className=\"flex items-start gap-2\">\n              <span className=\"text-green-600\">âœ“</span>\n              <span>Event logger with multi-step flow</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"text-green-600\">âœ“</span>\n              <span>Live stats calculation and display</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"text-green-600\">âœ“</span>\n              <span>Recent events list with undo/delete</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"text-green-600\">âœ“</span>\n              <span><strong>Database persistence (events save to Supabase!)</strong></span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"text-green-600\">âœ“</span>\n              <span>Optimistic updates (instant UI, background sync)</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"text-green-600\">âœ“</span>\n              <span>Load events from database on page load</span>\n            </li>\n          </ul>\n\n          <h3 className=\"text-lg font-semibold mt-6 mb-3\">View Analytics</h3>\n          <div className=\"mb-4\">\n            <a\n              href=\"/demo/analytics\"\n              className=\"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold\"\n            >\n              ðŸ“Š View Post-Game Analytics Dashboard\n            </a>\n            <p className=\"text-sm text-gray-600 mt-2\">\n              See shot charts, breakout analysis, and period-by-period trends from your tracked events\n            </p>\n          </div>\n\n          <h3 className=\"text-lg font-semibold mt-6 mb-3\">What's Next?</h3>\n          <ul className=\"space-y-2 text-gray-700\">\n            <li className=\"flex items-start gap-2\">\n              <span className=\"text-gray-400\">â—‹</span>\n              <span>Offline support (IndexedDB + background sync)</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"text-gray-400\">â—‹</span>\n              <span>Period clock and game situation tracking</span>\n            </li>\n            <li className=\"flex items-start gap-2\">\n              <span className=\"text-gray-400\">â—‹</span>\n              <span>Event editing UI (post-game corrections)</span>\n            </li>\n          </ul>\n\n          <div className=\"mt-4 p-4 bg-blue-50 rounded-lg\">\n            <p className=\"text-sm text-blue-900\">\n              <strong>Try it:</strong> Log some events, refresh the page - your events persist! Check Supabase Studio at <code className=\"bg-white px-1 rounded\">localhost:54323</code> to see the data.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}