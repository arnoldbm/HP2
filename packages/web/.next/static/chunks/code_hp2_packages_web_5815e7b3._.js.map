{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/lib/db/game-events.ts"],"sourcesContent":["import { supabase } from './supabase'\nimport type { Database } from '@/lib/types/database'\nimport type { GameEvent } from '@/lib/stores/game-tracking-store'\nimport type { SupabaseClient } from '@supabase/supabase-js'\n\ntype GameEventRow = Database['public']['Tables']['game_events']['Row']\ntype GameEventInsert = Database['public']['Tables']['game_events']['Insert']\n\n/**\n * Save a game event to the database\n */\nexport async function saveGameEvent(\n  event: GameEvent,\n  client: SupabaseClient<Database> = supabase\n) {\n  // Debug: Check if we have a valid session\n  const {\n    data: { session },\n  } = await client.auth.getSession()\n  console.log('üìä Saving event with session:', session ? 'AUTHENTICATED' : 'NOT AUTHENTICATED')\n  if (session) {\n    console.log('User ID:', session.user.id)\n  } else {\n    console.error('‚ùå No session found! User is not authenticated.')\n  }\n\n  const eventData: GameEventInsert = {\n    game_id: event.gameId,\n    event_type: event.eventType as any,\n    x_coord: event.coordinates?.x || null,\n    y_coord: event.coordinates?.y || null,\n    period: event.period,\n    game_time_seconds: event.gameTimeSeconds,\n    player_id: event.playerId || null,\n    situation: event.situation as any,\n    details: event.details as any,\n  }\n\n  const { data, error } = await client\n    .from('game_events')\n    .insert(eventData)\n    .select()\n    .single()\n\n  if (error) {\n    console.error('Error saving game event:', error)\n\n    // If it's a 403 (Forbidden) error, sign out the user\n    // This typically means the session expired or RLS policy denied access\n    if (error.code === '42501' || error.message?.includes('row-level security')) {\n      console.error('üîí RLS policy denied access - signing out user')\n      await client.auth.signOut()\n    }\n\n    throw error\n  }\n\n  return data\n}\n\n/**\n * Update an existing game event\n */\nexport async function updateGameEvent(\n  eventId: string,\n  updates: Partial<GameEvent>,\n  client: SupabaseClient<Database> = supabase\n) {\n  const updateData: Partial<GameEventInsert> = {}\n\n  if (updates.coordinates) {\n    updateData.x_coord = updates.coordinates.x\n    updateData.y_coord = updates.coordinates.y\n  }\n\n  if (updates.playerId !== undefined) {\n    updateData.player_id = updates.playerId || null\n  }\n\n  if (updates.details) {\n    updateData.details = updates.details as any\n  }\n\n  if (updates.period) {\n    updateData.period = updates.period\n  }\n\n  if (updates.gameTimeSeconds !== undefined) {\n    updateData.game_time_seconds = updates.gameTimeSeconds\n  }\n\n  if (updates.situation) {\n    updateData.situation = updates.situation as any\n  }\n\n  const { data, error } = await client\n    .from('game_events')\n    .update(updateData)\n    .eq('id', eventId)\n    .select()\n    .single()\n\n  if (error) {\n    console.error('Error updating game event:', error)\n\n    // If it's a 403 (Forbidden) error, sign out the user\n    if (error.code === '42501' || error.message?.includes('row-level security')) {\n      console.error('üîí RLS policy denied access - signing out user')\n      await client.auth.signOut()\n    }\n\n    throw error\n  }\n\n  return data\n}\n\n/**\n * Delete a game event\n */\nexport async function deleteGameEvent(\n  eventId: string,\n  client: SupabaseClient<Database> = supabase\n) {\n  const { error } = await client\n    .from('game_events')\n    .delete()\n    .eq('id', eventId)\n\n  if (error) {\n    console.error('Error deleting game event:', error)\n\n    // If it's a 403 (Forbidden) error, sign out the user\n    if (error.code === '42501' || error.message?.includes('row-level security')) {\n      console.error('üîí RLS policy denied access - signing out user')\n      await client.auth.signOut()\n    }\n\n    throw error\n  }\n}\n\n/**\n * Fetch all events for a game\n */\nexport async function getGameEvents(\n  gameId: string,\n  client: SupabaseClient<Database> = supabase\n) {\n  const { data, error } = await client\n    .from('game_events')\n    .select('*')\n    .eq('game_id', gameId)\n    .order('event_timestamp', { ascending: true })\n\n  if (error) {\n    console.error('Error fetching game events:', error)\n\n    // If it's a 403 (Forbidden) error, sign out the user\n    if (error.code === '42501' || error.message?.includes('row-level security')) {\n      console.error('üîí RLS policy denied access - signing out user')\n      await client.auth.signOut()\n    }\n\n    throw error\n  }\n\n  return data\n}\n\n/**\n * Convert database row to GameEvent type\n */\nexport function mapRowToGameEvent(row: GameEventRow): GameEvent {\n  return {\n    id: row.id,\n    gameId: row.game_id,\n    eventType: row.event_type as any,\n    coordinates:\n      row.x_coord !== null && row.y_coord !== null\n        ? { x: row.x_coord, y: row.y_coord }\n        : undefined,\n    playerId: row.player_id || undefined,\n    period: row.period,\n    gameTimeSeconds: row.game_time_seconds || 0,\n    situation: row.situation as any,\n    details: (row.details as any) || {},\n    timestamp: row.event_timestamp || new Date().toISOString(),\n    trackedBy: row.tracked_by || undefined,\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 145, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/lib/stores/game-tracking-store.ts"],"sourcesContent":["import { create } from 'zustand'\nimport type { Coordinates } from '@/lib/utils/ice-surface-coordinates'\nimport {\n  saveGameEvent,\n  updateGameEvent,\n  deleteGameEvent as deleteGameEventFromDb,\n  getGameEvents,\n  mapRowToGameEvent,\n} from '@/lib/db/game-events'\n\n// Event types matching database schema\nexport type EventType =\n  | 'shot'\n  | 'breakout'\n  | 'turnover'\n  | 'zone_entry'\n  | 'faceoff'\n  | 'penalty'\n\nexport type ShotResult = 'goal' | 'save' | 'miss_high' | 'miss_wide' | 'blocked' | 'post'\nexport type ShotType = 'wrist' | 'slap' | 'snap' | 'backhand' | 'deflection' | 'one_timer'\nexport type GameSituation = 'even_strength' | 'power_play' | 'penalty_kill' | 'empty_net'\nexport type GameStatus = 'scheduled' | 'in_progress' | 'completed' | 'cancelled'\n\nexport interface GameEvent {\n  id: string\n  gameId: string\n  eventType: EventType\n  coordinates?: Coordinates\n  playerId?: string\n  period: number\n  gameTimeSeconds: number\n  situation: GameSituation\n  details: Record<string, unknown>\n  timestamp: string\n  trackedBy?: string\n}\n\nexport interface Player {\n  id: string\n  jerseyNumber: number\n  firstName: string\n  lastName: string\n  position: 'forward' | 'defense' | 'goalie'\n}\n\nexport interface GameState {\n  gameId: string | null\n  period: number\n  gameTimeSeconds: number\n  score: { us: number; them: number }\n  situation: GameSituation\n  status: GameStatus\n}\n\ninterface EventLoggingFlow {\n  step: 'idle' | 'select_location' | 'select_event_type' | 'select_player' | 'select_details' | 'complete'\n  eventType: EventType | null\n  coordinates: Coordinates | null\n  playerId: string | null\n  details: Record<string, unknown>\n}\n\ninterface GameTrackingStore {\n  // Game state\n  gameState: GameState\n  players: Player[]\n  events: GameEvent[]\n\n  // Event logging flow\n  loggingFlow: EventLoggingFlow\n\n  // Actions\n  setGameState: (state: Partial<GameState>) => void\n  setPlayers: (players: Player[]) => void\n\n  // Event logging flow\n  startEventLogging: (eventType: EventType, coordinates?: Coordinates, prefilledDetails?: Record<string, unknown>) => void\n  startLocationFirst: () => void // New: Start flow by clicking ice first\n  setCoordinates: (coordinates: Coordinates) => void\n  setEventType: (eventType: EventType, prefilledDetails?: Record<string, unknown>) => void // New: Set event type after location\n  setPlayer: (playerId: string) => void\n  setEventDetails: (details: Record<string, unknown>) => void\n  completeEvent: () => Promise<void>\n  cancelEventLogging: () => void\n\n  // Event management\n  addEvent: (event: GameEvent) => void\n  updateEvent: (eventId: string, updates: Partial<GameEvent>) => Promise<void>\n  deleteEvent: (eventId: string) => Promise<void>\n  undoLastEvent: () => Promise<void>\n  loadEvents: (gameId: string) => Promise<void>\n\n  // Computed stats\n  getEventsByType: (type: EventType) => GameEvent[]\n  getShotStats: () => {\n    total: number\n    onGoal: number\n    goals: number\n    saves: number\n    misses: number\n    blocked: number\n  }\n  getBreakoutStats: () => {\n    total: number\n    successful: number\n    failed: number\n    successRate: number\n  }\n}\n\nconst initialLoggingFlow: EventLoggingFlow = {\n  step: 'idle',\n  eventType: null,\n  coordinates: null,\n  playerId: null,\n  details: {},\n}\n\nexport const useGameTrackingStore = create<GameTrackingStore>((set, get) => ({\n  // Initial state\n  gameState: {\n    gameId: null,\n    period: 1,\n    gameTimeSeconds: 1200, // 20:00\n    score: { us: 0, them: 0 },\n    situation: 'even_strength',\n    status: 'in_progress',\n  },\n  players: [],\n  events: [],\n  loggingFlow: initialLoggingFlow,\n\n  // Game state actions\n  setGameState: (state) =>\n    set((prev) => ({\n      gameState: { ...prev.gameState, ...state },\n    })),\n\n  setPlayers: (players) => set({ players }),\n\n  // Event logging flow\n  startEventLogging: (eventType, coordinates, prefilledDetails) =>\n    set({\n      loggingFlow: {\n        step: coordinates ? 'select_player' : 'select_location',\n        eventType,\n        coordinates: coordinates || null,\n        playerId: null,\n        details: prefilledDetails || {},\n      },\n    }),\n\n  // New: Start flow by allowing user to click ice first\n  startLocationFirst: () =>\n    set({\n      loggingFlow: {\n        step: 'select_location',\n        eventType: null,\n        coordinates: null,\n        playerId: null,\n        details: {},\n      },\n    }),\n\n  setCoordinates: (coordinates) =>\n    set((prev) => ({\n      loggingFlow: {\n        ...prev.loggingFlow,\n        coordinates,\n        // If event type is already set, go to player; otherwise, select event type\n        step: prev.loggingFlow.eventType ? 'select_player' : 'select_event_type',\n      },\n    })),\n\n  // New: Set event type after location has been selected\n  setEventType: (eventType, prefilledDetails) =>\n    set((prev) => ({\n      loggingFlow: {\n        ...prev.loggingFlow,\n        eventType,\n        details: prefilledDetails || {},\n        step: 'select_player',\n      },\n    })),\n\n  setPlayer: (playerId) =>\n    set((prev) => ({\n      loggingFlow: {\n        ...prev.loggingFlow,\n        playerId,\n        step: prev.loggingFlow.eventType === 'shot' ? 'select_details' : 'complete',\n      },\n    })),\n\n  setEventDetails: (details) =>\n    set((prev) => ({\n      loggingFlow: {\n        ...prev.loggingFlow,\n        details: { ...prev.loggingFlow.details, ...details },\n        step: 'complete',\n      },\n    })),\n\n  completeEvent: async () => {\n    const { loggingFlow, gameState, events } = get()\n\n    if (!loggingFlow.eventType || !gameState.gameId) {\n      return\n    }\n\n    const tempEvent: GameEvent = {\n      id: `temp_${Date.now()}`, // Temporary ID until synced with DB\n      gameId: gameState.gameId,\n      eventType: loggingFlow.eventType,\n      coordinates: loggingFlow.coordinates || undefined,\n      playerId: loggingFlow.playerId || undefined,\n      period: gameState.period,\n      gameTimeSeconds: gameState.gameTimeSeconds,\n      situation: gameState.situation,\n      details: loggingFlow.details,\n      timestamp: new Date().toISOString(),\n    }\n\n    // Optimistic update - add to local state immediately\n    set({\n      events: [...events, tempEvent],\n      loggingFlow: initialLoggingFlow,\n    })\n\n    // Save to database in background\n    try {\n      const savedEvent = await saveGameEvent(tempEvent)\n\n      // Update local event with real ID from database\n      set((state) => ({\n        events: state.events.map((e) =>\n          e.id === tempEvent.id ? mapRowToGameEvent(savedEvent) : e\n        ),\n      }))\n    } catch (error) {\n      console.error('Failed to save event to database:', error)\n      // TODO: Add to sync queue for offline support\n    }\n  },\n\n  cancelEventLogging: () =>\n    set({\n      loggingFlow: initialLoggingFlow,\n    }),\n\n  // Event management\n  addEvent: (event) =>\n    set((prev) => ({\n      events: [...prev.events, event],\n    })),\n\n  updateEvent: async (eventId, updates) => {\n    // Optimistic update\n    set((prev) => ({\n      events: prev.events.map((e) =>\n        e.id === eventId ? { ...e, ...updates } : e\n      ),\n    }))\n\n    // Persist to database\n    try {\n      await updateGameEvent(eventId, updates)\n    } catch (error) {\n      console.error('Failed to update event in database:', error)\n      // TODO: Add to sync queue for offline support\n    }\n  },\n\n  deleteEvent: async (eventId) => {\n    // Optimistic update\n    set((prev) => ({\n      events: prev.events.filter((e) => e.id !== eventId),\n    }))\n\n    // Persist to database (skip temp events)\n    if (!eventId.startsWith('temp_')) {\n      try {\n        await deleteGameEventFromDb(eventId)\n      } catch (error) {\n        console.error('Failed to delete event from database:', error)\n        // TODO: Add to sync queue for offline support\n      }\n    }\n  },\n\n  undoLastEvent: async () => {\n    const { events } = get()\n    if (events.length === 0) return\n\n    const lastEvent = events[events.length - 1]\n\n    // Optimistic update\n    set((prev) => ({\n      events: prev.events.slice(0, -1),\n    }))\n\n    // Delete from database (skip temp events)\n    if (!lastEvent.id.startsWith('temp_')) {\n      try {\n        await deleteGameEventFromDb(lastEvent.id)\n      } catch (error) {\n        console.error('Failed to undo event in database:', error)\n        // TODO: Add to sync queue for offline support\n      }\n    }\n  },\n\n  loadEvents: async (gameId) => {\n    try {\n      const rows = await getGameEvents(gameId)\n      const events = rows.map(mapRowToGameEvent)\n\n      set({ events })\n    } catch (error) {\n      console.error('Failed to load events from database:', error)\n    }\n  },\n\n  // Computed stats\n  getEventsByType: (type) => {\n    return get().events.filter((e) => e.eventType === type)\n  },\n\n  getShotStats: () => {\n    const { events } = get()\n    const shotEvents = events.filter((e) => e.eventType === 'shot')\n\n    const stats = {\n      total: shotEvents.length,\n      onGoal: 0,\n      goals: 0,\n      saves: 0,\n      misses: 0,\n      blocked: 0,\n    }\n\n    shotEvents.forEach((event) => {\n      const result = event.details.result as ShotResult | undefined\n\n      if (result === 'goal') {\n        stats.goals++\n        stats.onGoal++\n      } else if (result === 'save') {\n        stats.saves++\n        stats.onGoal++\n      } else if (result === 'blocked') {\n        stats.blocked++\n      } else {\n        // miss_high, miss_wide, post, or undefined\n        stats.misses++\n      }\n    })\n\n    return stats\n  },\n\n  getBreakoutStats: () => {\n    const { events } = get()\n    const breakouts = events.filter((e) => e.eventType === 'breakout')\n\n    const successful = breakouts.filter((e) => e.details.success === true).length\n    const failed = breakouts.filter((e) => e.details.success === false).length\n\n    return {\n      total: breakouts.length,\n      successful,\n      failed,\n      successRate: breakouts.length > 0 ? (successful / breakouts.length) * 100 : 0,\n    }\n  },\n}))\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 399, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/lib/analytics/game-analytics.ts"],"sourcesContent":["import type { GameEvent, ShotResult, Player } from '@/lib/stores/game-tracking-store'\n\nexport interface PlayerStats {\n  playerId: string\n  playerName: string\n  jerseyNumber: number\n  position: string\n  shots: number\n  goals: number\n  shootingPct: number\n  turnovers: number\n  breakouts: number\n  breakoutSuccessPct: number\n  zoneEntries: number\n  faceoffs: number\n  faceoffWins: number\n  faceoffWinPct: number\n  totalEvents: number\n}\n\nexport interface ShotData {\n  x: number\n  y: number\n  result: ShotResult\n  shotQuality?: 'high' | 'medium' | 'low'\n  period: number\n  situation: string\n  playerId?: string\n}\n\nexport interface ShotQualityStats {\n  high: { count: number; goals: number; percentage: number }\n  medium: { count: number; goals: number; percentage: number }\n  low: { count: number; goals: number; percentage: number }\n  total: { count: number; goals: number; percentage: number }\n}\n\nexport interface BreakoutAnalytics {\n  total: number\n  successful: number\n  failed: number\n  successRate: number\n  byType: Record<string, { total: number; successful: number; successRate: number }>\n}\n\nexport interface PeriodStats {\n  period: number\n  shots: number\n  goals: number\n  turnovers: number\n  breakouts: number\n  zoneEntries: number\n}\n\nexport interface TurnoverData {\n  x: number\n  y: number\n  period: number\n  situation: string\n}\n\n/**\n * Extract shot data from events for visualization\n */\nexport function extractShotData(events: GameEvent[]): ShotData[] {\n  return events\n    .filter((e) => e.eventType === 'shot' && e.coordinates)\n    .map((event) => ({\n      x: event.coordinates!.x,\n      y: event.coordinates!.y,\n      result: (event.details.result as ShotResult) || 'miss_high',\n      shotQuality: event.details.shot_quality as 'high' | 'medium' | 'low' | undefined,\n      period: event.period,\n      situation: event.situation,\n      playerId: event.playerId,\n    }))\n}\n\n/**\n * Calculate shot quality statistics\n */\nexport function calculateShotQualityStats(events: GameEvent[]): ShotQualityStats {\n  const shots = events.filter((e) => e.eventType === 'shot')\n\n  const stats: ShotQualityStats = {\n    high: { count: 0, goals: 0, percentage: 0 },\n    medium: { count: 0, goals: 0, percentage: 0 },\n    low: { count: 0, goals: 0, percentage: 0 },\n    total: { count: shots.length, goals: 0, percentage: 0 },\n  }\n\n  shots.forEach((shot) => {\n    const quality = shot.details.shot_quality as 'high' | 'medium' | 'low' | undefined\n    const isGoal = shot.details.result === 'goal'\n\n    if (isGoal) {\n      stats.total.goals++\n    }\n\n    if (quality) {\n      stats[quality].count++\n      if (isGoal) {\n        stats[quality].goals++\n      }\n    }\n  })\n\n  // Calculate percentages\n  if (stats.high.count > 0) {\n    stats.high.percentage = (stats.high.goals / stats.high.count) * 100\n  }\n  if (stats.medium.count > 0) {\n    stats.medium.percentage = (stats.medium.goals / stats.medium.count) * 100\n  }\n  if (stats.low.count > 0) {\n    stats.low.percentage = (stats.low.goals / stats.low.count) * 100\n  }\n  if (stats.total.count > 0) {\n    stats.total.percentage = (stats.total.goals / stats.total.count) * 100\n  }\n\n  return stats\n}\n\n/**\n * Analyze breakout performance\n */\nexport function analyzeBreakouts(events: GameEvent[]): BreakoutAnalytics {\n  const breakouts = events.filter((e) => e.eventType === 'breakout')\n\n  const analytics: BreakoutAnalytics = {\n    total: breakouts.length,\n    successful: 0,\n    failed: 0,\n    successRate: 0,\n    byType: {},\n  }\n\n  breakouts.forEach((breakout) => {\n    const success = breakout.details.success === true\n    const type = (breakout.details.type as string) || 'unknown'\n\n    if (success) {\n      analytics.successful++\n    } else {\n      analytics.failed++\n    }\n\n    // Track by type\n    if (!analytics.byType[type]) {\n      analytics.byType[type] = { total: 0, successful: 0, successRate: 0 }\n    }\n    analytics.byType[type].total++\n    if (success) {\n      analytics.byType[type].successful++\n    }\n  })\n\n  // Calculate success rates\n  if (analytics.total > 0) {\n    analytics.successRate = (analytics.successful / analytics.total) * 100\n  }\n\n  Object.keys(analytics.byType).forEach((type) => {\n    const typeStats = analytics.byType[type]\n    if (typeStats.total > 0) {\n      typeStats.successRate = (typeStats.successful / typeStats.total) * 100\n    }\n  })\n\n  return analytics\n}\n\n/**\n * Get period-by-period statistics\n */\nexport function getPeriodStats(events: GameEvent[], maxPeriod = 3): PeriodStats[] {\n  const periodStats: PeriodStats[] = []\n\n  for (let period = 1; period <= maxPeriod; period++) {\n    const periodEvents = events.filter((e) => e.period === period)\n\n    periodStats.push({\n      period,\n      shots: periodEvents.filter((e) => e.eventType === 'shot').length,\n      goals: periodEvents.filter(\n        (e) => e.eventType === 'shot' && e.details.result === 'goal'\n      ).length,\n      turnovers: periodEvents.filter((e) => e.eventType === 'turnover').length,\n      breakouts: periodEvents.filter((e) => e.eventType === 'breakout').length,\n      zoneEntries: periodEvents.filter((e) => e.eventType === 'zone_entry').length,\n    })\n  }\n\n  return periodStats\n}\n\n/**\n * Extract turnover data for heat map\n */\nexport function extractTurnoverData(events: GameEvent[]): TurnoverData[] {\n  return events\n    .filter((e) => e.eventType === 'turnover' && e.coordinates)\n    .map((event) => ({\n      x: event.coordinates!.x,\n      y: event.coordinates!.y,\n      period: event.period,\n      situation: event.situation,\n    }))\n}\n\n/**\n * Calculate shooting percentage by situation\n */\nexport function getShootingPercentageBySituation(events: GameEvent[]) {\n  const situations = ['even_strength', 'power_play', 'penalty_kill'] as const\n\n  return situations.map((situation) => {\n    const shots = events.filter(\n      (e) => e.eventType === 'shot' && e.situation === situation\n    )\n    const goals = shots.filter((s) => s.details.result === 'goal').length\n\n    return {\n      situation,\n      shots: shots.length,\n      goals,\n      percentage: shots.length > 0 ? (goals / shots.length) * 100 : 0,\n    }\n  })\n}\n\n/**\n * Calculate per-player statistics from game events\n */\nexport function calculatePlayerStats(events: GameEvent[], players: Player[]): PlayerStats[] {\n  return players.map((player) => {\n    // Filter events for this player\n    const playerEvents = events.filter((e) => e.playerId === player.id)\n\n    // Shots and goals\n    const shots = playerEvents.filter((e) => e.eventType === 'shot')\n    const goals = shots.filter((s) => s.details.result === 'goal')\n    const shootingPct = shots.length > 0 ? (goals.length / shots.length) * 100 : 0\n\n    // Turnovers\n    const turnovers = playerEvents.filter((e) => e.eventType === 'turnover')\n\n    // Breakouts\n    const breakouts = playerEvents.filter((e) => e.eventType === 'breakout')\n    const successfulBreakouts = breakouts.filter((b) => b.details.success === true)\n    const breakoutSuccessPct = breakouts.length > 0 ? (successfulBreakouts.length / breakouts.length) * 100 : 0\n\n    // Zone entries\n    const zoneEntries = playerEvents.filter((e) => e.eventType === 'zone_entry')\n\n    // Faceoffs\n    const faceoffs = playerEvents.filter((e) => e.eventType === 'faceoff')\n    const faceoffWins = faceoffs.filter((f) => f.details.won === true)\n    const faceoffWinPct = faceoffs.length > 0 ? (faceoffWins.length / faceoffs.length) * 100 : 0\n\n    return {\n      playerId: player.id,\n      playerName: `${player.firstName[0]}. ${player.lastName}`,\n      jerseyNumber: player.jerseyNumber,\n      position: player.position,\n      shots: shots.length,\n      goals: goals.length,\n      shootingPct,\n      turnovers: turnovers.length,\n      breakouts: breakouts.length,\n      breakoutSuccessPct,\n      zoneEntries: zoneEntries.length,\n      faceoffs: faceoffs.length,\n      faceoffWins: faceoffWins.length,\n      faceoffWinPct,\n      totalEvents: playerEvents.length,\n    }\n  }).filter(stats => stats.totalEvents > 0) // Only show players with events\n   .sort((a, b) => b.totalEvents - a.totalEvents) // Sort by most active players\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 609, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/lib/utils/ice-surface-coordinates.ts"],"sourcesContent":["/**\n * Ice Surface Coordinate Helpers\n *\n * Utilities for working with ice surface coordinates in the game tracking system.\n *\n * Coordinate System:\n * - x: 0-200 (left to right, defensive zone ‚Üí offensive zone)\n * - y: 0-100 (bottom to top)\n * - Based on NHL standard rink dimensions (200 feet x 85 feet)\n *\n * Key Locations:\n * - (0, 0) = Defensive zone, bottom-left corner\n * - (100, 50) = Center ice\n * - (200, 100) = Offensive zone, top-right corner\n *\n * Standard Rink Markings:\n * - Goal lines: x = 11, x = 189 (11 feet from boards)\n * - Blue lines: x = 64, x = 136 (64 and 136 feet from end boards)\n * - Center red line: x = 100\n *\n * Zones:\n * - Defensive: x < 64 (0-63)\n * - Neutral: x 64-136\n * - Offensive: x > 136 (137-200)\n *\n * High Danger Area (Slot):\n * - x: 145-175, y: 35-65\n * - Very close to net: x: 175-189, y: 40-60\n */\n\nexport interface Coordinates {\n  x: number\n  y: number\n}\n\nexport interface ScreenCoordinates {\n  x: number\n  y: number\n}\n\nexport type Zone = 'defensive' | 'neutral' | 'offensive'\nexport type Quadrant = 'defensive_left' | 'defensive_right' | 'neutral_left' | 'neutral_right' | 'offensive_left' | 'offensive_right'\n\n// ===========================================\n// VALIDATION\n// ===========================================\n\n/**\n * Check if coordinates are within valid ice surface bounds\n * @param coords - Coordinates to validate\n * @returns True if coordinates are valid\n */\nexport function isValidCoordinate(coords: Coordinates): boolean {\n  return (\n    coords.x >= 0 &&\n    coords.x <= 200 &&\n    coords.y >= 0 &&\n    coords.y <= 100\n  )\n}\n\n/**\n * Normalize coordinates to ensure they're within bounds (clamp)\n * @param coords - Coordinates to normalize\n * @returns Normalized coordinates within valid bounds\n */\nexport function normalizeCoordinates(coords: Coordinates): Coordinates {\n  return {\n    x: Math.max(0, Math.min(200, coords.x)),\n    y: Math.max(0, Math.min(100, coords.y)),\n  }\n}\n\n// ===========================================\n// ZONE DETECTION\n// ===========================================\n\n/**\n * Determine which zone the coordinates are in\n * @param coords - Ice surface coordinates\n * @returns Zone: 'defensive', 'neutral', or 'offensive'\n */\nexport function getZone(coords: Coordinates): Zone {\n  if (coords.x < 64) return 'defensive'\n  if (coords.x <= 136) return 'neutral'\n  return 'offensive'\n}\n\n/**\n * Get the quadrant (zone + side) for coordinates\n * @param coords - Ice surface coordinates\n * @returns Quadrant identifier\n */\nexport function getQuadrant(coords: Coordinates): Quadrant {\n  const zone = getZone(coords)\n  const side = coords.y <= 50 ? 'left' : 'right'\n  return `${zone}_${side}` as Quadrant\n}\n\n// ===========================================\n// HIGH DANGER AREA DETECTION\n// ===========================================\n\n/**\n * Check if coordinates are in the high-danger slot area\n * @param coords - Ice surface coordinates\n * @returns True if in slot area (x: 145-175, y: 35-65)\n */\nexport function isInSlot(coords: Coordinates): boolean {\n  return (\n    coords.x >= 145 &&\n    coords.x <= 175 &&\n    coords.y >= 35 &&\n    coords.y <= 65\n  )\n}\n\n/**\n * Check if coordinates are in any high danger area\n * Includes slot and very close to net\n * @param coords - Ice surface coordinates\n * @returns True if in high danger area\n */\nexport function isInHighDangerArea(coords: Coordinates): boolean {\n  // Slot area\n  if (isInSlot(coords)) return true\n\n  // Very close to net (right in front of crease)\n  if (\n    coords.x >= 175 &&\n    coords.x <= 189 &&\n    coords.y >= 40 &&\n    coords.y <= 60\n  ) {\n    return true\n  }\n\n  return false\n}\n\n// ===========================================\n// CALCULATIONS\n// ===========================================\n\n/**\n * Calculate Euclidean distance between two points\n * @param from - Starting coordinates\n * @param to - Ending coordinates\n * @returns Distance in coordinate units\n */\nexport function getDistance(from: Coordinates, to: Coordinates): number {\n  const dx = to.x - from.x\n  const dy = to.y - from.y\n  return Math.sqrt(dx * dx + dy * dy)\n}\n\n// ===========================================\n// SCREEN COORDINATE CONVERSION\n// ===========================================\n\n/**\n * Convert screen coordinates (from click/tap) to ice surface coordinates\n * @param screenCoords - Screen pixel coordinates (relative to SVG container)\n * @param screenWidth - Width of the screen container in pixels\n * @param screenHeight - Height of the screen container in pixels\n * @returns Ice surface coordinates (x: 0-200, y: 0-100)\n */\nexport function screenToIce(\n  screenCoords: ScreenCoordinates,\n  screenWidth: number,\n  screenHeight: number\n): Coordinates {\n  const x = Math.round((screenCoords.x / screenWidth) * ICE_SURFACE.WIDTH)\n  const y = Math.round((screenCoords.y / screenHeight) * ICE_SURFACE.HEIGHT)\n\n  return normalizeCoordinates({ x, y })\n}\n\n/**\n * Convert ice surface coordinates to screen coordinates (for rendering)\n * @param iceCoords - Ice surface coordinates (x: 0-200, y: 0-100)\n * @param screenWidth - Width of the screen container in pixels\n * @param screenHeight - Height of the screen container in pixels\n * @returns Screen pixel coordinates\n */\nexport function iceToScreen(\n  iceCoords: Coordinates,\n  screenWidth: number,\n  screenHeight: number\n): ScreenCoordinates {\n  const x = (iceCoords.x / ICE_SURFACE.WIDTH) * screenWidth\n  const y = (iceCoords.y / ICE_SURFACE.HEIGHT) * screenHeight\n\n  return { x, y }\n}\n\n// ===========================================\n// HELPER CONSTANTS\n// ===========================================\n\nexport const ICE_SURFACE = {\n  WIDTH: 200,\n  HEIGHT: 100,\n  CENTER: { x: 100, y: 50 },\n  ZONES: {\n    DEFENSIVE_END: 64, // Blue line position (64 feet from end boards)\n    NEUTRAL_END: 136,  // Blue line position (136 feet from end boards)\n  },\n  SLOT: {\n    MIN_X: 145, // High danger area in offensive zone\n    MAX_X: 175,\n    MIN_Y: 35,\n    MAX_Y: 65,\n  },\n} as const\n"],"names":[],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA4BC;;;;;;;;;;;;;;;;;;;;;;AAwBM,SAAS,kBAAkB,MAAmB;IACnD,OACE,OAAO,CAAC,IAAI,KACZ,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,KACZ,OAAO,CAAC,IAAI;AAEhB;AAOO,SAAS,qBAAqB,MAAmB;IACtD,OAAO;QACL,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,OAAO,CAAC;QACrC,GAAG,KAAK,GAAG,CAAC,GAAG,KAAK,GAAG,CAAC,KAAK,OAAO,CAAC;IACvC;AACF;AAWO,SAAS,QAAQ,MAAmB;IACzC,IAAI,OAAO,CAAC,GAAG,IAAI,OAAO;IAC1B,IAAI,OAAO,CAAC,IAAI,KAAK,OAAO;IAC5B,OAAO;AACT;AAOO,SAAS,YAAY,MAAmB;IAC7C,MAAM,OAAO,QAAQ;IACrB,MAAM,OAAO,OAAO,CAAC,IAAI,KAAK,SAAS;IACvC,OAAO,AAAC,GAAU,OAAR,MAAK,KAAQ,OAAL;AACpB;AAWO,SAAS,SAAS,MAAmB;IAC1C,OACE,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,MACZ,OAAO,CAAC,IAAI;AAEhB;AAQO,SAAS,mBAAmB,MAAmB;IACpD,YAAY;IACZ,IAAI,SAAS,SAAS,OAAO;IAE7B,+CAA+C;IAC/C,IACE,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,OACZ,OAAO,CAAC,IAAI,MACZ,OAAO,CAAC,IAAI,IACZ;QACA,OAAO;IACT;IAEA,OAAO;AACT;AAYO,SAAS,YAAY,IAAiB,EAAE,EAAe;IAC5D,MAAM,KAAK,GAAG,CAAC,GAAG,KAAK,CAAC;IACxB,MAAM,KAAK,GAAG,CAAC,GAAG,KAAK,CAAC;IACxB,OAAO,KAAK,IAAI,CAAC,KAAK,KAAK,KAAK;AAClC;AAaO,SAAS,YACd,YAA+B,EAC/B,WAAmB,EACnB,YAAoB;IAEpB,MAAM,IAAI,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,GAAG,cAAe,YAAY,KAAK;IACvE,MAAM,IAAI,KAAK,KAAK,CAAC,AAAC,aAAa,CAAC,GAAG,eAAgB,YAAY,MAAM;IAEzE,OAAO,qBAAqB;QAAE;QAAG;IAAE;AACrC;AASO,SAAS,YACd,SAAsB,EACtB,WAAmB,EACnB,YAAoB;IAEpB,MAAM,IAAI,AAAC,UAAU,CAAC,GAAG,YAAY,KAAK,GAAI;IAC9C,MAAM,IAAI,AAAC,UAAU,CAAC,GAAG,YAAY,MAAM,GAAI;IAE/C,OAAO;QAAE;QAAG;IAAE;AAChB;AAMO,MAAM,cAAc;IACzB,OAAO;IACP,QAAQ;IACR,QAAQ;QAAE,GAAG;QAAK,GAAG;IAAG;IACxB,OAAO;QACL,eAAe;QACf,aAAa;IACf;IACA,MAAM;QACJ,OAAO;QACP,OAAO;QACP,OAAO;QACP,OAAO;IACT;AACF","debugId":null}},
    {"offset": {"line": 736, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/game-tracking/ice-surface.tsx"],"sourcesContent":["'use client'\n\nimport React, { useRef, MouseEvent } from 'react'\nimport {\n  screenToIce,\n  iceToScreen,\n  type Coordinates,\n  ICE_SURFACE,\n} from '@/lib/utils/ice-surface-coordinates'\n\nexport interface IceEvent {\n  id: string\n  x: number\n  y: number\n  type: 'shot' | 'goal' | 'turnover' | 'breakout' | 'zone_entry' | 'zone_exit'\n}\n\nexport interface IceSurfaceProps {\n  width?: number | string\n  height?: number | string\n  onClick?: (coords: Coordinates) => void\n  showZones?: boolean\n  showSlot?: boolean\n  events?: IceEvent[]\n  className?: string\n  responsive?: boolean // New prop for responsive behavior\n  endsSwapped?: boolean // New prop to flip offensive/defensive ends\n}\n\nexport function IceSurface({\n  width,\n  height,\n  onClick,\n  showZones = false,\n  showSlot = false,\n  events = [],\n  className = '',\n  responsive = true, // Default to responsive\n  endsSwapped = false,\n}: IceSurfaceProps) {\n  const svgRef = useRef<SVGSVGElement>(null)\n\n  // For responsive mode, use 100% width and auto height\n  const svgWidth = responsive ? '100%' : (width || 400)\n  const svgHeight = responsive ? 'auto' : (height || 200)\n\n  const handleClick = (e: MouseEvent<SVGSVGElement>) => {\n    if (!onClick) return\n\n    const svg = svgRef.current\n    if (!svg) return\n\n    // Get click position relative to SVG\n    const rect = svg.getBoundingClientRect()\n    const screenX = e.clientX - rect.left\n    const screenY = e.clientY - rect.top\n\n    // Convert to ice coordinates\n    const iceCoords = screenToIce(\n      { x: screenX, y: screenY },\n      rect.width,\n      rect.height\n    )\n\n    onClick(iceCoords)\n  }\n\n  // Convert event type to color\n  const getEventColor = (type: IceEvent['type']): string => {\n    switch (type) {\n      case 'shot':\n      case 'goal':\n        return '#3b82f6' // blue\n      case 'turnover':\n        return '#ef4444' // red\n      case 'breakout':\n        return '#10b981' // green\n      case 'zone_entry':\n      case 'zone_exit':\n        return '#f59e0b' // amber\n      default:\n        return '#6b7280' // gray\n    }\n  }\n\n  return (\n    <svg\n      ref={svgRef}\n      width={svgWidth}\n      height={svgHeight}\n      viewBox={`0 0 ${ICE_SURFACE.WIDTH} ${ICE_SURFACE.HEIGHT}`}\n      preserveAspectRatio=\"xMidYMid meet\"\n      role=\"img\"\n      aria-label=\"Hockey ice surface\"\n      onClick={handleClick}\n      className={`cursor-pointer ${responsive ? 'max-w-full' : ''} ${className}`}\n      style={{ border: '2px solid #666', display: 'block', borderRadius: '8px' }}\n    >\n      {/* Ice surface background - white ice */}\n      <rect\n        x={0}\n        y={0}\n        width={ICE_SURFACE.WIDTH}\n        height={ICE_SURFACE.HEIGHT}\n        fill=\"#ffffff\"\n        rx={4}\n      />\n\n      {/* Boards (darker border inside) */}\n      <rect\n        x={1}\n        y={1}\n        width={ICE_SURFACE.WIDTH - 2}\n        height={ICE_SURFACE.HEIGHT - 2}\n        fill=\"none\"\n        stroke=\"#333\"\n        strokeWidth={2}\n        rx={4}\n      />\n\n      {/* Goal lines (thin red lines at ends) - 11 feet from boards */}\n      <line\n        x1={11}\n        y1={0}\n        x2={11}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n      <line\n        x1={189}\n        y1={0}\n        x2={189}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n\n      {/* Blue line - Defensive zone (64 feet from end) */}\n      <line\n        x1={64}\n        y1={0}\n        x2={64}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#0066cc\"\n        strokeWidth={2}\n      />\n\n      {/* Blue line - Offensive zone (136 feet from end) */}\n      <line\n        x1={136}\n        y1={0}\n        x2={136}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#0066cc\"\n        strokeWidth={2}\n      />\n\n      {/* Red center line */}\n      <line\n        x1={ICE_SURFACE.CENTER.x}\n        y1={0}\n        x2={ICE_SURFACE.CENTER.x}\n        y2={ICE_SURFACE.HEIGHT}\n        stroke=\"#cc0000\"\n        strokeWidth={2}\n      />\n\n      {/* Center ice circle (15 foot radius) */}\n      <circle\n        cx={100}\n        cy={50}\n        r={15}\n        fill=\"none\"\n        stroke=\"#0066cc\"\n        strokeWidth={1.5}\n      />\n\n      {/* Center ice dot */}\n      <circle\n        cx={100}\n        cy={50}\n        r={1}\n        fill=\"#0066cc\"\n      />\n\n      {/* Defensive zone faceoff circles - 20 feet from goal line, 22 feet from boards */}\n      <circle\n        cx={31}\n        cy={26}\n        r={15}\n        fill=\"none\"\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n      <circle\n        cx={31}\n        cy={74}\n        r={15}\n        fill=\"none\"\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n\n      {/* Offensive zone faceoff circles */}\n      <circle\n        cx={169}\n        cy={26}\n        r={15}\n        fill=\"none\"\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n      <circle\n        cx={169}\n        cy={74}\n        r={15}\n        fill=\"none\"\n        stroke=\"#cc0000\"\n        strokeWidth={1.5}\n      />\n\n      {/* Faceoff dots in end zone circles */}\n      <circle cx={31} cy={26} r={1.5} fill=\"#cc0000\" />\n      <circle cx={31} cy={74} r={1.5} fill=\"#cc0000\" />\n      <circle cx={169} cy={26} r={1.5} fill=\"#cc0000\" />\n      <circle cx={169} cy={74} r={1.5} fill=\"#cc0000\" />\n\n      {/* Neutral zone faceoff dots - 5 feet outside blue lines */}\n      <circle cx={69} cy={26} r={1.5} fill=\"#cc0000\" />\n      <circle cx={69} cy={74} r={1.5} fill=\"#cc0000\" />\n      <circle cx={131} cy={26} r={1.5} fill=\"#cc0000\" />\n      <circle cx={131} cy={74} r={1.5} fill=\"#cc0000\" />\n\n      {/* Goal creases - Defensive (4 foot radius semi-circle) */}\n      <path\n        d=\"M 7 45 A 6 6 0 0 1 7 55 L 11 55 L 11 45 Z\"\n        fill=\"rgba(173, 216, 230, 0.4)\"\n        stroke=\"#0066cc\"\n        strokeWidth={1.5}\n      />\n\n      {/* Goal creases - Offensive */}\n      <path\n        d=\"M 193 45 A 6 6 0 0 0 193 55 L 189 55 L 189 45 Z\"\n        fill=\"rgba(173, 216, 230, 0.4)\"\n        stroke=\"#0066cc\"\n        strokeWidth={1.5}\n      />\n\n      {/* Optional zone shading */}\n      {showZones && (\n        <>\n          {/* Defensive zone shading */}\n          <rect\n            x={0}\n            y={0}\n            width={64}\n            height={ICE_SURFACE.HEIGHT}\n            fill=\"rgba(200, 220, 255, 0.15)\"\n            data-zone=\"defensive\"\n          />\n\n          {/* Offensive zone shading */}\n          <rect\n            x={136}\n            y={0}\n            width={64}\n            height={ICE_SURFACE.HEIGHT}\n            fill=\"rgba(255, 220, 220, 0.15)\"\n            data-zone=\"offensive\"\n          />\n        </>\n      )}\n\n      {/* High danger zone (slot) */}\n      {showSlot && (() => {\n        // Calculate slot position based on whether ends are swapped\n        const slotMinX = endsSwapped ? (200 - ICE_SURFACE.SLOT.MAX_X) : ICE_SURFACE.SLOT.MIN_X\n        const slotMaxX = endsSwapped ? (200 - ICE_SURFACE.SLOT.MIN_X) : ICE_SURFACE.SLOT.MAX_X\n        const slotWidth = slotMaxX - slotMinX\n        const slotCenterX = slotMinX + slotWidth / 2\n\n        return (\n          <>\n            <rect\n              x={slotMinX}\n              y={ICE_SURFACE.SLOT.MIN_Y}\n              width={slotWidth}\n              height={ICE_SURFACE.SLOT.MAX_Y - ICE_SURFACE.SLOT.MIN_Y}\n              fill=\"rgba(255, 100, 100, 0.2)\"\n              stroke=\"#cc0000\"\n              strokeWidth={1}\n              strokeDasharray=\"2,2\"\n              data-slot=\"true\"\n            />\n            <text\n              x={slotCenterX}\n              y={ICE_SURFACE.SLOT.MIN_Y - 2}\n              fontSize=\"4\"\n              fill=\"#cc0000\"\n              textAnchor=\"middle\"\n              fontWeight=\"bold\"\n            >\n              HIGH DANGER\n            </text>\n          </>\n        )\n      })()}\n\n      {/* Zone labels */}\n      <text\n        x={32}\n        y={8}\n        fontSize=\"6\"\n        fill=\"#666\"\n        textAnchor=\"middle\"\n        fontWeight=\"bold\"\n        opacity={0.7}\n      >\n        {endsSwapped ? 'OFFENSIVE ZONE' : 'DEFENSIVE ZONE'}\n      </text>\n      <text\n        x={100}\n        y={8}\n        fontSize=\"6\"\n        fill=\"#666\"\n        textAnchor=\"middle\"\n        fontWeight=\"bold\"\n        opacity={0.7}\n      >\n        NEUTRAL ZONE\n      </text>\n      <text\n        x={168}\n        y={8}\n        fontSize=\"6\"\n        fill=\"#666\"\n        textAnchor=\"middle\"\n        fontWeight=\"bold\"\n        opacity={0.7}\n      >\n        {endsSwapped ? 'DEFENSIVE ZONE' : 'OFFENSIVE ZONE'}\n      </text>\n\n      {/* Event markers */}\n      {events.map((event) => {\n        const screenPos = iceToScreen(\n          { x: event.x, y: event.y },\n          ICE_SURFACE.WIDTH,\n          ICE_SURFACE.HEIGHT\n        )\n\n        return (\n          <circle\n            key={event.id}\n            cx={event.x}\n            cy={event.y}\n            r={3}\n            fill={getEventColor(event.type)}\n            stroke=\"#fff\"\n            strokeWidth={1}\n            opacity={0.8}\n            data-event-marker=\"true\"\n            data-event-type={event.type}\n          />\n        )\n      })}\n    </svg>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1212, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/analytics/shot-chart.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport { IceSurface } from '@/components/game-tracking/ice-surface'\nimport type { ShotData } from '@/lib/analytics/game-analytics'\nimport type { Player } from '@/lib/stores/game-tracking-store'\n\nexport interface ShotChartProps {\n  shots: ShotData[]\n  players?: Player[]\n  width?: number\n  height?: number\n  showZones?: boolean\n  showSlot?: boolean\n}\n\nconst RESULT_COLORS = {\n  goal: '#10b981', // green\n  save: '#3b82f6', // blue\n  miss_high: '#ef4444', // red\n  miss_wide: '#f59e0b', // amber\n  blocked: '#6b7280', // gray\n  post: '#8b5cf6', // purple\n}\n\nconst QUALITY_SIZES = {\n  high: 12,\n  medium: 8,\n  low: 6,\n  default: 7,\n}\n\nexport function ShotChart({\n  shots,\n  players = [],\n  width = 600,\n  height = 300,\n  showZones = true,\n  showSlot = true,\n}: ShotChartProps) {\n  // Helper to get player name\n  const getPlayerName = (playerId: string | undefined) => {\n    if (!playerId) return 'Unknown'\n    const player = players.find((p) => p.id === playerId)\n    return player ? `${player.firstName[0]}. ${player.lastName}` : 'Unknown'\n  }\n\n  // Group shots by result for legend\n  const shotsByResult = shots.reduce((acc, shot) => {\n    const result = shot.result || 'miss_high'\n    acc[result] = (acc[result] || 0) + 1\n    return acc\n  }, {} as Record<string, number>)\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Chart */}\n      <div className=\"relative bg-white rounded-lg shadow p-4\">\n        <svg width={width} height={height} className=\"mx-auto\">\n          {/* Ice surface background */}\n          <IceSurface\n            width={width}\n            height={height}\n            showZones={showZones}\n            showSlot={showSlot}\n          />\n\n          {/* Shot markers */}\n          {shots.map((shot, index) => {\n            const color = RESULT_COLORS[shot.result] || RESULT_COLORS.miss_high\n            const size = shot.shotQuality\n              ? QUALITY_SIZES[shot.shotQuality]\n              : QUALITY_SIZES.default\n\n            // Calculate position (ice surface is 200x100, svg might be different)\n            const scaleX = width / 200\n            const scaleY = height / 100\n            const x = shot.x * scaleX\n            const y = shot.y * scaleY\n\n            return (\n              <circle\n                key={`shot-${index}`}\n                cx={x}\n                cy={y}\n                r={size}\n                fill={color}\n                fillOpacity={0.7}\n                stroke=\"white\"\n                strokeWidth={1}\n                className=\"transition-all hover:fill-opacity-100 cursor-pointer\"\n              >\n                <title>\n                  {shot.playerId && `${getPlayerName(shot.playerId)} - `}\n                  {shot.result.replace('_', ' ')} - Period {shot.period}\n                  {shot.shotQuality && ` - ${shot.shotQuality} danger`}\n                </title>\n              </circle>\n            )\n          })}\n        </svg>\n\n        {/* Stats overlay */}\n        <div className=\"absolute top-4 right-4 bg-white/90 rounded p-3 shadow\">\n          <div className=\"text-sm font-medium mb-1\">Total Shots</div>\n          <div className=\"text-2xl font-bold\">{shots.length}</div>\n          <div className=\"text-xs text-gray-600 mt-1\">\n            {shots.filter((s) => s.result === 'goal').length} Goals\n          </div>\n        </div>\n      </div>\n\n      {/* Legend */}\n      <div className=\"flex flex-wrap gap-4 justify-center\">\n        {Object.entries(shotsByResult).map(([result, count]) => (\n          <div key={result} className=\"flex items-center gap-2\">\n            <div\n              className=\"w-4 h-4 rounded-full border border-white\"\n              style={{\n                backgroundColor: RESULT_COLORS[result as keyof typeof RESULT_COLORS],\n              }}\n            />\n            <span className=\"text-sm text-gray-700\">\n              {result.replace('_', ' ')}: {count}\n            </span>\n          </div>\n        ))}\n      </div>\n\n      {/* Shot quality legend */}\n      <div className=\"flex gap-6 justify-center text-sm text-gray-600\">\n        <div className=\"flex items-center gap-2\">\n          <div\n            className=\"rounded-full bg-gray-400\"\n            style={{ width: QUALITY_SIZES.high * 2, height: QUALITY_SIZES.high * 2 }}\n          />\n          <span>High Danger</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div\n            className=\"rounded-full bg-gray-400\"\n            style={{ width: QUALITY_SIZES.medium * 2, height: QUALITY_SIZES.medium * 2 }}\n          />\n          <span>Medium Danger</span>\n        </div>\n        <div className=\"flex items-center gap-2\">\n          <div\n            className=\"rounded-full bg-gray-400\"\n            style={{ width: QUALITY_SIZES.low * 2, height: QUALITY_SIZES.low * 2 }}\n          />\n          <span>Low Danger</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1502, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/analytics/shot-quality-chart.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  Cell,\n} from 'recharts'\nimport type { ShotQualityStats } from '@/lib/analytics/game-analytics'\n\nexport interface ShotQualityChartProps {\n  stats: ShotQualityStats\n  height?: number\n}\n\nconst QUALITY_COLORS = {\n  high: '#ef4444', // red - high danger\n  medium: '#f59e0b', // amber - medium danger\n  low: '#3b82f6', // blue - low danger\n}\n\nexport function ShotQualityChart({ stats, height = 300 }: ShotQualityChartProps) {\n  // Prepare data for the chart\n  const chartData = [\n    {\n      quality: 'High Danger',\n      shots: stats.high.count,\n      goals: stats.high.goals,\n      percentage: stats.high.percentage,\n      color: QUALITY_COLORS.high,\n    },\n    {\n      quality: 'Medium Danger',\n      shots: stats.medium.count,\n      goals: stats.medium.goals,\n      percentage: stats.medium.percentage,\n      color: QUALITY_COLORS.medium,\n    },\n    {\n      quality: 'Low Danger',\n      shots: stats.low.count,\n      goals: stats.low.goals,\n      percentage: stats.low.percentage,\n      color: QUALITY_COLORS.low,\n    },\n  ]\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Summary cards */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Total Shots</div>\n          <div className=\"text-2xl font-bold\">{stats.total.count}</div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Goals</div>\n          <div className=\"text-2xl font-bold text-green-600\">{stats.total.goals}</div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Shooting %</div>\n          <div className=\"text-2xl font-bold\">{stats.total.percentage.toFixed(1)}%</div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">High Danger %</div>\n          <div className=\"text-2xl font-bold text-red-600\">\n            {stats.high.percentage.toFixed(1)}%\n          </div>\n        </div>\n      </div>\n\n      {/* Shot distribution chart */}\n      <div className=\"bg-white rounded-lg shadow p-4\">\n        <h3 className=\"text-lg font-semibold mb-4\">Shot Quality Distribution</h3>\n        <ResponsiveContainer width=\"100%\" height={height}>\n          <BarChart data={chartData}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"quality\" />\n            <YAxis />\n            <Tooltip\n              content={({ active, payload }) => {\n                if (active && payload && payload.length) {\n                  const data = payload[0].payload\n                  return (\n                    <div className=\"bg-white border border-gray-200 rounded p-3 shadow-lg\">\n                      <p className=\"font-semibold\">{data.quality}</p>\n                      <p className=\"text-sm text-gray-600\">\n                        Shots: {data.shots}\n                      </p>\n                      <p className=\"text-sm text-gray-600\">\n                        Goals: {data.goals}\n                      </p>\n                      <p className=\"text-sm font-medium text-green-600\">\n                        Conversion: {data.percentage.toFixed(1)}%\n                      </p>\n                    </div>\n                  )\n                }\n                return null\n              }}\n            />\n            <Legend />\n            <Bar dataKey=\"shots\" name=\"Shots\" radius={[8, 8, 0, 0]}>\n              {chartData.map((entry, index) => (\n                <Cell key={`cell-${index}`} fill={entry.color} />\n              ))}\n            </Bar>\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Detailed breakdown table */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Shot Quality\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Shots\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Goals\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Conversion %\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            <tr>\n              <td className=\"px-6 py-4 whitespace-nowrap\">\n                <div className=\"flex items-center\">\n                  <div\n                    className=\"w-3 h-3 rounded-full mr-2\"\n                    style={{ backgroundColor: QUALITY_COLORS.high }}\n                  />\n                  <span className=\"font-medium\">High Danger</span>\n                </div>\n              </td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{stats.high.count}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{stats.high.goals}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap font-medium\">\n                {stats.high.percentage.toFixed(1)}%\n              </td>\n            </tr>\n            <tr>\n              <td className=\"px-6 py-4 whitespace-nowrap\">\n                <div className=\"flex items-center\">\n                  <div\n                    className=\"w-3 h-3 rounded-full mr-2\"\n                    style={{ backgroundColor: QUALITY_COLORS.medium }}\n                  />\n                  <span className=\"font-medium\">Medium Danger</span>\n                </div>\n              </td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{stats.medium.count}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{stats.medium.goals}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap font-medium\">\n                {stats.medium.percentage.toFixed(1)}%\n              </td>\n            </tr>\n            <tr>\n              <td className=\"px-6 py-4 whitespace-nowrap\">\n                <div className=\"flex items-center\">\n                  <div\n                    className=\"w-3 h-3 rounded-full mr-2\"\n                    style={{ backgroundColor: QUALITY_COLORS.low }}\n                  />\n                  <span className=\"font-medium\">Low Danger</span>\n                </div>\n              </td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{stats.low.count}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{stats.low.goals}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap font-medium\">\n                {stats.low.percentage.toFixed(1)}%\n              </td>\n            </tr>\n            <tr className=\"bg-gray-50 font-semibold\">\n              <td className=\"px-6 py-4 whitespace-nowrap\">Total</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{stats.total.count}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{stats.total.goals}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">\n                {stats.total.percentage.toFixed(1)}%\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2151, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/analytics/breakout-analysis.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n} from 'recharts'\nimport type { BreakoutAnalytics } from '@/lib/analytics/game-analytics'\n\nexport interface BreakoutAnalysisProps {\n  analytics: BreakoutAnalytics\n  height?: number\n}\n\nconst SUCCESS_COLOR = '#10b981' // green\nconst FAILED_COLOR = '#ef4444' // red\n\nconst TYPE_COLORS = ['#3b82f6', '#8b5cf6', '#ec4899', '#f59e0b', '#10b981']\n\nexport function BreakoutAnalysis({ analytics, height = 300 }: BreakoutAnalysisProps) {\n  // Prepare data for success/fail pie chart\n  const pieData = [\n    { name: 'Successful', value: analytics.successful, color: SUCCESS_COLOR },\n    { name: 'Failed', value: analytics.failed, color: FAILED_COLOR },\n  ]\n\n  // Prepare data for breakout types bar chart\n  const typeData = Object.entries(analytics.byType).map(([type, stats]) => ({\n    type: type.replace('_', ' '),\n    total: stats.total,\n    successful: stats.successful,\n    successRate: stats.successRate,\n  }))\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Summary cards */}\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Total Breakouts</div>\n          <div className=\"text-2xl font-bold\">{analytics.total}</div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Successful</div>\n          <div className=\"text-2xl font-bold text-green-600\">{analytics.successful}</div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Failed</div>\n          <div className=\"text-2xl font-bold text-red-600\">{analytics.failed}</div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Success Rate</div>\n          <div className=\"text-2xl font-bold\">{analytics.successRate.toFixed(1)}%</div>\n        </div>\n      </div>\n\n      {/* Charts row */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n        {/* Success/Fail pie chart */}\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"text-lg font-semibold mb-4\">Overall Success Rate</h3>\n          {analytics.total > 0 ? (\n            <ResponsiveContainer width=\"100%\" height={height}>\n              <PieChart>\n                <Pie\n                  data={pieData}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={({ name, value, percent }) =>\n                    `${name}: ${value} (${(percent * 100).toFixed(0)}%)`\n                  }\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"value\"\n                >\n                  {pieData.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={entry.color} />\n                  ))}\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n          ) : (\n            <div className=\"flex items-center justify-center h-64 text-gray-400\">\n              No breakout data available\n            </div>\n          )}\n        </div>\n\n        {/* Breakout types bar chart */}\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <h3 className=\"text-lg font-semibold mb-4\">Success by Breakout Type</h3>\n          {typeData.length > 0 ? (\n            <ResponsiveContainer width=\"100%\" height={height}>\n              <BarChart data={typeData}>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis\n                  dataKey=\"type\"\n                  angle={-45}\n                  textAnchor=\"end\"\n                  height={80}\n                  tick={{ fontSize: 12 }}\n                />\n                <YAxis yAxisId=\"left\" orientation=\"left\" stroke=\"#8884d8\" />\n                <YAxis yAxisId=\"right\" orientation=\"right\" stroke=\"#82ca9d\" />\n                <Tooltip\n                  content={({ active, payload }) => {\n                    if (active && payload && payload.length) {\n                      const data = payload[0].payload\n                      return (\n                        <div className=\"bg-white border border-gray-200 rounded p-3 shadow-lg\">\n                          <p className=\"font-semibold capitalize\">{data.type}</p>\n                          <p className=\"text-sm text-gray-600\">Total: {data.total}</p>\n                          <p className=\"text-sm text-green-600\">\n                            Successful: {data.successful}\n                          </p>\n                          <p className=\"text-sm font-medium\">\n                            Success Rate: {data.successRate.toFixed(1)}%\n                          </p>\n                        </div>\n                      )\n                    }\n                    return null\n                  }}\n                />\n                <Legend />\n                <Bar yAxisId=\"left\" dataKey=\"total\" name=\"Total Attempts\" fill=\"#3b82f6\" />\n                <Bar\n                  yAxisId=\"left\"\n                  dataKey=\"successful\"\n                  name=\"Successful\"\n                  fill=\"#10b981\"\n                />\n              </BarChart>\n            </ResponsiveContainer>\n          ) : (\n            <div className=\"flex items-center justify-center h-64 text-gray-400\">\n              No breakout type data available\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Detailed breakdown table */}\n      {typeData.length > 0 && (\n        <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Breakout Type\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Total Attempts\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Successful\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Failed\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Success Rate\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {typeData\n                .sort((a, b) => b.total - a.total)\n                .map((row) => {\n                  const failed = row.total - row.successful\n                  return (\n                    <tr key={row.type}>\n                      <td className=\"px-6 py-4 whitespace-nowrap capitalize font-medium\">\n                        {row.type}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">{row.total}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-green-600\">\n                        {row.successful}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-red-600\">\n                        {failed}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <span className=\"font-medium\">{row.successRate.toFixed(1)}%</span>\n                          <div className=\"ml-3 w-24 bg-gray-200 rounded-full h-2\">\n                            <div\n                              className=\"bg-green-500 h-2 rounded-full\"\n                              style={{ width: `${row.successRate}%` }}\n                            />\n                          </div>\n                        </div>\n                      </td>\n                    </tr>\n                  )\n                })}\n            </tbody>\n          </table>\n        </div>\n      )}\n\n      {/* Insights */}\n      {analytics.total > 0 && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <h4 className=\"font-semibold text-blue-900 mb-2\">Insights</h4>\n          <ul className=\"space-y-1 text-sm text-blue-800\">\n            {analytics.successRate >= 70 && (\n              <li>‚úì Excellent breakout execution - success rate above 70%</li>\n            )}\n            {analytics.successRate < 50 && (\n              <li>‚ö† Breakout struggles - consider practicing zone exits</li>\n            )}\n            {typeData.length > 0 && (\n              <li>\n                Most used:{' '}\n                <span className=\"font-medium capitalize\">\n                  {typeData.sort((a, b) => b.total - a.total)[0].type}\n                </span>{' '}\n                ({typeData.sort((a, b) => b.total - a.total)[0].total} attempts)\n              </li>\n            )}\n            {typeData.length > 0 && (\n              <li>\n                Most effective:{' '}\n                <span className=\"font-medium capitalize\">\n                  {typeData.sort((a, b) => b.successRate - a.successRate)[0].type}\n                </span>{' '}\n                ({typeData.sort((a, b) => b.successRate - a.successRate)[0].successRate.toFixed(1)}\n                % success rate)\n              </li>\n            )}\n          </ul>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2833, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/analytics/period-trends.tsx"],"sourcesContent":["'use client'\n\nimport React from 'react'\nimport {\n  LineChart,\n  Line,\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n} from 'recharts'\nimport type { PeriodStats } from '@/lib/analytics/game-analytics'\n\nexport interface PeriodTrendsProps {\n  periodStats: PeriodStats[]\n  height?: number\n}\n\nexport function PeriodTrends({ periodStats, height = 300 }: PeriodTrendsProps) {\n  // Prepare data with period labels\n  const chartData = periodStats.map((stat) => ({\n    period: `Period ${stat.period}`,\n    periodNum: stat.period,\n    shots: stat.shots,\n    goals: stat.goals,\n    turnovers: stat.turnovers,\n    breakouts: stat.breakouts,\n    zoneEntries: stat.zoneEntries,\n    shootingPct: stat.shots > 0 ? ((stat.goals / stat.shots) * 100).toFixed(1) : 0,\n  }))\n\n  // Calculate totals\n  const totals = periodStats.reduce(\n    (acc, stat) => ({\n      shots: acc.shots + stat.shots,\n      goals: acc.goals + stat.goals,\n      turnovers: acc.turnovers + stat.turnovers,\n      breakouts: acc.breakouts + stat.breakouts,\n      zoneEntries: acc.zoneEntries + stat.zoneEntries,\n    }),\n    { shots: 0, goals: 0, turnovers: 0, breakouts: 0, zoneEntries: 0 }\n  )\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Period comparison cards */}\n      <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Total Shots</div>\n          <div className=\"text-2xl font-bold\">{totals.shots}</div>\n          <div className=\"text-xs text-gray-500 mt-1\">\n            Avg: {(totals.shots / periodStats.length).toFixed(1)}/period\n          </div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Total Goals</div>\n          <div className=\"text-2xl font-bold text-green-600\">{totals.goals}</div>\n          <div className=\"text-xs text-gray-500 mt-1\">\n            Avg: {(totals.goals / periodStats.length).toFixed(1)}/period\n          </div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Turnovers</div>\n          <div className=\"text-2xl font-bold text-red-600\">{totals.turnovers}</div>\n          <div className=\"text-xs text-gray-500 mt-1\">\n            Avg: {(totals.turnovers / periodStats.length).toFixed(1)}/period\n          </div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Breakouts</div>\n          <div className=\"text-2xl font-bold\">{totals.breakouts}</div>\n          <div className=\"text-xs text-gray-500 mt-1\">\n            Avg: {(totals.breakouts / periodStats.length).toFixed(1)}/period\n          </div>\n        </div>\n        <div className=\"bg-white rounded-lg shadow p-4\">\n          <div className=\"text-sm text-gray-600\">Zone Entries</div>\n          <div className=\"text-2xl font-bold\">{totals.zoneEntries}</div>\n          <div className=\"text-xs text-gray-500 mt-1\">\n            Avg: {(totals.zoneEntries / periodStats.length).toFixed(1)}/period\n          </div>\n        </div>\n      </div>\n\n      {/* Shots and Goals trend */}\n      <div className=\"bg-white rounded-lg shadow p-4\">\n        <h3 className=\"text-lg font-semibold mb-4\">Shots and Goals by Period</h3>\n        <ResponsiveContainer width=\"100%\" height={height}>\n          <BarChart data={chartData}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"period\" />\n            <YAxis />\n            <Tooltip />\n            <Legend />\n            <Bar dataKey=\"shots\" name=\"Shots\" fill=\"#3b82f6\" />\n            <Bar dataKey=\"goals\" name=\"Goals\" fill=\"#10b981\" />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Event trends line chart */}\n      <div className=\"bg-white rounded-lg shadow p-4\">\n        <h3 className=\"text-lg font-semibold mb-4\">Event Activity by Period</h3>\n        <ResponsiveContainer width=\"100%\" height={height}>\n          <LineChart data={chartData}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"period\" />\n            <YAxis />\n            <Tooltip />\n            <Legend />\n            <Line\n              type=\"monotone\"\n              dataKey=\"shots\"\n              name=\"Shots\"\n              stroke=\"#3b82f6\"\n              strokeWidth={2}\n              dot={{ r: 4 }}\n            />\n            <Line\n              type=\"monotone\"\n              dataKey=\"turnovers\"\n              name=\"Turnovers\"\n              stroke=\"#ef4444\"\n              strokeWidth={2}\n              dot={{ r: 4 }}\n            />\n            <Line\n              type=\"monotone\"\n              dataKey=\"breakouts\"\n              name=\"Breakouts\"\n              stroke=\"#8b5cf6\"\n              strokeWidth={2}\n              dot={{ r: 4 }}\n            />\n            <Line\n              type=\"monotone\"\n              dataKey=\"zoneEntries\"\n              name=\"Zone Entries\"\n              stroke=\"#f59e0b\"\n              strokeWidth={2}\n              dot={{ r: 4 }}\n            />\n          </LineChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Period-by-period table */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Period\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Shots\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Goals\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Shooting %\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Turnovers\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Breakouts\n              </th>\n              <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Zone Entries\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {chartData.map((row) => (\n              <tr key={row.periodNum}>\n                <td className=\"px-6 py-4 whitespace-nowrap font-medium\">{row.period}</td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">{row.shots}</td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-green-600 font-medium\">\n                  {row.goals}\n                </td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">{row.shootingPct}%</td>\n                <td className=\"px-6 py-4 whitespace-nowrap text-red-600\">{row.turnovers}</td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">{row.breakouts}</td>\n                <td className=\"px-6 py-4 whitespace-nowrap\">{row.zoneEntries}</td>\n              </tr>\n            ))}\n            <tr className=\"bg-gray-50 font-semibold\">\n              <td className=\"px-6 py-4 whitespace-nowrap\">Total</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{totals.shots}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap text-green-600\">{totals.goals}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">\n                {totals.shots > 0 ? ((totals.goals / totals.shots) * 100).toFixed(1) : 0}%\n              </td>\n              <td className=\"px-6 py-4 whitespace-nowrap text-red-600\">{totals.turnovers}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{totals.breakouts}</td>\n              <td className=\"px-6 py-4 whitespace-nowrap\">{totals.zoneEntries}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n\n      {/* Insights */}\n      <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <h4 className=\"font-semibold text-blue-900 mb-2\">Period Analysis</h4>\n        <ul className=\"space-y-1 text-sm text-blue-800\">\n          {(() => {\n            const maxShotsPeriod = chartData.reduce((max, p) =>\n              p.shots > max.shots ? p : max\n            )\n            const minShotsPeriod = chartData.reduce((min, p) =>\n              p.shots < min.shots ? p : min\n            )\n            const maxTurnoversPeriod = chartData.reduce((max, p) =>\n              p.turnovers > max.turnovers ? p : max\n            )\n\n            return (\n              <>\n                <li>\n                  Most offensive pressure in{' '}\n                  <span className=\"font-medium\">{maxShotsPeriod.period}</span> (\n                  {maxShotsPeriod.shots} shots)\n                </li>\n                {maxShotsPeriod.periodNum !== minShotsPeriod.periodNum && (\n                  <li>\n                    Least offensive pressure in{' '}\n                    <span className=\"font-medium\">{minShotsPeriod.period}</span> (\n                    {minShotsPeriod.shots} shots)\n                  </li>\n                )}\n                {maxTurnoversPeriod.turnovers > 0 && (\n                  <li>\n                    Most turnovers in{' '}\n                    <span className=\"font-medium\">{maxTurnoversPeriod.period}</span> (\n                    {maxTurnoversPeriod.turnovers} turnovers)\n                  </li>\n                )}\n                <li>\n                  Average of {(totals.shots / periodStats.length).toFixed(1)} shots per period\n                </li>\n              </>\n            )\n          })()}\n        </ul>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3630, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/analytics/player-stats-table.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState } from 'react'\nimport type { PlayerStats } from '@/lib/analytics/game-analytics'\n\nexport interface PlayerStatsTableProps {\n  stats: PlayerStats[]\n}\n\ntype SortField = 'playerName' | 'shots' | 'goals' | 'shootingPct' | 'turnovers' | 'breakouts' | 'faceoffWinPct' | 'totalEvents'\ntype SortDirection = 'asc' | 'desc'\n\nexport function PlayerStatsTable({ stats }: PlayerStatsTableProps) {\n  const [sortField, setSortField] = useState<SortField>('totalEvents')\n  const [sortDirection, setSortDirection] = useState<SortDirection>('desc')\n\n  if (stats.length === 0) {\n    return (\n      <div className=\"bg-white rounded-lg shadow p-6\">\n        <h2 className=\"text-xl font-bold mb-4\">Player Statistics</h2>\n        <p className=\"text-center text-gray-500 py-8\">No player stats available</p>\n      </div>\n    )\n  }\n\n  const handleSort = (field: SortField) => {\n    if (sortField === field) {\n      // Toggle direction\n      setSortDirection(sortDirection === 'asc' ? 'desc' : 'asc')\n    } else {\n      // New field, default to descending\n      setSortField(field)\n      setSortDirection('desc')\n    }\n  }\n\n  const sortedStats = [...stats].sort((a, b) => {\n    let aVal = a[sortField]\n    let bVal = b[sortField]\n\n    // Handle string comparison for playerName\n    if (sortField === 'playerName') {\n      aVal = a.playerName.toLowerCase()\n      bVal = b.playerName.toLowerCase()\n    }\n\n    if (sortDirection === 'asc') {\n      return aVal > bVal ? 1 : -1\n    } else {\n      return aVal < bVal ? 1 : -1\n    }\n  })\n\n  const SortIcon = ({ field }: { field: SortField }) => {\n    if (sortField !== field) {\n      return <span className=\"text-gray-400\">‚Üï</span>\n    }\n    return <span>{sortDirection === 'asc' ? '‚Üë' : '‚Üì'}</span>\n  }\n\n  const getPositionBadge = (position: string) => {\n    const colors = {\n      forward: 'bg-blue-100 text-blue-800',\n      defense: 'bg-green-100 text-green-800',\n      goalie: 'bg-purple-100 text-purple-800',\n    }\n    const color = colors[position as keyof typeof colors] || 'bg-gray-100 text-gray-800'\n\n    return (\n      <span className={`px-2 py-1 rounded text-xs font-medium ${color}`}>\n        {position[0].toUpperCase()}\n      </span>\n    )\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n      <div className=\"p-6 border-b border-gray-200\">\n        <h2 className=\"text-xl font-bold\">Player Statistics</h2>\n        <p className=\"text-sm text-gray-600 mt-1\">Click column headers to sort</p>\n      </div>\n\n      {/* Mobile: Card view */}\n      <div className=\"md:hidden\">\n        {sortedStats.map((player, index) => (\n          <div key={player.playerId} className=\"border-b border-gray-200 p-4\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <div className=\"flex items-center gap-2\">\n                <span className=\"text-2xl font-bold text-gray-900\">#{player.jerseyNumber}</span>\n                <div>\n                  <div className=\"font-semibold\">{player.playerName}</div>\n                  {getPositionBadge(player.position)}\n                </div>\n              </div>\n              <div className=\"text-right\">\n                <div className=\"text-xs text-gray-500\">Total Events</div>\n                <div className=\"text-lg font-bold\">{player.totalEvents}</div>\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-3 gap-3 text-sm\">\n              <div>\n                <div className=\"text-gray-600\">Shots</div>\n                <div className=\"font-semibold\">{player.shots}</div>\n              </div>\n              <div>\n                <div className=\"text-gray-600\">Goals</div>\n                <div className=\"font-semibold text-green-600\">{player.goals}</div>\n              </div>\n              <div>\n                <div className=\"text-gray-600\">SH%</div>\n                <div className=\"font-semibold\">\n                  {player.shots > 0 ? `${player.shootingPct.toFixed(1)}%` : '-'}\n                </div>\n              </div>\n              <div>\n                <div className=\"text-gray-600\">Turnovers</div>\n                <div className=\"font-semibold text-red-600\">{player.turnovers}</div>\n              </div>\n              <div>\n                <div className=\"text-gray-600\">Breakouts</div>\n                <div className=\"font-semibold\">{player.breakouts}</div>\n              </div>\n              <div>\n                <div className=\"text-gray-600\">Zone Entries</div>\n                <div className=\"font-semibold\">{player.zoneEntries}</div>\n              </div>\n              {player.faceoffs > 0 && (\n                <>\n                  <div>\n                    <div className=\"text-gray-600\">Faceoffs</div>\n                    <div className=\"font-semibold\">{player.faceoffs}</div>\n                  </div>\n                  <div>\n                    <div className=\"text-gray-600\">FO Wins</div>\n                    <div className=\"font-semibold\">{player.faceoffWins}</div>\n                  </div>\n                  <div>\n                    <div className=\"text-gray-600\">FO%</div>\n                    <div className=\"font-semibold\">{player.faceoffWinPct.toFixed(1)}%</div>\n                  </div>\n                </>\n              )}\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Desktop: Table view */}\n      <div className=\"hidden md:block overflow-x-auto\">\n        <table className=\"w-full\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                #\n              </th>\n              <th\n                className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onClick={() => handleSort('playerName')}\n              >\n                <div className=\"flex items-center gap-1\">\n                  Player <SortIcon field=\"playerName\" />\n                </div>\n              </th>\n              <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                Pos\n              </th>\n              <th\n                className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onClick={() => handleSort('shots')}\n              >\n                <div className=\"flex items-center justify-center gap-1\">\n                  Shots <SortIcon field=\"shots\" />\n                </div>\n              </th>\n              <th\n                className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onClick={() => handleSort('goals')}\n              >\n                <div className=\"flex items-center justify-center gap-1\">\n                  Goals <SortIcon field=\"goals\" />\n                </div>\n              </th>\n              <th\n                className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onClick={() => handleSort('shootingPct')}\n              >\n                <div className=\"flex items-center justify-center gap-1\">\n                  SH% <SortIcon field=\"shootingPct\" />\n                </div>\n              </th>\n              <th\n                className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onClick={() => handleSort('turnovers')}\n              >\n                <div className=\"flex items-center justify-center gap-1\">\n                  TO <SortIcon field=\"turnovers\" />\n                </div>\n              </th>\n              <th\n                className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onClick={() => handleSort('breakouts')}\n              >\n                <div className=\"flex items-center justify-center gap-1\">\n                  BO <SortIcon field=\"breakouts\" />\n                </div>\n              </th>\n              <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                ZE\n              </th>\n              <th\n                className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onClick={() => handleSort('faceoffWinPct')}\n              >\n                <div className=\"flex items-center justify-center gap-1\">\n                  FO% <SortIcon field=\"faceoffWinPct\" />\n                </div>\n              </th>\n              <th\n                className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100\"\n                onClick={() => handleSort('totalEvents')}\n              >\n                <div className=\"flex items-center justify-center gap-1\">\n                  Events <SortIcon field=\"totalEvents\" />\n                </div>\n              </th>\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {sortedStats.map((player, index) => (\n              <tr key={player.playerId} className=\"hover:bg-gray-50\">\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm font-bold text-gray-900\">\n                  {player.jerseyNumber}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900\">\n                  {player.playerName}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm\">\n                  {getPositionBadge(player.position)}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-center\">\n                  {player.shots}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold text-green-600\">\n                  {player.goals}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-center\">\n                  {player.shots > 0 ? `${player.shootingPct.toFixed(1)}%` : '-'}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-center text-red-600\">\n                  {player.turnovers}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-center\">\n                  {player.breakouts}\n                  {player.breakouts > 0 && (\n                    <span className=\"text-xs text-gray-500 ml-1\">\n                      ({player.breakoutSuccessPct.toFixed(0)}%)\n                    </span>\n                  )}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-center\">\n                  {player.zoneEntries}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-center\">\n                  {player.faceoffs > 0 ? (\n                    <span>\n                      {player.faceoffWins}/{player.faceoffs}\n                      <span className=\"text-xs text-gray-500 ml-1\">\n                        ({player.faceoffWinPct.toFixed(0)}%)\n                      </span>\n                    </span>\n                  ) : '-'}\n                </td>\n                <td className=\"px-4 py-3 whitespace-nowrap text-sm text-center font-semibold\">\n                  {player.totalEvents}\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Legend */}\n      <div className=\"px-4 py-3 bg-gray-50 border-t border-gray-200 text-xs text-gray-600\">\n        <div className=\"flex flex-wrap gap-4\">\n          <span><strong>SH%:</strong> Shooting Percentage</span>\n          <span><strong>TO:</strong> Turnovers</span>\n          <span><strong>BO:</strong> Breakouts</span>\n          <span><strong>ZE:</strong> Zone Entries</span>\n          <span><strong>FO%:</strong> Faceoff Win %</span>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAYO,SAAS,iBAAiB,KAAgC;QAAhC,EAAE,KAAK,EAAyB,GAAhC;;IAC/B,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,wLAAQ,EAAY;IACtD,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,wLAAQ,EAAgB;IAElE,IAAI,MAAM,MAAM,KAAK,GAAG;QACtB,qBACE,4MAAC;YAAI,WAAU;;8BACb,4MAAC;oBAAG,WAAU;8BAAyB;;;;;;8BACvC,4MAAC;oBAAE,WAAU;8BAAiC;;;;;;;;;;;;IAGpD;IAEA,MAAM,aAAa,CAAC;QAClB,IAAI,cAAc,OAAO;YACvB,mBAAmB;YACnB,iBAAiB,kBAAkB,QAAQ,SAAS;QACtD,OAAO;YACL,mCAAmC;YACnC,aAAa;YACb,iBAAiB;QACnB;IACF;IAEA,MAAM,cAAc;WAAI;KAAM,CAAC,IAAI,CAAC,CAAC,GAAG;QACtC,IAAI,OAAO,CAAC,CAAC,UAAU;QACvB,IAAI,OAAO,CAAC,CAAC,UAAU;QAEvB,0CAA0C;QAC1C,IAAI,cAAc,cAAc;YAC9B,OAAO,EAAE,UAAU,CAAC,WAAW;YAC/B,OAAO,EAAE,UAAU,CAAC,WAAW;QACjC;QAEA,IAAI,kBAAkB,OAAO;YAC3B,OAAO,OAAO,OAAO,IAAI,CAAC;QAC5B,OAAO;YACL,OAAO,OAAO,OAAO,IAAI,CAAC;QAC5B;IACF;IAEA,MAAM,WAAW;YAAC,EAAE,KAAK,EAAwB;QAC/C,IAAI,cAAc,OAAO;YACvB,qBAAO,4MAAC;gBAAK,WAAU;0BAAgB;;;;;;QACzC;QACA,qBAAO,4MAAC;sBAAM,kBAAkB,QAAQ,MAAM;;;;;;IAChD;IAEA,MAAM,mBAAmB,CAAC;QACxB,MAAM,SAAS;YACb,SAAS;YACT,SAAS;YACT,QAAQ;QACV;QACA,MAAM,QAAQ,MAAM,CAAC,SAAgC,IAAI;QAEzD,qBACE,4MAAC;YAAK,WAAW,AAAC,yCAA8C,OAAN;sBACvD,QAAQ,CAAC,EAAE,CAAC,WAAW;;;;;;IAG9B;IAEA,qBACE,4MAAC;QAAI,WAAU;;0BACb,4MAAC;gBAAI,WAAU;;kCACb,4MAAC;wBAAG,WAAU;kCAAoB;;;;;;kCAClC,4MAAC;wBAAE,WAAU;kCAA6B;;;;;;;;;;;;0BAI5C,4MAAC;gBAAI,WAAU;0BACZ,YAAY,GAAG,CAAC,CAAC,QAAQ,sBACxB,4MAAC;wBAA0B,WAAU;;0CACnC,4MAAC;gCAAI,WAAU;;kDACb,4MAAC;wCAAI,WAAU;;0DACb,4MAAC;gDAAK,WAAU;;oDAAmC;oDAAE,OAAO,YAAY;;;;;;;0DACxE,4MAAC;;kEACC,4MAAC;wDAAI,WAAU;kEAAiB,OAAO,UAAU;;;;;;oDAChD,iBAAiB,OAAO,QAAQ;;;;;;;;;;;;;kDAGrC,4MAAC;wCAAI,WAAU;;0DACb,4MAAC;gDAAI,WAAU;0DAAwB;;;;;;0DACvC,4MAAC;gDAAI,WAAU;0DAAqB,OAAO,WAAW;;;;;;;;;;;;;;;;;;0CAI1D,4MAAC;gCAAI,WAAU;;kDACb,4MAAC;;0DACC,4MAAC;gDAAI,WAAU;0DAAgB;;;;;;0DAC/B,4MAAC;gDAAI,WAAU;0DAAiB,OAAO,KAAK;;;;;;;;;;;;kDAE9C,4MAAC;;0DACC,4MAAC;gDAAI,WAAU;0DAAgB;;;;;;0DAC/B,4MAAC;gDAAI,WAAU;0DAAgC,OAAO,KAAK;;;;;;;;;;;;kDAE7D,4MAAC;;0DACC,4MAAC;gDAAI,WAAU;0DAAgB;;;;;;0DAC/B,4MAAC;gDAAI,WAAU;0DACZ,OAAO,KAAK,GAAG,IAAI,AAAC,GAAgC,OAA9B,OAAO,WAAW,CAAC,OAAO,CAAC,IAAG,OAAK;;;;;;;;;;;;kDAG9D,4MAAC;;0DACC,4MAAC;gDAAI,WAAU;0DAAgB;;;;;;0DAC/B,4MAAC;gDAAI,WAAU;0DAA8B,OAAO,SAAS;;;;;;;;;;;;kDAE/D,4MAAC;;0DACC,4MAAC;gDAAI,WAAU;0DAAgB;;;;;;0DAC/B,4MAAC;gDAAI,WAAU;0DAAiB,OAAO,SAAS;;;;;;;;;;;;kDAElD,4MAAC;;0DACC,4MAAC;gDAAI,WAAU;0DAAgB;;;;;;0DAC/B,4MAAC;gDAAI,WAAU;0DAAiB,OAAO,WAAW;;;;;;;;;;;;oCAEnD,OAAO,QAAQ,GAAG,mBACjB;;0DACE,4MAAC;;kEACC,4MAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,4MAAC;wDAAI,WAAU;kEAAiB,OAAO,QAAQ;;;;;;;;;;;;0DAEjD,4MAAC;;kEACC,4MAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,4MAAC;wDAAI,WAAU;kEAAiB,OAAO,WAAW;;;;;;;;;;;;0DAEpD,4MAAC;;kEACC,4MAAC;wDAAI,WAAU;kEAAgB;;;;;;kEAC/B,4MAAC;wDAAI,WAAU;;4DAAiB,OAAO,aAAa,CAAC,OAAO,CAAC;4DAAG;;;;;;;;;;;;;;;;;;;;;;uBAtDhE,OAAO,QAAQ;;;;;;;;;;0BAgE7B,4MAAC;gBAAI,WAAU;0BACb,cAAA,4MAAC;oBAAM,WAAU;;sCACf,4MAAC;4BAAM,WAAU;sCACf,cAAA,4MAAC;;kDACC,4MAAC;wCAAG,WAAU;kDAAiF;;;;;;kDAG/F,4MAAC;wCACC,WAAU;wCACV,SAAS,IAAM,WAAW;kDAE1B,cAAA,4MAAC;4CAAI,WAAU;;gDAA0B;8DAChC,4MAAC;oDAAS,OAAM;;;;;;;;;;;;;;;;;kDAG3B,4MAAC;wCAAG,WAAU;kDAAiF;;;;;;kDAG/F,4MAAC;wCACC,WAAU;wCACV,SAAS,IAAM,WAAW;kDAE1B,cAAA,4MAAC;4CAAI,WAAU;;gDAAyC;8DAChD,4MAAC;oDAAS,OAAM;;;;;;;;;;;;;;;;;kDAG1B,4MAAC;wCACC,WAAU;wCACV,SAAS,IAAM,WAAW;kDAE1B,cAAA,4MAAC;4CAAI,WAAU;;gDAAyC;8DAChD,4MAAC;oDAAS,OAAM;;;;;;;;;;;;;;;;;kDAG1B,4MAAC;wCACC,WAAU;wCACV,SAAS,IAAM,WAAW;kDAE1B,cAAA,4MAAC;4CAAI,WAAU;;gDAAyC;8DAClD,4MAAC;oDAAS,OAAM;;;;;;;;;;;;;;;;;kDAGxB,4MAAC;wCACC,WAAU;wCACV,SAAS,IAAM,WAAW;kDAE1B,cAAA,4MAAC;4CAAI,WAAU;;gDAAyC;8DACnD,4MAAC;oDAAS,OAAM;;;;;;;;;;;;;;;;;kDAGvB,4MAAC;wCACC,WAAU;wCACV,SAAS,IAAM,WAAW;kDAE1B,cAAA,4MAAC;4CAAI,WAAU;;gDAAyC;8DACnD,4MAAC;oDAAS,OAAM;;;;;;;;;;;;;;;;;kDAGvB,4MAAC;wCAAG,WAAU;kDAAmF;;;;;;kDAGjG,4MAAC;wCACC,WAAU;wCACV,SAAS,IAAM,WAAW;kDAE1B,cAAA,4MAAC;4CAAI,WAAU;;gDAAyC;8DAClD,4MAAC;oDAAS,OAAM;;;;;;;;;;;;;;;;;kDAGxB,4MAAC;wCACC,WAAU;wCACV,SAAS,IAAM,WAAW;kDAE1B,cAAA,4MAAC;4CAAI,WAAU;;gDAAyC;8DAC/C,4MAAC;oDAAS,OAAM;;;;;;;;;;;;;;;;;;;;;;;;;;;;sCAK/B,4MAAC;4BAAM,WAAU;sCACd,YAAY,GAAG,CAAC,CAAC,QAAQ,sBACxB,4MAAC;oCAAyB,WAAU;;sDAClC,4MAAC;4CAAG,WAAU;sDACX,OAAO,YAAY;;;;;;sDAEtB,4MAAC;4CAAG,WAAU;sDACX,OAAO,UAAU;;;;;;sDAEpB,4MAAC;4CAAG,WAAU;sDACX,iBAAiB,OAAO,QAAQ;;;;;;sDAEnC,4MAAC;4CAAG,WAAU;sDACX,OAAO,KAAK;;;;;;sDAEf,4MAAC;4CAAG,WAAU;sDACX,OAAO,KAAK;;;;;;sDAEf,4MAAC;4CAAG,WAAU;sDACX,OAAO,KAAK,GAAG,IAAI,AAAC,GAAgC,OAA9B,OAAO,WAAW,CAAC,OAAO,CAAC,IAAG,OAAK;;;;;;sDAE5D,4MAAC;4CAAG,WAAU;sDACX,OAAO,SAAS;;;;;;sDAEnB,4MAAC;4CAAG,WAAU;;gDACX,OAAO,SAAS;gDAChB,OAAO,SAAS,GAAG,mBAClB,4MAAC;oDAAK,WAAU;;wDAA6B;wDACzC,OAAO,kBAAkB,CAAC,OAAO,CAAC;wDAAG;;;;;;;;;;;;;sDAI7C,4MAAC;4CAAG,WAAU;sDACX,OAAO,WAAW;;;;;;sDAErB,4MAAC;4CAAG,WAAU;sDACX,OAAO,QAAQ,GAAG,kBACjB,4MAAC;;oDACE,OAAO,WAAW;oDAAC;oDAAE,OAAO,QAAQ;kEACrC,4MAAC;wDAAK,WAAU;;4DAA6B;4DACzC,OAAO,aAAa,CAAC,OAAO,CAAC;4DAAG;;;;;;;;;;;;uDAGpC;;;;;;sDAEN,4MAAC;4CAAG,WAAU;sDACX,OAAO,WAAW;;;;;;;mCA5Cd,OAAO,QAAQ;;;;;;;;;;;;;;;;;;;;;0BAqDhC,4MAAC;gBAAI,WAAU;0BACb,cAAA,4MAAC;oBAAI,WAAU;;sCACb,4MAAC;;8CAAK,4MAAC;8CAAO;;;;;;gCAAa;;;;;;;sCAC3B,4MAAC;;8CAAK,4MAAC;8CAAO;;;;;;gCAAY;;;;;;;sCAC1B,4MAAC;;8CAAK,4MAAC;8CAAO;;;;;;gCAAY;;;;;;;sCAC1B,4MAAC;;8CAAK,4MAAC;8CAAO;;;;;;gCAAY;;;;;;;sCAC1B,4MAAC;;8CAAK,4MAAC;8CAAO;;;;;;gCAAa;;;;;;;;;;;;;;;;;;;;;;;;AAKrC;GA1RgB;KAAA","debugId":null}},
    {"offset": {"line": 4590, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/app/demo/analytics/page.tsx"],"sourcesContent":["'use client'\n\nimport React, { useState, useEffect } from 'react'\nimport { useGameTrackingStore } from '@/lib/stores/game-tracking-store'\nimport { supabase } from '@/lib/db/supabase'\nimport { useTeam } from '@/lib/contexts/team-context'\nimport {\n  extractShotData,\n  calculateShotQualityStats,\n  analyzeBreakouts,\n  getPeriodStats,\n  getShootingPercentageBySituation,\n  calculatePlayerStats,\n} from '@/lib/analytics/game-analytics'\nimport { ShotChart } from '@/components/analytics/shot-chart'\nimport { ShotQualityChart } from '@/components/analytics/shot-quality-chart'\nimport { BreakoutAnalysis } from '@/components/analytics/breakout-analysis'\nimport { PeriodTrends } from '@/components/analytics/period-trends'\nimport { PlayerStatsTable } from '@/components/analytics/player-stats-table'\nimport type { GameEvent } from '@/lib/stores/game-tracking-store'\n\n// Types for AI-generated practice plan\ninterface PracticePlanDrill {\n  drill_title: string\n  duration_minutes: number\n  reason: string\n  addresses: string\n  expected_improvement: string\n}\n\ninterface PracticePlanSection {\n  section: 'warm_up' | 'skills' | 'drills' | 'small_area_games' | 'scrimmage' | 'cool_down'\n  drills: PracticePlanDrill[]\n}\n\ninterface GeneratedPracticePlan {\n  reasoning: {\n    top_focus_areas: string[]\n    overall_assessment: string\n    practice_goals: string[]\n  }\n  practice_plan: {\n    total_duration_minutes: number\n    sections: PracticePlanSection[]\n  }\n}\n\ninterface Game {\n  id: string\n  opponent_name: string\n  game_date: string\n  location: string | null\n}\n\nexport default function AnalyticsDemoPage() {\n  const { events, players, gameState, loadEvents, setGameState } = useGameTrackingStore()\n  const { selectedTeamId, selectTeam } = useTeam()\n  const [selectedPeriod, setSelectedPeriod] = useState<number | 'all'>('all')\n  const [selectedSituation, setSelectedSituation] = useState<string | 'all'>('all')\n  const [generatingPlan, setGeneratingPlan] = useState(false)\n  const [generatedPlan, setGeneratedPlan] = useState<GeneratedPracticePlan | null>(null)\n  const [planError, setPlanError] = useState<string | null>(null)\n  const [loading, setLoading] = useState(true)\n  const [availableGames, setAvailableGames] = useState<Game[]>([])\n  const [selectedGameId, setSelectedGameId] = useState<string | null>(null)\n\n  // Save practice plan state\n  const [showSaveModal, setShowSaveModal] = useState(false)\n  const [savingPractice, setSavingPractice] = useState(false)\n  const [practiceDate, setPracticeDate] = useState('')\n  const [practiceNotes, setPracticeNotes] = useState('')\n  const [saveError, setSaveError] = useState<string | null>(null)\n  const [saveSuccess, setSaveSuccess] = useState(false)\n\n  // Load available games on mount and when team changes\n  useEffect(() => {\n    async function loadAvailableGames() {\n      try {\n        setLoading(true) // Reset loading state when team changes\n\n        const {\n          data: { user },\n        } = await supabase.auth.getUser()\n        if (!user) {\n          console.log('‚ùå No user authenticated')\n          setLoading(false)\n          return\n        }\n\n        // Determine which team to use\n        let teamId: string\n\n        if (selectedTeamId) {\n          // Use the selected team from context\n          teamId = selectedTeamId\n        } else {\n          // No team selected - get user's first team and auto-select it\n          const { data: teamMembers } = await supabase\n            .from('team_members')\n            .select('team_id')\n            .eq('user_id', user.id)\n            .limit(1)\n\n          if (!teamMembers || teamMembers.length === 0) {\n            console.log('‚ùå No team found for user')\n            return\n          }\n\n          teamId = teamMembers[0].team_id\n          // Auto-select this team in context\n          selectTeam(teamId)\n        }\n\n        // Load players from roster for this team\n        const { data: dbPlayers } = await supabase\n          .from('players')\n          .select('id, jersey_number, first_name, last_name, position')\n          .eq('team_id', teamId)\n          .order('jersey_number')\n\n        if (dbPlayers && dbPlayers.length > 0) {\n          const mappedPlayers = dbPlayers.map((p) => ({\n            id: p.id,\n            jerseyNumber: p.jersey_number,\n            firstName: p.first_name,\n            lastName: p.last_name,\n            position: p.position as any,\n          }))\n          useGameTrackingStore.getState().setPlayers(mappedPlayers)\n          console.log('‚úÖ Loaded', mappedPlayers.length, 'players from roster for team', teamId)\n        } else {\n          // Clear players if team has no roster\n          useGameTrackingStore.getState().setPlayers([])\n          console.log('‚ö†Ô∏è No players found for team', teamId)\n        }\n\n        // Get all games for this team\n        const { data: games } = await supabase\n          .from('games')\n          .select('id, opponent_name, game_date, location')\n          .eq('team_id', teamId)\n          .order('game_date', { ascending: false })\n\n        if (games && games.length > 0) {\n          console.log('‚úÖ Found', games.length, 'games for team', teamId)\n          setAvailableGames(games)\n\n          // Always select the most recent game for the newly selected team\n          const gameIdToLoad = games[0].id\n          setSelectedGameId(gameIdToLoad)\n          setGameState({ gameId: gameIdToLoad })\n\n          // Load events for the selected game\n          console.log('üìä Loading events for game:', gameIdToLoad)\n          await loadEvents(gameIdToLoad)\n          console.log('‚úÖ Loaded events for game')\n        } else {\n          console.log('‚ùå No games found for team', teamId)\n          setAvailableGames([])\n          setSelectedGameId(null)\n        }\n      } catch (error) {\n        console.error('‚ùå Error loading games:', error)\n      } finally {\n        setLoading(false)\n      }\n    }\n    loadAvailableGames()\n  }, [selectedTeamId, selectTeam])\n\n  // Handle game selection change\n  const handleGameChange = async (newGameId: string) => {\n    setSelectedGameId(newGameId)\n    setGameState({ gameId: newGameId })\n    setLoading(true)\n    try {\n      await loadEvents(newGameId)\n      console.log('‚úÖ Switched to game:', newGameId)\n    } catch (error) {\n      console.error('‚ùå Error loading game events:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Filter events based on selected period and situation\n  const filteredEvents = events.filter((event) => {\n    const periodMatch = selectedPeriod === 'all' || event.period === selectedPeriod\n    const situationMatch =\n      selectedSituation === 'all' || event.situation === selectedSituation\n    return periodMatch && situationMatch\n  })\n\n  // Calculate analytics from filtered events\n  const shotData = extractShotData(filteredEvents)\n  const shotQualityStats = calculateShotQualityStats(filteredEvents)\n  const breakoutAnalytics = analyzeBreakouts(filteredEvents)\n  const periodStats = getPeriodStats(filteredEvents, 3)\n  const situationStats = getShootingPercentageBySituation(filteredEvents)\n  const playerStats = calculatePlayerStats(filteredEvents, players)\n\n  // Count turnovers\n  const turnoverCount = filteredEvents.filter((e) => e.eventType === 'turnover').length\n\n  // Get unique periods from events\n  const periods = Array.from(new Set(events.map((e) => e.period))).sort()\n\n  // Generate AI practice plan\n  async function generatePracticePlan() {\n    setGeneratingPlan(true)\n    setPlanError(null)\n    setGeneratedPlan(null)\n\n    try {\n      console.log('ü§ñ Requesting AI practice plan generation...')\n\n      // Build analytics payload\n      const analyticsPayload = {\n        shotQualityStats: {\n          totalShots: shotQualityStats.totalShots,\n          totalGoals: shotQualityStats.totalGoals,\n          shootingPercentage: shotQualityStats.shootingPercentage,\n          highDangerShots: shotQualityStats.highDangerShots,\n          highDangerGoals: shotQualityStats.highDangerGoals,\n          highDangerPercentage: shotQualityStats.highDangerPercentage,\n          mediumDangerShots: shotQualityStats.mediumDangerShots,\n          lowDangerShots: shotQualityStats.lowDangerShots,\n        },\n        breakoutAnalytics: {\n          totalBreakouts: breakoutAnalytics.total,\n          successfulBreakouts: breakoutAnalytics.successful,\n          failedBreakouts: breakoutAnalytics.failed,\n          successRate: breakoutAnalytics.successRate,\n          byType: breakoutAnalytics.byType,\n        },\n        turnoverCount,\n        periodStats: periodStats.map((p) => ({\n          period: p.period,\n          shots: p.shots,\n          goals: p.goals,\n          events: p.events,\n        })),\n        situationStats: {\n          evenStrength: situationStats.find((s) => s.situation === 'even_strength') || {\n            shots: 0,\n            goals: 0,\n            percentage: 0,\n          },\n          powerPlay: situationStats.find((s) => s.situation === 'power_play') || {\n            shots: 0,\n            goals: 0,\n            percentage: 0,\n          },\n          penaltyKill: situationStats.find((s) => s.situation === 'penalty_kill') || {\n            shots: 0,\n            goals: 0,\n            percentage: 0,\n          },\n        },\n      }\n\n      const response = await fetch('/api/generate-practice-plan', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          teamId: 'demo-team',\n          analytics: analyticsPayload,\n          practiceDuration: 60,\n          teamAge: 13, // U13 team for demo\n        }),\n      })\n\n      if (!response.ok) {\n        const error = await response.json()\n        throw new Error(error.message || 'Failed to generate practice plan')\n      }\n\n      const result = await response.json()\n      console.log('‚úÖ Practice plan generated:', result)\n\n      setGeneratedPlan(result.practicePlan)\n    } catch (error) {\n      console.error('‚ùå Error generating practice plan:', error)\n      setPlanError(error instanceof Error ? error.message : 'Unknown error occurred')\n    } finally {\n      setGeneratingPlan(false)\n    }\n  }\n\n  // Save practice plan to database\n  async function savePracticePlan() {\n    if (!generatedPlan || !practiceDate) {\n      setSaveError('Please provide a practice date')\n      return\n    }\n\n    setSavingPractice(true)\n    setSaveError(null)\n    setSaveSuccess(false)\n\n    try {\n      console.log('üíæ Saving practice plan to database...')\n\n      // Get current user and team\n      const { data: { user } } = await supabase.auth.getUser()\n      if (!user) {\n        throw new Error('No authenticated user')\n      }\n\n      const { data: teamMember } = await supabase\n        .from('team_members')\n        .select('team_id')\n        .eq('user_id', user.id)\n        .single()\n\n      if (!teamMember) {\n        throw new Error('No team found for user')\n      }\n\n      // Fetch all available drills to match titles\n      const { data: allDrills, error: drillsError } = await supabase\n        .from('drills')\n        .select('id, title')\n        .eq('is_global', true)\n\n      if (drillsError) {\n        throw new Error('Failed to fetch drills')\n      }\n\n      // Create a map of drill titles to IDs (case-insensitive)\n      const drillTitleMap = new Map(\n        allDrills.map((d) => [d.title.toLowerCase(), d.id])\n      )\n\n      // Create the practice record\n      const { data: practice, error: practiceError } = await supabase\n        .from('practices')\n        .insert({\n          team_id: teamMember.team_id,\n          practice_date: new Date(practiceDate).toISOString(),\n          duration_minutes: generatedPlan.practice_plan.total_duration_minutes,\n          objectives: generatedPlan.reasoning.practice_goals.join('\\n'),\n          notes: practiceNotes,\n          generated_by_ai: true,\n          based_on_game_id: selectedGameId,\n          ai_reasoning: {\n            top_focus_areas: generatedPlan.reasoning.top_focus_areas,\n            overall_assessment: generatedPlan.reasoning.overall_assessment,\n            practice_goals: generatedPlan.reasoning.practice_goals,\n          },\n          status: 'planned',\n          created_by: user.id,\n        })\n        .select()\n        .single()\n\n      if (practiceError) {\n        console.error('Error creating practice:', practiceError)\n        throw new Error('Failed to create practice record')\n      }\n\n      console.log('‚úÖ Practice created:', practice.id)\n\n      // Now create practice_drill records for each drill\n      const practiceDrills = []\n      let sequenceOrder = 1\n\n      for (const section of generatedPlan.practice_plan.sections) {\n        for (const drill of section.drills) {\n          // Find drill ID by title (case-insensitive match)\n          const drillId = drillTitleMap.get(drill.drill_title.toLowerCase())\n\n          if (!drillId) {\n            console.warn(`‚ö†Ô∏è Could not find drill ID for: \"${drill.drill_title}\"`)\n            continue // Skip drills we can't match\n          }\n\n          practiceDrills.push({\n            practice_id: practice.id,\n            drill_id: drillId,\n            section: section.section,\n            sequence_order: sequenceOrder++,\n            duration_minutes: drill.duration_minutes,\n            notes: `${drill.reason}\\n\\nExpected: ${drill.expected_improvement}`,\n          })\n        }\n      }\n\n      // Insert all practice drills\n      const { error: drillsInsertError } = await supabase\n        .from('practice_drills')\n        .insert(practiceDrills)\n\n      if (drillsInsertError) {\n        console.error('Error inserting practice drills:', drillsInsertError)\n        throw new Error('Failed to save practice drills')\n      }\n\n      console.log('‚úÖ Saved', practiceDrills.length, 'practice drills')\n\n      setSaveSuccess(true)\n      setTimeout(() => {\n        setShowSaveModal(false)\n        setSaveSuccess(false)\n        setPracticeDate('')\n        setPracticeNotes('')\n      }, 2000)\n    } catch (error) {\n      console.error('‚ùå Error saving practice plan:', error)\n      setSaveError(error instanceof Error ? error.message : 'Failed to save practice plan')\n    } finally {\n      setSavingPractice(false)\n    }\n  }\n\n  // Open save modal and set default date (tomorrow)\n  function openSaveModal() {\n    const tomorrow = new Date()\n    tomorrow.setDate(tomorrow.getDate() + 1)\n    setPracticeDate(tomorrow.toISOString().split('T')[0])\n    setPracticeNotes('')\n    setSaveError(null)\n    setSaveSuccess(false)\n    setShowSaveModal(true)\n  }\n\n  // Show loading state\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 p-6 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Loading game events...</p>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-7xl mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <div className=\"flex items-center justify-between mb-2\">\n            <h1 className=\"text-3xl font-bold text-gray-900\">Game Analytics Dashboard</h1>\n            <a\n              href=\"/demo/practice-history\"\n              className=\"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-800 hover:underline\"\n            >\n              View Practice History ‚Üí\n            </a>\n          </div>\n          <p className=\"text-gray-600\">\n            Post-game analytics and insights based on tracked events\n          </p>\n\n          {/* Game selector */}\n          {availableGames.length > 0 && (\n            <div className=\"mt-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Select Game\n              </label>\n              <select\n                value={selectedGameId || ''}\n                onChange={(e) => handleGameChange(e.target.value)}\n                className=\"w-full max-w-md px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white\"\n              >\n                {availableGames.map((game) => {\n                  const date = new Date(game.game_date).toLocaleDateString('en-US', {\n                    month: 'short',\n                    day: 'numeric',\n                    year: 'numeric',\n                  })\n                  const location = game.location ? ` @ ${game.location}` : ''\n                  return (\n                    <option key={game.id} value={game.id}>\n                      vs {game.opponent_name} - {date}{location}\n                    </option>\n                  )\n                })}\n              </select>\n            </div>\n          )}\n\n          {/* Event count indicator */}\n          <div className=\"mt-4 flex items-center gap-4 text-sm\">\n            <span className=\"text-gray-600\">\n              Total Events: <span className=\"font-semibold\">{events.length}</span>\n            </span>\n            <span className=\"text-gray-600\">\n              Filtered Events: <span className=\"font-semibold\">{filteredEvents.length}</span>\n            </span>\n          </div>\n        </div>\n\n        {/* Filters */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h2 className=\"text-lg font-semibold mb-4\">Filters</h2>\n          <div className=\"flex flex-wrap gap-4\">\n            {/* Period filter */}\n            <div className=\"flex-1 min-w-[200px]\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Period\n              </label>\n              <select\n                value={selectedPeriod}\n                onChange={(e) =>\n                  setSelectedPeriod(e.target.value === 'all' ? 'all' : Number(e.target.value))\n                }\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"all\">All Periods</option>\n                {periods.map((period) => (\n                  <option key={period} value={period}>\n                    Period {period}\n                  </option>\n                ))}\n              </select>\n            </div>\n\n            {/* Situation filter */}\n            <div className=\"flex-1 min-w-[200px]\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                Situation\n              </label>\n              <select\n                value={selectedSituation}\n                onChange={(e) => setSelectedSituation(e.target.value)}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"all\">All Situations</option>\n                <option value=\"even_strength\">Even Strength</option>\n                <option value=\"power_play\">Power Play</option>\n                <option value=\"penalty_kill\">Penalty Kill</option>\n              </select>\n            </div>\n\n            {/* Reset button */}\n            <div className=\"flex items-end\">\n              <button\n                onClick={() => {\n                  setSelectedPeriod('all')\n                  setSelectedSituation('all')\n                }}\n                className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors\"\n              >\n                Reset Filters\n              </button>\n            </div>\n          </div>\n\n          {/* Situation stats quick view */}\n          <div className=\"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4\">\n            {situationStats.map((stat) => (\n              <div key={stat.situation} className=\"bg-gray-50 rounded p-3\">\n                <div className=\"text-xs text-gray-600 uppercase\">\n                  {stat.situation.replace('_', ' ')}\n                </div>\n                <div className=\"mt-1 flex items-baseline gap-2\">\n                  <span className=\"text-xl font-bold\">{stat.percentage.toFixed(1)}%</span>\n                  <span className=\"text-sm text-gray-600\">\n                    ({stat.goals}/{stat.shots})\n                  </span>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Empty state */}\n        {events.length === 0 && (\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center\">\n            <p className=\"text-yellow-800 mb-4\">\n              No game events found. Track some events in the{' '}\n              <a href=\"/demo/game-tracking\" className=\"font-semibold underline\">\n                game tracking demo\n              </a>{' '}\n              first.\n            </p>\n          </div>\n        )}\n\n        {/* Shot Analytics Section */}\n        {shotData.length > 0 && (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">Shot Analysis</h2>\n\n            {/* Shot Chart */}\n            <div>\n              <ShotChart shots={shotData} players={players} width={800} height={400} />\n            </div>\n\n            {/* Shot Quality Breakdown */}\n            <div>\n              <ShotQualityChart stats={shotQualityStats} />\n            </div>\n          </div>\n        )}\n\n        {/* Breakout Analysis Section */}\n        {breakoutAnalytics.total > 0 && (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">Breakout Performance</h2>\n            <BreakoutAnalysis analytics={breakoutAnalytics} />\n          </div>\n        )}\n\n        {/* Period Trends Section */}\n        {periodStats.length > 0 && periodStats.some((p) => p.shots > 0) && (\n          <div className=\"space-y-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900\">Period-by-Period Trends</h2>\n            <PeriodTrends periodStats={periodStats} />\n          </div>\n        )}\n\n        {/* Player Statistics Section */}\n        {playerStats.length > 0 && (\n          <div className=\"space-y-6\">\n            <PlayerStatsTable stats={playerStats} />\n          </div>\n        )}\n\n        {/* AI Practice Plan Generation */}\n        {events.length > 0 && (\n          <div className=\"bg-gradient-to-br from-purple-50 to-blue-50 border-2 border-purple-200 rounded-lg shadow-lg p-6\">\n            <h3 className=\"text-xl font-bold mb-2 text-purple-900\">\n              ü§ñ AI-Powered Practice Planning\n            </h3>\n            <p className=\"text-purple-700 mb-4\">\n              Let AI analyze this game data and generate a targeted practice plan to address your\n              team's weaknesses.\n            </p>\n\n            <button\n              onClick={generatePracticePlan}\n              disabled={generatingPlan}\n              className=\"px-6 py-3 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-semibold rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all shadow-md disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {generatingPlan ? 'ü§ñ Generating Practice Plan...' : '‚ú® Generate AI Practice Plan'}\n            </button>\n\n            {planError && (\n              <div className=\"mt-4 bg-red-50 border border-red-200 rounded-md p-4\">\n                <p className=\"text-red-800 font-semibold\">Error generating practice plan</p>\n                <p className=\"text-red-600 text-sm mt-1\">{planError}</p>\n                {planError.includes('API key not configured') && (\n                  <p className=\"text-red-600 text-sm mt-2\">\n                    üí° Add your OpenAI API key to <code className=\"bg-red-100 px-1\">.env.local</code>:\n                    <br />\n                    <code className=\"bg-red-100 px-2 py-1 rounded text-xs block mt-1\">\n                      OPENAI_API_KEY=your-key-here\n                    </code>\n                  </p>\n                )}\n              </div>\n            )}\n          </div>\n        )}\n\n        {/* Generated Practice Plan Display */}\n        {generatedPlan && (\n          <div className=\"bg-white border-2 border-green-200 rounded-lg shadow-xl p-6\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">\n              ‚úÖ AI-Generated Practice Plan\n            </h2>\n\n            {/* Reasoning Section */}\n            <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n              <h3 className=\"text-lg font-semibold text-blue-900 mb-2\">Analysis & Focus Areas</h3>\n              <p className=\"text-blue-800 mb-3\">{generatedPlan.reasoning.overall_assessment}</p>\n\n              <div className=\"mb-3\">\n                <h4 className=\"text-sm font-semibold text-blue-900 mb-1\">Top Focus Areas:</h4>\n                <ul className=\"list-disc list-inside text-blue-800 space-y-1\">\n                  {generatedPlan.reasoning.top_focus_areas.map((area, idx) => (\n                    <li key={idx}>{area}</li>\n                  ))}\n                </ul>\n              </div>\n\n              <div>\n                <h4 className=\"text-sm font-semibold text-blue-900 mb-1\">Practice Goals:</h4>\n                <ul className=\"list-disc list-inside text-blue-800 space-y-1\">\n                  {generatedPlan.reasoning.practice_goals.map((goal, idx) => (\n                    <li key={idx}>{goal}</li>\n                  ))}\n                </ul>\n              </div>\n            </div>\n\n            {/* Practice Plan Sections */}\n            <div className=\"space-y-4\">\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-lg font-semibold text-gray-900\">\n                  Practice Plan ({generatedPlan.practice_plan.total_duration_minutes} minutes)\n                </h3>\n              </div>\n\n              {generatedPlan.practice_plan.sections.map((section, idx) => (\n                <div key={idx} className=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n                  <h4 className=\"text-md font-semibold text-gray-900 mb-3 uppercase tracking-wide\">\n                    {section.section.replace('_', ' ')}\n                    <span className=\"text-sm text-gray-600 font-normal ml-2\">\n                      ({section.drills.reduce((sum, d) => sum + d.duration_minutes, 0)} min)\n                    </span>\n                  </h4>\n\n                  <div className=\"space-y-3\">\n                    {section.drills.map((drill, drillIdx) => (\n                      <div\n                        key={drillIdx}\n                        className=\"bg-white border border-gray-200 rounded-md p-3\"\n                      >\n                        <div className=\"flex items-start justify-between mb-2\">\n                          <h5 className=\"font-semibold text-gray-900\">{drill.drill_title}</h5>\n                          <span className=\"text-sm text-gray-600 font-semibold ml-2 whitespace-nowrap\">\n                            {drill.duration_minutes} min\n                          </span>\n                        </div>\n\n                        <div className=\"space-y-2 text-sm\">\n                          <div>\n                            <span className=\"font-semibold text-purple-700\">Addresses: </span>\n                            <span className=\"text-gray-700\">{drill.addresses}</span>\n                          </div>\n                          <div>\n                            <span className=\"font-semibold text-blue-700\">Why: </span>\n                            <span className=\"text-gray-700\">{drill.reason}</span>\n                          </div>\n                          <div>\n                            <span className=\"font-semibold text-green-700\">Expected: </span>\n                            <span className=\"text-gray-700\">{drill.expected_improvement}</span>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Actions for generated plan */}\n            <div className=\"mt-6 flex gap-4\">\n              <button\n                onClick={openSaveModal}\n                className=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors font-semibold\"\n              >\n                üíæ Save Practice Plan\n              </button>\n              <button\n                onClick={() => setGeneratedPlan(null)}\n                className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors\"\n              >\n                ‚úï Close\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Save Practice Plan Modal */}\n        {showSaveModal && generatedPlan && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n              <h3 className=\"text-xl font-bold text-gray-900 mb-4\">\n                Save Practice Plan\n              </h3>\n\n              <div className=\"space-y-4\">\n                {/* Practice Date */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Practice Date *\n                  </label>\n                  <input\n                    type=\"date\"\n                    value={practiceDate}\n                    onChange={(e) => setPracticeDate(e.target.value)}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n                    required\n                    disabled={savingPractice}\n                  />\n                </div>\n\n                {/* Duration (read-only) */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Duration\n                  </label>\n                  <input\n                    type=\"text\"\n                    value={`${generatedPlan.practice_plan.total_duration_minutes} minutes`}\n                    className=\"w-full px-3 py-2 bg-gray-100 border border-gray-300 rounded-md text-gray-600\"\n                    disabled\n                  />\n                </div>\n\n                {/* Notes */}\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    Notes (optional)\n                  </label>\n                  <textarea\n                    value={practiceNotes}\n                    onChange={(e) => setPracticeNotes(e.target.value)}\n                    placeholder=\"Add any additional notes about this practice...\"\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500\"\n                    disabled={savingPractice}\n                  />\n                </div>\n\n                {/* Error message */}\n                {saveError && (\n                  <div className=\"bg-red-50 border border-red-200 rounded-md p-3\">\n                    <p className=\"text-red-800 text-sm\">{saveError}</p>\n                  </div>\n                )}\n\n                {/* Success message */}\n                {saveSuccess && (\n                  <div className=\"bg-green-50 border border-green-200 rounded-md p-3\">\n                    <p className=\"text-green-800 text-sm font-semibold\">\n                      ‚úÖ Practice plan saved successfully!\n                    </p>\n                  </div>\n                )}\n\n                {/* Actions */}\n                <div className=\"flex gap-3 pt-4\">\n                  <button\n                    onClick={savePracticePlan}\n                    disabled={savingPractice || !practiceDate}\n                    className=\"flex-1 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors font-semibold disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    {savingPractice ? 'Saving...' : 'Save Practice Plan'}\n                  </button>\n                  <button\n                    onClick={() => setShowSaveModal(false)}\n                    disabled={savingPractice}\n                    className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors disabled:opacity-50\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Export/Actions */}\n        <div className=\"bg-white rounded-lg shadow p-6\">\n          <h3 className=\"text-lg font-semibold mb-4\">Actions</h3>\n          <div className=\"flex gap-4\">\n            <button\n              onClick={() => {\n                // TODO: Implement PDF export\n                alert('PDF export coming soon!')\n              }}\n              className=\"px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors\"\n            >\n              Export as PDF\n            </button>\n            <button\n              onClick={() => {\n                // TODO: Implement sharing\n                alert('Share functionality coming soon!')\n              }}\n              className=\"px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition-colors\"\n            >\n              Share Analytics\n            </button>\n            <a\n              href=\"/demo/game-tracking\"\n              className=\"px-4 py-2 bg-gray-200 text-gray-700 rounded-md hover:bg-gray-300 transition-colors\"\n            >\n              Back to Game Tracking\n            </a>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}