{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/lib/db/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\nimport type { Database } from '@/lib/types/database'\n\n// Supabase client for client-side usage\nexport const supabase = createClient<Database>(\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n)\n"],"names":[],"mappings":";;;;AAAA;;AAIO,MAAM,WAAW,IAAA,sNAAY","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/app/actions/teams.ts"],"sourcesContent":["'use server'\n\nimport { supabaseAdmin } from '@/lib/db/supabase-admin'\nimport { teamCreateSchema, teamUpdateSchema, type TeamCreateInput } from '@/lib/validation/team-schemas'\n\n/**\n * Get Team Statistics\n * Returns player count and game count for a team\n */\nexport async function getTeamStats(teamId: string): Promise<{\n  playerCount: number\n  gameCount: number\n  error: string | null\n}> {\n  try {\n    // Get player count\n    const { count: playerCount, error: playersError } = await supabaseAdmin\n      .from('players')\n      .select('*', { count: 'exact', head: true })\n      .eq('team_id', teamId)\n\n    if (playersError) {\n      console.error('Error counting players:', playersError)\n      return { playerCount: 0, gameCount: 0, error: playersError.message }\n    }\n\n    // Get game count\n    const { count: gameCount, error: gamesError } = await supabaseAdmin\n      .from('games')\n      .select('*', { count: 'exact', head: true })\n      .eq('team_id', teamId)\n\n    if (gamesError) {\n      console.error('Error counting games:', gamesError)\n      return { playerCount: playerCount || 0, gameCount: 0, error: gamesError.message }\n    }\n\n    return {\n      playerCount: playerCount || 0,\n      gameCount: gameCount || 0,\n      error: null,\n    }\n  } catch (error) {\n    console.error('Error getting team stats:', error)\n    return { playerCount: 0, gameCount: 0, error: 'Failed to get team stats' }\n  }\n}\n\n/**\n * Create Team\n *\n * Create a new team and add the user as head coach\n *\n * @param input - Team creation data\n * @param userId - User ID to add as head coach\n * @returns Created team and membership\n */\nexport async function createTeam(input: TeamCreateInput, userId: string): Promise<{\n  success: boolean\n  team?: {\n    id: string\n    name: string\n    age_years: number\n    level: string\n    season: string\n    region: string\n  }\n  membership?: {\n    id: string\n    role: string\n  }\n  error?: string\n  requiresVerification?: boolean\n}> {\n  try {\n    // Check if user's email is verified (using our custom field)\n    const { data: profile, error: profileError } = await supabaseAdmin\n      .from('user_profiles')\n      .select('email_verified')\n      .eq('id', userId)\n      .single()\n\n    if (profileError || !profile) {\n      return {\n        success: false,\n        error: 'User profile not found',\n      }\n    }\n\n    if (!profile.email_verified) {\n      return {\n        success: false,\n        error: 'Please verify your email address before creating a team',\n        requiresVerification: true,\n      }\n    }\n\n    // Validate input\n    const validatedData = teamCreateSchema.parse(input)\n\n    // 1. Create team\n    const { data: team, error: teamError } = await supabaseAdmin\n      .from('teams')\n      .insert({\n        organization_id: validatedData.organization_id,\n        name: validatedData.name,\n        age_years: validatedData.age_years,\n        level: validatedData.level,\n        season: validatedData.season,\n        region: validatedData.region,\n      })\n      .select()\n      .single()\n\n    if (teamError) {\n      console.error('Failed to create team:', teamError)\n      return {\n        success: false,\n        error: 'Failed to create team',\n      }\n    }\n\n    // 2. Add user as head coach\n    const { data: membership, error: membershipError } = await supabaseAdmin\n      .from('team_members')\n      .insert({\n        team_id: team.id,\n        user_id: userId,\n        role: 'head_coach',\n      })\n      .select('id, role')\n      .single()\n\n    if (membershipError) {\n      console.error('Failed to add user as head coach:', membershipError)\n      // Rollback: delete the team\n      await supabaseAdmin.from('teams').delete().eq('id', team.id)\n      return {\n        success: false,\n        error: 'Failed to add user as head coach',\n      }\n    }\n\n    return {\n      success: true,\n      team,\n      membership,\n    }\n  } catch (error) {\n    console.error('Unexpected error in createTeam:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Get User's Teams\n *\n * Fetch all teams the user belongs to\n */\nexport async function getUserTeams(userId: string): Promise<{\n  success: boolean\n  teams?: Array<{\n    id: string\n    name: string\n    age_years: number\n    age_group_display: string\n    level: string\n    season: string\n    region: string\n    organization_id: string\n    role: string\n  }>\n  error?: string\n}> {\n  try {\n    const { data: memberships, error } = await supabaseAdmin\n      .from('team_members')\n      .select(\n        `\n        role,\n        teams:team_id (\n          id,\n          name,\n          age_years,\n          level,\n          season,\n          region,\n          organization_id\n        )\n      `\n      )\n      .eq('user_id', userId)\n\n    if (error) {\n      console.error('Failed to fetch user teams:', error)\n      return {\n        success: false,\n        error: 'Failed to fetch teams',\n      }\n    }\n\n    // Use the teams_with_age_display view for formatted age groups\n    const teamIds = memberships?.map((m: any) => m.teams.id) || []\n\n    if (teamIds.length === 0) {\n      return {\n        success: true,\n        teams: [],\n      }\n    }\n\n    const { data: teamsWithDisplay, error: displayError } = await supabaseAdmin\n      .from('teams_with_age_display')\n      .select('*')\n      .in('id', teamIds)\n\n    if (displayError) {\n      console.error('Failed to fetch teams with display:', displayError)\n      // Fallback to basic data\n      const teams =\n        memberships?.map((m: any) => ({\n          ...m.teams,\n          age_group_display: `${m.teams.age_years}`, // Fallback\n          role: m.role,\n        })) || []\n\n      return {\n        success: true,\n        teams,\n      }\n    }\n\n    // Merge role information\n    const teams = teamsWithDisplay.map((team) => {\n      const membership = memberships?.find((m: any) => m.teams.id === team.id)\n      return {\n        ...team,\n        role: membership?.role || 'member',\n      }\n    })\n\n    return {\n      success: true,\n      teams,\n    }\n  } catch (error) {\n    console.error('Unexpected error in getUserTeams:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Get Team by ID\n *\n * Fetch a single team by ID (with user access check)\n */\nexport async function getTeamById(\n  teamId: string,\n  userId: string\n): Promise<{\n  success: boolean\n  team?: {\n    id: string\n    name: string\n    age_years: number\n    age_group_display: string\n    level: string\n    season: string\n    region: string\n    organization_id: string\n    role: string\n  }\n  error?: string\n}> {\n  try {\n    // First verify the user has access to this team\n    const { data: membership, error: membershipError } = await supabaseAdmin\n      .from('team_members')\n      .select('role')\n      .eq('team_id', teamId)\n      .eq('user_id', userId)\n      .single()\n\n    if (membershipError || !membership) {\n      return {\n        success: false,\n        error: 'Team not found or you do not have access',\n      }\n    }\n\n    // Fetch team with formatted age group\n    const { data: team, error: teamError } = await supabaseAdmin\n      .from('teams_with_age_display')\n      .select('*')\n      .eq('id', teamId)\n      .single()\n\n    if (teamError || !team) {\n      console.error('Failed to fetch team:', teamError)\n      return {\n        success: false,\n        error: 'Failed to fetch team details',\n      }\n    }\n\n    return {\n      success: true,\n      team: {\n        ...team,\n        role: membership.role,\n      },\n    }\n  } catch (error) {\n    console.error('Unexpected error in getTeamById:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Update Team\n *\n * Update team details (name, level, season)\n * Note: age_years and region cannot be changed\n */\nexport async function updateTeam(\n  teamId: string,\n  input: { name?: string; level?: string; season?: string }\n): Promise<{\n  success: boolean\n  team?: any\n  error?: string\n}> {\n  try {\n    // Validate input\n    const validatedData = teamUpdateSchema.parse(input)\n\n    const { data: team, error } = await supabaseAdmin\n      .from('teams')\n      .update(validatedData)\n      .eq('id', teamId)\n      .select()\n      .single()\n\n    if (error) {\n      console.error('Failed to update team:', error)\n      return {\n        success: false,\n        error: 'Failed to update team',\n      }\n    }\n\n    return {\n      success: true,\n      team,\n    }\n  } catch (error) {\n    console.error('Unexpected error in updateTeam:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Delete Team\n *\n * Delete a team (requires head_coach role)\n */\nexport async function deleteTeam(teamId: string): Promise<{\n  success: boolean\n  error?: string\n}> {\n  try {\n    const { error } = await supabaseAdmin.from('teams').delete().eq('id', teamId)\n\n    if (error) {\n      console.error('Failed to delete team:', error)\n      return {\n        success: false,\n        error: 'Failed to delete team',\n      }\n    }\n\n    return {\n      success: true,\n    }\n  } catch (error) {\n    console.error('Unexpected error in deleteTeam:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Get Team Members\n *\n * Fetch all members of a team with their user profile info\n */\nexport async function getTeamMembers(teamId: string): Promise<{\n  success: boolean\n  members?: Array<{\n    id: string\n    user_id: string\n    role: string\n    created_at: string\n    email: string\n    full_name: string | null\n  }>\n  error?: string\n}> {\n  try {\n    // Get team members\n    const { data: members, error } = await supabaseAdmin\n      .from('team_members')\n      .select('id, user_id, role, created_at')\n      .eq('team_id', teamId)\n      .order('created_at', { ascending: true })\n\n    if (error) {\n      console.error('Failed to fetch team members:', error)\n      return {\n        success: false,\n        error: 'Failed to fetch team members',\n      }\n    }\n\n    if (!members || members.length === 0) {\n      return {\n        success: true,\n        members: [],\n      }\n    }\n\n    // Get user profiles for all members\n    const userIds = members.map((m) => m.user_id)\n    const { data: profiles, error: profilesError } = await supabaseAdmin\n      .from('user_profiles')\n      .select('id, email, full_name')\n      .in('id', userIds)\n\n    if (profilesError) {\n      console.error('Failed to fetch user profiles:', profilesError)\n      // Continue with members data but without profile info\n    }\n\n    // Merge member data with profile data\n    const formattedMembers = members.map((member) => {\n      const profile = profiles?.find((p) => p.id === member.user_id)\n      return {\n        id: member.id,\n        user_id: member.user_id,\n        role: member.role,\n        created_at: member.created_at,\n        email: profile?.email || '',\n        full_name: profile?.full_name || null,\n      }\n    })\n\n    return {\n      success: true,\n      members: formattedMembers,\n    }\n  } catch (error) {\n    console.error('Unexpected error in getTeamMembers:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Add Team Member\n *\n * Add a user to a team by email\n */\nexport async function addTeamMember(\n  teamId: string,\n  email: string,\n  role: 'head_coach' | 'assistant_coach' | 'manager' | 'stat_tracker'\n): Promise<{\n  success: boolean\n  member?: any\n  error?: string\n}> {\n  try {\n    // 1. Find user by email\n    const { data: profile, error: profileError } = await supabaseAdmin\n      .from('user_profiles')\n      .select('id, email')\n      .eq('email', email)\n      .maybeSingle()\n\n    if (profileError) {\n      console.error('Error finding user:', profileError)\n      return {\n        success: false,\n        error: 'Error finding user',\n      }\n    }\n\n    if (!profile) {\n      return {\n        success: false,\n        error: 'No user found with this email address',\n      }\n    }\n\n    // 2. Check if already a member\n    const { data: existingMember } = await supabaseAdmin\n      .from('team_members')\n      .select('id')\n      .eq('team_id', teamId)\n      .eq('user_id', profile.id)\n      .maybeSingle()\n\n    if (existingMember) {\n      return {\n        success: false,\n        error: 'User is already a member of this team',\n      }\n    }\n\n    // 3. Add as team member\n    const { data: member, error: memberError } = await supabaseAdmin\n      .from('team_members')\n      .insert({\n        team_id: teamId,\n        user_id: profile.id,\n        role: role,\n      })\n      .select()\n      .single()\n\n    if (memberError) {\n      console.error('Failed to add team member:', memberError)\n      return {\n        success: false,\n        error: 'Failed to add team member',\n      }\n    }\n\n    return {\n      success: true,\n      member,\n    }\n  } catch (error) {\n    console.error('Unexpected error in addTeamMember:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Remove Team Member\n *\n * Remove a user from a team\n */\nexport async function removeTeamMember(\n  teamId: string,\n  userId: string\n): Promise<{\n  success: boolean\n  error?: string\n}> {\n  try {\n    // Check if this is the last head_coach\n    const { data: headCoaches } = await supabaseAdmin\n      .from('team_members')\n      .select('id, user_id')\n      .eq('team_id', teamId)\n      .eq('role', 'head_coach')\n\n    if (headCoaches && headCoaches.length === 1 && headCoaches[0].user_id === userId) {\n      return {\n        success: false,\n        error: 'Cannot remove the last head coach. Assign another head coach first.',\n      }\n    }\n\n    const { error } = await supabaseAdmin\n      .from('team_members')\n      .delete()\n      .eq('team_id', teamId)\n      .eq('user_id', userId)\n\n    if (error) {\n      console.error('Failed to remove team member:', error)\n      return {\n        success: false,\n        error: 'Failed to remove team member',\n      }\n    }\n\n    return {\n      success: true,\n    }\n  } catch (error) {\n    console.error('Unexpected error in removeTeamMember:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Update Team Member Role\n *\n * Change a team member's role\n */\nexport async function updateTeamMemberRole(\n  teamId: string,\n  userId: string,\n  newRole: 'head_coach' | 'assistant_coach' | 'manager' | 'stat_tracker'\n): Promise<{\n  success: boolean\n  error?: string\n}> {\n  try {\n    // If changing FROM head_coach, check if there's another head_coach\n    const { data: currentMember } = await supabaseAdmin\n      .from('team_members')\n      .select('role')\n      .eq('team_id', teamId)\n      .eq('user_id', userId)\n      .single()\n\n    if (currentMember?.role === 'head_coach' && newRole !== 'head_coach') {\n      // Check if there are other head coaches\n      const { data: headCoaches } = await supabaseAdmin\n        .from('team_members')\n        .select('id')\n        .eq('team_id', teamId)\n        .eq('role', 'head_coach')\n\n      if (headCoaches && headCoaches.length === 1) {\n        return {\n          success: false,\n          error: 'Cannot change role. Team must have at least one head coach.',\n        }\n      }\n    }\n\n    const { error } = await supabaseAdmin\n      .from('team_members')\n      .update({ role: newRole })\n      .eq('team_id', teamId)\n      .eq('user_id', userId)\n\n    if (error) {\n      console.error('Failed to update team member role:', error)\n      return {\n        success: false,\n        error: 'Failed to update role',\n      }\n    }\n\n    return {\n      success: true,\n    }\n  } catch (error) {\n    console.error('Unexpected error in updateTeamMemberRole:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IAkKsB,eAAA,WAAA,GAAA,IAAA,8PAAA,EAAA,8CAAA,mPAAA,EAAA,KAAA,GAAA,yPAAA,EAAA","debugId":null}},
    {"offset": {"line": 51, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/lib/contexts/team-context.tsx"],"sourcesContent":["'use client'\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react'\nimport { supabase } from '@/lib/db/supabase'\n\ninterface Team {\n  id: string\n  name: string\n  age_group_display: string\n  level: string\n  season: string\n}\n\ninterface TeamContextValue {\n  selectedTeamId: string | null\n  currentTeam: Team | null\n  selectTeam: (teamId: string | null) => void\n  isLoading: boolean\n  error: string | null\n}\n\nconst TeamContext = createContext<TeamContextValue | undefined>(undefined)\n\ninterface TeamProviderProps {\n  children: ReactNode\n  initialTeamId?: string | null\n}\n\nexport function TeamProvider({ children, initialTeamId }: TeamProviderProps) {\n  const [selectedTeamId, setSelectedTeamId] = useState<string | null>(null)\n  const [currentTeam, setCurrentTeam] = useState<Team | null>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const [error, setError] = useState<string | null>(null)\n  const [userId, setUserId] = useState<string | null>(null)\n\n  // Get current user on mount\n  useEffect(() => {\n    async function getUser() {\n      try {\n        const {\n          data: { user },\n          error: userError,\n        } = await supabase.auth.getUser()\n\n        if (userError) {\n          setError(userError.message)\n          return\n        }\n\n        if (user) {\n          setUserId(user.id)\n        }\n      } catch (err) {\n        console.error('Error getting user:', err)\n        setError('Failed to get user')\n      }\n    }\n\n    getUser()\n  }, [])\n\n  // Initialize selected team from localStorage or initialTeamId\n  useEffect(() => {\n    if (!userId) return\n\n    // Prefer explicit initialTeamId over localStorage\n    if (initialTeamId) {\n      setSelectedTeamId(initialTeamId)\n      return\n    }\n\n    // Load from localStorage\n    const stored = localStorage.getItem(`current_team_${userId}`)\n    if (stored) {\n      setSelectedTeamId(stored)\n    }\n  }, [userId, initialTeamId])\n\n  // Fetch team data when selectedTeamId changes\n  useEffect(() => {\n    if (!selectedTeamId) {\n      setCurrentTeam(null)\n      return\n    }\n\n    async function fetchTeam() {\n      setIsLoading(true)\n      setError(null)\n\n      try {\n        const { data, error: fetchError } = await supabase\n          .from('teams_with_age_display')\n          .select('*')\n          .eq('id', selectedTeamId)\n          .single()\n\n        if (fetchError) {\n          setError(fetchError.message)\n          setCurrentTeam(null)\n        } else {\n          setCurrentTeam(data)\n        }\n      } catch (err) {\n        console.error('Error fetching team:', err)\n        setError('Failed to fetch team')\n        setCurrentTeam(null)\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    fetchTeam()\n  }, [selectedTeamId])\n\n  // Save to localStorage when selectedTeamId changes\n  useEffect(() => {\n    if (!userId) return\n\n    if (selectedTeamId) {\n      localStorage.setItem(`current_team_${userId}`, selectedTeamId)\n    } else {\n      localStorage.removeItem(`current_team_${userId}`)\n    }\n  }, [userId, selectedTeamId])\n\n  const selectTeam = (teamId: string | null) => {\n    setSelectedTeamId(teamId)\n  }\n\n  const value: TeamContextValue = {\n    selectedTeamId,\n    currentTeam,\n    selectTeam,\n    isLoading,\n    error,\n  }\n\n  return <TeamContext.Provider value={value}>{children}</TeamContext.Provider>\n}\n\nexport function useTeam() {\n  const context = useContext(TeamContext)\n  if (context === undefined) {\n    throw new Error('useTeam must be used within TeamProvider')\n  }\n  return context\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAqBA,MAAM,4BAAc,IAAA,qOAAa,EAA+B;AAOzD,SAAS,aAAa,EAAE,QAAQ,EAAE,aAAa,EAAqB;IACzE,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,gOAAQ,EAAgB;IACpE,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gOAAQ,EAAc;IAC5D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,gOAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,gOAAQ,EAAgB;IAClD,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,gOAAQ,EAAgB;IAEpD,4BAA4B;IAC5B,IAAA,iOAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,EACJ,MAAM,EAAE,IAAI,EAAE,EACd,OAAO,SAAS,EACjB,GAAG,MAAM,mKAAQ,CAAC,IAAI,CAAC,OAAO;gBAE/B,IAAI,WAAW;oBACb,SAAS,UAAU,OAAO;oBAC1B;gBACF;gBAEA,IAAI,MAAM;oBACR,UAAU,KAAK,EAAE;gBACnB;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,uBAAuB;gBACrC,SAAS;YACX;QACF;QAEA;IACF,GAAG,EAAE;IAEL,8DAA8D;IAC9D,IAAA,iOAAS,EAAC;QACR,IAAI,CAAC,QAAQ;QAEb,kDAAkD;QAClD,IAAI,eAAe;YACjB,kBAAkB;YAClB;QACF;QAEA,yBAAyB;QACzB,MAAM,SAAS,aAAa,OAAO,CAAC,CAAC,aAAa,EAAE,QAAQ;QAC5D,IAAI,QAAQ;YACV,kBAAkB;QACpB;IACF,GAAG;QAAC;QAAQ;KAAc;IAE1B,8CAA8C;IAC9C,IAAA,iOAAS,EAAC;QACR,IAAI,CAAC,gBAAgB;YACnB,eAAe;YACf;QACF;QAEA,eAAe;YACb,aAAa;YACb,SAAS;YAET,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,OAAO,UAAU,EAAE,GAAG,MAAM,mKAAQ,CAC/C,IAAI,CAAC,0BACL,MAAM,CAAC,KACP,EAAE,CAAC,MAAM,gBACT,MAAM;gBAET,IAAI,YAAY;oBACd,SAAS,WAAW,OAAO;oBAC3B,eAAe;gBACjB,OAAO;oBACL,eAAe;gBACjB;YACF,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,wBAAwB;gBACtC,SAAS;gBACT,eAAe;YACjB,SAAU;gBACR,aAAa;YACf;QACF;QAEA;IACF,GAAG;QAAC;KAAe;IAEnB,mDAAmD;IACnD,IAAA,iOAAS,EAAC;QACR,IAAI,CAAC,QAAQ;QAEb,IAAI,gBAAgB;YAClB,aAAa,OAAO,CAAC,CAAC,aAAa,EAAE,QAAQ,EAAE;QACjD,OAAO;YACL,aAAa,UAAU,CAAC,CAAC,aAAa,EAAE,QAAQ;QAClD;IACF,GAAG;QAAC;QAAQ;KAAe;IAE3B,MAAM,aAAa,CAAC;QAClB,kBAAkB;IACpB;IAEA,MAAM,QAA0B;QAC9B;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,6PAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,kOAAU,EAAC;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 178, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/teams/team-selector.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport Link from 'next/link'\n\ninterface Team {\n  id: string\n  name: string\n  age_group_display: string\n  level: string\n  season: string\n}\n\ninterface TeamSelectorProps {\n  teams: Team[]\n  selectedTeamId: string | null\n  onTeamChange: (teamId: string) => void\n}\n\nexport function TeamSelector({ teams, selectedTeamId, onTeamChange }: TeamSelectorProps) {\n  const [isOpen, setIsOpen] = useState(false)\n  const dropdownRef = useRef<HTMLDivElement>(null)\n\n  const selectedTeam = teams.find((t) => t.id === selectedTeamId)\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (dropdownRef.current && !dropdownRef.current.contains(event.target as Node)) {\n        setIsOpen(false)\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside)\n      return () => document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [isOpen])\n\n  // Empty state: no teams\n  if (teams.length === 0) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-gray-600 mb-4\">No teams yet</p>\n        <Link\n          href=\"/demo/teams/new\"\n          className=\"text-blue-600 hover:text-blue-800 font-medium\"\n        >\n          Create your first team\n        </Link>\n      </div>\n    )\n  }\n\n  const handleTeamSelect = (teamId: string) => {\n    onTeamChange(teamId)\n    setIsOpen(false)\n  }\n\n  return (\n    <div className=\"relative\" ref={dropdownRef}>\n      {/* Dropdown Button */}\n      <button\n        type=\"button\"\n        onClick={() => setIsOpen(!isOpen)}\n        aria-haspopup=\"listbox\"\n        aria-expanded={isOpen}\n        aria-label=\"Select team\"\n        className=\"w-full min-h-[56px] px-4 py-3 bg-white border border-gray-300 rounded-lg shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors flex items-center justify-between\"\n      >\n        {selectedTeam ? (\n          <div className=\"flex flex-col items-start\">\n            <span className=\"font-medium text-gray-900\">{selectedTeam.name}</span>\n            <span className=\"text-sm text-gray-500\">\n              {selectedTeam.age_group_display} ‚Ä¢ {selectedTeam.level.toUpperCase()}\n            </span>\n          </div>\n        ) : (\n          <span className=\"font-medium text-gray-900\">Teams</span>\n        )}\n\n        {/* Chevron icon */}\n        <svg\n          className={`w-5 h-5 text-gray-400 transition-transform ${isOpen ? 'rotate-180' : ''}`}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n\n      {/* Dropdown Menu */}\n      {isOpen && (\n        <div className=\"absolute z-50 mt-2 w-full bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto\">\n          <div role=\"listbox\" className=\"py-2\">\n            {teams.map((team) => (\n              <button\n                key={team.id}\n                type=\"button\"\n                role=\"option\"\n                aria-selected={team.id === selectedTeamId}\n                onClick={() => handleTeamSelect(team.id)}\n                className={`w-full px-4 py-3 text-left hover:bg-gray-100 transition-colors ${\n                  team.id === selectedTeamId ? 'bg-blue-50 selected' : ''\n                }`}\n              >\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex flex-col\">\n                    <span\n                      className={`font-medium ${\n                        team.id === selectedTeamId ? 'text-blue-600' : 'text-gray-900'\n                      }`}\n                    >\n                      {team.name}\n                    </span>\n                    <span className=\"text-sm text-gray-500\">\n                      {team.age_group_display} ‚Ä¢ {team.level.toUpperCase()} ‚Ä¢ {team.season}\n                    </span>\n                  </div>\n\n                  {/* Checkmark for selected team */}\n                  {team.id === selectedTeamId && (\n                    <svg\n                      className=\"w-5 h-5 text-blue-600\"\n                      fill=\"none\"\n                      viewBox=\"0 0 24 24\"\n                      stroke=\"currentColor\"\n                    >\n                      <path\n                        strokeLinecap=\"round\"\n                        strokeLinejoin=\"round\"\n                        strokeWidth={2}\n                        d=\"M5 13l4 4L19 7\"\n                      />\n                    </svg>\n                  )}\n                </div>\n              </button>\n            ))}\n\n            {/* Divider */}\n            <div className=\"border-t border-gray-200 my-2\" />\n\n            {/* Manage Teams Link */}\n            <Link\n              href=\"/demo/teams\"\n              className=\"block px-4 py-3 text-left hover:bg-gray-100 transition-colors\"\n              onClick={() => setIsOpen(false)}\n            >\n              <div className=\"flex items-center gap-2\">\n                <svg\n                  className=\"w-5 h-5 text-gray-600\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n                  />\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n                  />\n                </svg>\n                <span className=\"font-medium text-gray-700\">Manage teams</span>\n              </div>\n            </Link>\n\n            {/* Create New Team Link */}\n            <Link\n              href=\"/demo/teams/new\"\n              className=\"block px-4 py-3 text-left hover:bg-gray-100 transition-colors\"\n              onClick={() => setIsOpen(false)}\n            >\n              <div className=\"flex items-center gap-2\">\n                <svg\n                  className=\"w-5 h-5 text-blue-600\"\n                  fill=\"none\"\n                  viewBox=\"0 0 24 24\"\n                  stroke=\"currentColor\"\n                >\n                  <path\n                    strokeLinecap=\"round\"\n                    strokeLinejoin=\"round\"\n                    strokeWidth={2}\n                    d=\"M12 4v16m8-8H4\"\n                  />\n                </svg>\n                <span className=\"font-medium text-blue-600\">Create new team</span>\n              </div>\n            </Link>\n          </div>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/app/actions/auth.ts"],"sourcesContent":["'use server'\n\nimport { supabaseAdmin } from '@/lib/db/supabase-admin'\nimport { sendEmailVerification } from '@/lib/email/resend'\nimport crypto from 'crypto'\n\n/**\n * Create User Profile and Organization\n *\n * Called after successful signup to create user profile and default organization\n */\nexport async function createUserProfileAndOrg(\n  userId: string,\n  email: string,\n  fullName?: string\n): Promise<{\n  success: boolean\n  error?: string\n}> {\n  try {\n    // 1. Create user profile (email_verified defaults to false)\n    const { error: profileError } = await supabaseAdmin\n      .from('user_profiles')\n      .insert({\n        id: userId,\n        email: email.toLowerCase(),\n        full_name: fullName || null,\n        email_verified: false, // Explicitly set to false until they verify\n      })\n\n    if (profileError) {\n      console.error('Failed to create user profile:', profileError)\n      return {\n        success: false,\n        error: 'Failed to create user profile',\n      }\n    }\n\n    // 2. Create default organization\n    const orgName = fullName\n      ? `${fullName}'s Organization`\n      : `${email.split('@')[0]}'s Organization`\n\n    const { error: orgError } = await supabaseAdmin\n      .from('organizations')\n      .insert({\n        name: orgName,\n        owner_id: userId,\n      })\n\n    if (orgError) {\n      console.error('Failed to create organization:', orgError)\n      // Don't fail - profile was created successfully\n      // User can create organization later\n    }\n\n    return {\n      success: true,\n    }\n  } catch (error) {\n    console.error('Unexpected error in createUserProfileAndOrg:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Send Initial Email Verification\n *\n * Called after signup to send the first verification email\n */\nexport async function sendInitialVerificationEmail(\n  userId: string,\n  email: string\n): Promise<{\n  success: boolean\n  error?: string\n}> {\n  try {\n    // 1. Generate secure token\n    const token = crypto.randomBytes(32).toString('hex')\n    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000) // 24 hours\n\n    // 2. Delete any existing tokens for this user\n    await supabaseAdmin\n      .from('email_verification_tokens')\n      .delete()\n      .eq('user_id', userId)\n\n    // 3. Create new verification token\n    const { error: tokenError } = await supabaseAdmin\n      .from('email_verification_tokens')\n      .insert({\n        user_id: userId,\n        token,\n        expires_at: expiresAt.toISOString(),\n      })\n\n    if (tokenError) {\n      console.error('Failed to create verification token:', tokenError)\n      return {\n        success: false,\n        error: 'Failed to generate verification link',\n      }\n    }\n\n    // 4. Send email via Resend\n    const baseUrl = process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'\n    const verificationLink = `${baseUrl}/auth/verify-email?token=${token}`\n\n    const emailResult = await sendEmailVerification(email, {\n      email,\n      verificationLink,\n    })\n\n    if (!emailResult.success) {\n      return {\n        success: false,\n        error: emailResult.error || 'Failed to send verification email',\n      }\n    }\n\n    return {\n      success: true,\n    }\n  } catch (error) {\n    console.error('Unexpected error sending verification email:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Resend Email Verification\n *\n * Generates a new verification token and sends email via Resend\n */\nexport async function resendVerificationEmail(\n  email: string\n): Promise<{\n  success: boolean\n  error?: string\n}> {\n  try {\n    // 1. Find user by email\n    const { data: profile, error: profileError } = await supabaseAdmin\n      .from('user_profiles')\n      .select('id, email_verified')\n      .eq('email', email.toLowerCase())\n      .single()\n\n    if (profileError || !profile) {\n      return {\n        success: false,\n        error: 'User not found',\n      }\n    }\n\n    if (profile.email_verified) {\n      return {\n        success: false,\n        error: 'Email is already verified',\n      }\n    }\n\n    // 2. Generate secure token\n    const token = crypto.randomBytes(32).toString('hex')\n    const expiresAt = new Date(Date.now() + 24 * 60 * 60 * 1000) // 24 hours\n\n    // 3. Delete any existing tokens for this user\n    await supabaseAdmin\n      .from('email_verification_tokens')\n      .delete()\n      .eq('user_id', profile.id)\n\n    // 4. Create new verification token\n    const { error: tokenError } = await supabaseAdmin\n      .from('email_verification_tokens')\n      .insert({\n        user_id: profile.id,\n        token,\n        expires_at: expiresAt.toISOString(),\n      })\n\n    if (tokenError) {\n      console.error('Failed to create verification token:', tokenError)\n      return {\n        success: false,\n        error: 'Failed to generate verification link',\n      }\n    }\n\n    // 5. Send email via Resend\n    const baseUrl = process.env.NEXT_PUBLIC_APP_URL || 'http://localhost:3000'\n    const verificationLink = `${baseUrl}/auth/verify-email?token=${token}`\n\n    const emailResult = await sendEmailVerification(email, {\n      email,\n      verificationLink,\n    })\n\n    if (!emailResult.success) {\n      return {\n        success: false,\n        error: emailResult.error || 'Failed to send verification email',\n      }\n    }\n\n    return {\n      success: true,\n    }\n  } catch (error) {\n    console.error('Unexpected error resending verification email:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n\n/**\n * Verify Email with Token\n *\n * Validates the verification token and marks email as verified\n */\nexport async function verifyEmailToken(\n  token: string\n): Promise<{\n  success: boolean\n  error?: string\n}> {\n  try {\n    // 1. Find token in database\n    const { data: tokenData, error: tokenError } = await supabaseAdmin\n      .from('email_verification_tokens')\n      .select('user_id, expires_at, verified_at')\n      .eq('token', token)\n      .single()\n\n    if (tokenError || !tokenData) {\n      return {\n        success: false,\n        error: 'Invalid verification link',\n      }\n    }\n\n    // 2. Check if already verified\n    if (tokenData.verified_at) {\n      return {\n        success: false,\n        error: 'Email already verified',\n      }\n    }\n\n    // 3. Check if expired\n    if (new Date(tokenData.expires_at) < new Date()) {\n      return {\n        success: false,\n        error: 'Verification link has expired. Please request a new one.',\n      }\n    }\n\n    // 4. Mark token as verified\n    await supabaseAdmin\n      .from('email_verification_tokens')\n      .update({ verified_at: new Date().toISOString() })\n      .eq('token', token)\n\n    // 5. Update user profile to mark email as verified\n    const { error: profileError } = await supabaseAdmin\n      .from('user_profiles')\n      .update({ email_verified: true })\n      .eq('id', tokenData.user_id)\n\n    if (profileError) {\n      console.error('Failed to update profile:', profileError)\n      return {\n        success: false,\n        error: 'Failed to verify email',\n      }\n    }\n\n    return {\n      success: true,\n    }\n  } catch (error) {\n    console.error('Unexpected error verifying email:', error)\n    return {\n      success: false,\n      error: 'An unexpected error occurred',\n    }\n  }\n}\n"],"names":[],"mappings":";;;;;;;IA6IsB,0BAAA,WAAA,GAAA,IAAA,8PAAA,EAAA,8CAAA,mPAAA,EAAA,KAAA,GAAA,yPAAA,EAAA","debugId":null}},
    {"offset": {"line": 536, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/auth/email-verification-banner.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { resendVerificationEmail } from '@/app/actions/auth'\n\ninterface EmailVerificationBannerProps {\n  email: string\n  onDismiss?: () => void\n}\n\nexport function EmailVerificationBanner({ email, onDismiss }: EmailVerificationBannerProps) {\n  const [isResending, setIsResending] = useState(false)\n  const [resendStatus, setResendStatus] = useState<'idle' | 'success' | 'error'>('idle')\n  const [isDismissed, setIsDismissed] = useState(false)\n\n  useEffect(() => {\n    console.log('‚úÖ EmailVerificationBanner MOUNTED with email:', email)\n  }, [email])\n\n  async function handleResend() {\n    setIsResending(true)\n    setResendStatus('idle')\n\n    const result = await resendVerificationEmail(email)\n\n    if (result.success) {\n      setResendStatus('success')\n    } else {\n      setResendStatus('error')\n    }\n\n    setIsResending(false)\n  }\n\n  function handleDismiss() {\n    setIsDismissed(true)\n    if (onDismiss) {\n      onDismiss()\n    }\n  }\n\n  if (isDismissed) {\n    console.log('‚ö†Ô∏è Banner dismissed, not rendering')\n    return null\n  }\n\n  console.log('üé® Rendering EmailVerificationBanner for:', email)\n\n  return (\n    <div className=\"bg-amber-50 border-b border-amber-200\">\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3\">\n        <div className=\"flex items-center justify-between gap-4\">\n          <div className=\"flex items-center gap-3 flex-1\">\n            <div className=\"flex-shrink-0\">\n              <svg\n                className=\"h-5 w-5 text-amber-600\"\n                fill=\"none\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path d=\"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z\" />\n              </svg>\n            </div>\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-amber-900\">\n                Please verify your email address\n              </p>\n              <p className=\"text-sm text-amber-700\">\n                We sent a verification link to <strong>{email}</strong>.\n                You need to verify your email before you can create teams or invite members.\n              </p>\n            </div>\n          </div>\n\n          <div className=\"flex items-center gap-2\">\n            {resendStatus === 'success' && (\n              <p className=\"text-sm text-green-700 font-medium\">Email sent!</p>\n            )}\n            {resendStatus === 'error' && (\n              <p className=\"text-sm text-red-700 font-medium\">Failed to send</p>\n            )}\n\n            <button\n              onClick={handleResend}\n              disabled={isResending || resendStatus === 'success'}\n              className=\"px-3 py-1.5 text-sm font-medium text-amber-900 bg-amber-100 hover:bg-amber-200 rounded-md transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n            >\n              {isResending ? 'Sending...' : 'Resend Email'}\n            </button>\n\n            <button\n              onClick={handleDismiss}\n              className=\"p-1 text-amber-700 hover:text-amber-900 rounded-md transition-colors\"\n              aria-label=\"Dismiss\"\n            >\n              <svg\n                className=\"h-5 w-5\"\n                fill=\"none\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth=\"2\"\n                viewBox=\"0 0 24 24\"\n                stroke=\"currentColor\"\n              >\n                <path d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAUO,SAAS,wBAAwB,EAAE,KAAK,EAAE,SAAS,EAAgC;IACxF,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gOAAQ,EAAC;IAC/C,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,gOAAQ,EAA+B;IAC/E,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gOAAQ,EAAC;IAE/C,IAAA,iOAAS,EAAC;QACR,QAAQ,GAAG,CAAC,iDAAiD;IAC/D,GAAG;QAAC;KAAM;IAEV,eAAe;QACb,eAAe;QACf,gBAAgB;QAEhB,MAAM,SAAS,MAAM,IAAA,mNAAuB,EAAC;QAE7C,IAAI,OAAO,OAAO,EAAE;YAClB,gBAAgB;QAClB,OAAO;YACL,gBAAgB;QAClB;QAEA,eAAe;IACjB;IAEA,SAAS;QACP,eAAe;QACf,IAAI,WAAW;YACb;QACF;IACF;IAEA,IAAI,aAAa;QACf,QAAQ,GAAG,CAAC;QACZ,OAAO;IACT;IAEA,QAAQ,GAAG,CAAC,6CAA6C;IAEzD,qBACE,6PAAC;QAAI,WAAU;kBACb,cAAA,6PAAC;YAAI,WAAU;sBACb,cAAA,6PAAC;gBAAI,WAAU;;kCACb,6PAAC;wBAAI,WAAU;;0CACb,6PAAC;gCAAI,WAAU;0CACb,cAAA,6PAAC;oCACC,WAAU;oCACV,MAAK;oCACL,eAAc;oCACd,gBAAe;oCACf,aAAY;oCACZ,SAAQ;oCACR,QAAO;8CAEP,cAAA,6PAAC;wCAAK,GAAE;;;;;;;;;;;;;;;;0CAGZ,6PAAC;gCAAI,WAAU;;kDACb,6PAAC;wCAAE,WAAU;kDAAqC;;;;;;kDAGlD,6PAAC;wCAAE,WAAU;;4CAAyB;0DACL,6PAAC;0DAAQ;;;;;;4CAAe;;;;;;;;;;;;;;;;;;;kCAM7D,6PAAC;wBAAI,WAAU;;4BACZ,iBAAiB,2BAChB,6PAAC;gCAAE,WAAU;0CAAqC;;;;;;4BAEnD,iBAAiB,yBAChB,6PAAC;gCAAE,WAAU;0CAAmC;;;;;;0CAGlD,6PAAC;gCACC,SAAS;gCACT,UAAU,eAAe,iBAAiB;gCAC1C,WAAU;0CAET,cAAc,eAAe;;;;;;0CAGhC,6PAAC;gCACC,SAAS;gCACT,WAAU;gCACV,cAAW;0CAEX,cAAA,6PAAC;oCACC,WAAU;oCACV,MAAK;oCACL,eAAc;oCACd,gBAAe;oCACf,aAAY;oCACZ,SAAQ;oCACR,QAAO;8CAEP,cAAA,6PAAC;wCAAK,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQxB","debugId":null}},
    {"offset": {"line": 741, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/components/navigation/user-menu.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useRef, useEffect } from 'react'\nimport { useRouter } from 'next/navigation'\nimport { supabase } from '@/lib/db/supabase'\n\ninterface UserMenuProps {\n  userEmail: string | null\n  emailVerified?: boolean\n  currentPath?: string\n}\n\nexport function UserMenu({ userEmail, emailVerified = true, currentPath }: UserMenuProps) {\n  const router = useRouter()\n  const [isOpen, setIsOpen] = useState(false)\n  const menuRef = useRef<HTMLDivElement>(null)\n  const buttonRef = useRef<HTMLButtonElement>(null)\n\n  // Close dropdown when clicking outside\n  useEffect(() => {\n    function handleClickOutside(event: MouseEvent) {\n      if (\n        menuRef.current &&\n        !menuRef.current.contains(event.target as Node) &&\n        buttonRef.current &&\n        !buttonRef.current.contains(event.target as Node)\n      ) {\n        setIsOpen(false)\n      }\n    }\n\n    // Close on Escape key\n    function handleEscape(event: KeyboardEvent) {\n      if (event.key === 'Escape') {\n        setIsOpen(false)\n        buttonRef.current?.focus()\n      }\n    }\n\n    if (isOpen) {\n      document.addEventListener('mousedown', handleClickOutside)\n      document.addEventListener('keydown', handleEscape)\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside)\n        document.removeEventListener('keydown', handleEscape)\n      }\n    }\n  }, [isOpen])\n\n  // Get user initials from email\n  const getUserInitials = (email: string | null): string => {\n    if (!email) return 'U'\n    const parts = email.split('@')[0].split('.')\n    if (parts.length >= 2) {\n      return (parts[0][0] + parts[1][0]).toUpperCase()\n    }\n    return email.slice(0, 2).toUpperCase()\n  }\n\n  const handleSignOut = async () => {\n    await supabase.auth.signOut()\n    router.push('/auth/signin')\n  }\n\n  const handleSettingsClick = () => {\n    setIsOpen(false)\n    router.push('/demo/settings')\n  }\n\n  const initials = getUserInitials(userEmail)\n\n  return (\n    <div className=\"relative\">\n      {/* User Menu Button */}\n      <button\n        ref={buttonRef}\n        onClick={() => setIsOpen(!isOpen)}\n        className=\"flex items-center gap-2 px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2\"\n        aria-expanded={isOpen}\n        aria-haspopup=\"true\"\n      >\n        {/* Avatar Circle */}\n        <div className=\"w-8 h-8 rounded-full bg-blue-600 text-white flex items-center justify-center text-xs font-semibold\">\n          {initials}\n        </div>\n        {/* Dropdown Arrow */}\n        <svg\n          className={`w-4 h-4 transition-transform ${isOpen ? 'rotate-180' : ''}`}\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 9l-7 7-7-7\" />\n        </svg>\n      </button>\n\n      {/* Dropdown Menu */}\n      {isOpen && (\n        <div\n          ref={menuRef}\n          className=\"absolute right-0 mt-2 w-56 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50 animate-in fade-in slide-in-from-top-2 duration-200\"\n          role=\"menu\"\n          aria-orientation=\"vertical\"\n        >\n          {/* User Email Header */}\n          <div className=\"px-4 py-3 border-b border-gray-200\">\n            <div className=\"flex items-center justify-between\">\n              <p className=\"text-sm font-medium text-gray-900 truncate\">{userEmail}</p>\n              {emailVerified && (\n                <span className=\"ml-2 text-green-600\" title=\"Email verified\">\n                  <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path\n                      fillRule=\"evenodd\"\n                      d=\"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z\"\n                      clipRule=\"evenodd\"\n                    />\n                  </svg>\n                </span>\n              )}\n            </div>\n            {!emailVerified && (\n              <p className=\"text-xs text-amber-600 mt-1 flex items-center gap-1\">\n                <svg className=\"w-3 h-3\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                  <path\n                    fillRule=\"evenodd\"\n                    d=\"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z\"\n                    clipRule=\"evenodd\"\n                  />\n                </svg>\n                Not verified\n              </p>\n            )}\n          </div>\n\n          {/* Settings */}\n          <button\n            onClick={handleSettingsClick}\n            className={`w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center gap-3 transition-colors ${\n              currentPath === '/demo/settings' ? 'bg-blue-50 text-blue-700' : ''\n            }`}\n            role=\"menuitem\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z\"\n              />\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\n              />\n            </svg>\n            Settings\n          </button>\n\n          {/* Sign Out */}\n          <button\n            onClick={handleSignOut}\n            className=\"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-3 transition-colors border-t border-gray-200 mt-1 pt-2\"\n            role=\"menuitem\"\n          >\n            <svg className=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1\"\n              />\n            </svg>\n            Sign Out\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":["file:///Users/brockarnold/code/hp2/packages/web/app/demo/layout.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useRouter, usePathname } from 'next/navigation'\nimport { supabase } from '@/lib/db/supabase'\nimport { getUserTeams } from '@/app/actions/teams'\nimport { TeamProvider, useTeam } from '@/lib/contexts/team-context'\nimport { TeamSelector } from '@/components/teams/team-selector'\nimport { EmailVerificationBanner } from '@/components/auth/email-verification-banner'\nimport { UserMenu } from '@/components/navigation/user-menu'\n\ninterface Team {\n  id: string\n  name: string\n  age_group_display: string\n  level: string\n  season: string\n}\n\nfunction DemoLayoutContent({ children }: { children: React.ReactNode }) {\n  const router = useRouter()\n  const pathname = usePathname()\n  const [teams, setTeams] = useState<Team[]>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const [userEmail, setUserEmail] = useState<string | null>(null)\n  const [emailVerified, setEmailVerified] = useState<boolean>(true)\n  const { selectedTeamId, selectTeam } = useTeam()\n\n  useEffect(() => {\n    const loadTeams = async () => {\n      try {\n        // Get current user\n        const {\n          data: { user },\n          error: userError,\n        } = await supabase.auth.getUser()\n\n        if (userError || !user) {\n          console.log('Auth error, clearing session:', userError)\n          await supabase.auth.signOut()\n          setIsLoading(false)\n          return\n        }\n\n        // Get user profile to check custom email_verified field\n        const { data: profile } = await supabase\n          .from('user_profiles')\n          .select('email, email_verified')\n          .eq('id', user.id)\n          .single()\n\n        const email = profile?.email || user.email || null\n        const verified = profile?.email_verified ?? false\n        setUserEmail(email)\n        setEmailVerified(verified)\n\n        console.log('üîç LAYOUT DEBUG:', {\n          email,\n          verified,\n          profileEmailVerified: profile?.email_verified,\n          supabaseEmailConfirmedAt: user.email_confirmed_at,\n          willShowBanner: !verified && !!email,\n        })\n\n        const result = await getUserTeams(user.id)\n\n        if (result.success && result.teams) {\n          setTeams(result.teams)\n        }\n      } catch (err) {\n        console.error('Error loading teams:', err)\n      } finally {\n        setIsLoading(false)\n      }\n    }\n\n    loadTeams()\n  }, [])\n\n  const handleTeamChange = (teamId: string) => {\n    selectTeam(teamId)\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Navigation Bar */}\n      <nav className=\"bg-white border-b border-gray-200 shadow-sm\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            {/* Logo/Brand */}\n            <div className=\"flex items-center\">\n              <button\n                onClick={() => router.push('/demo/teams')}\n                className=\"text-xl font-bold text-gray-900 hover:text-blue-600 transition-colors\"\n              >\n                HockeyPilot\n              </button>\n            </div>\n\n            {/* Team Selector - Always visible */}\n            {!isLoading && (\n              <div className=\"flex-1 max-w-md mx-8\">\n                <TeamSelector\n                  teams={teams}\n                  selectedTeamId={selectedTeamId}\n                  onTeamChange={handleTeamChange}\n                />\n              </div>\n            )}\n\n            {/* Navigation Links */}\n            <div className=\"flex items-center gap-4\">\n              {selectedTeamId && (\n                <>\n                  <button\n                    onClick={() => router.push('/demo/game-tracking')}\n                    className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      pathname === '/demo/game-tracking'\n                        ? 'bg-blue-100 text-blue-700'\n                        : 'text-gray-700 hover:bg-gray-100'\n                    }`}\n                  >\n                    Track Game\n                  </button>\n                  <button\n                    onClick={() => router.push('/demo/analytics')}\n                    className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      pathname === '/demo/analytics'\n                        ? 'bg-blue-100 text-blue-700'\n                        : 'text-gray-700 hover:bg-gray-100'\n                    }`}\n                  >\n                    Analytics\n                  </button>\n                  <button\n                    onClick={() => router.push('/demo/practice-history')}\n                    className={`px-3 py-2 rounded-md text-sm font-medium transition-colors ${\n                      pathname === '/demo/practice-history'\n                        ? 'bg-blue-100 text-blue-700'\n                        : 'text-gray-700 hover:bg-gray-100'\n                    }`}\n                  >\n                    Practices\n                  </button>\n                </>\n              )}\n\n              {/* User Menu Dropdown */}\n              <UserMenu\n                userEmail={userEmail}\n                emailVerified={emailVerified}\n                currentPath={pathname}\n              />\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      {/* Email Verification Banner */}\n      {(() => {\n        const shouldShow = !isLoading && userEmail && !emailVerified\n        console.log('üé® BANNER RENDER CHECK:', {\n          isLoading,\n          userEmail,\n          emailVerified,\n          shouldShow,\n        })\n        return shouldShow ? <EmailVerificationBanner email={userEmail} /> : null\n      })()}\n\n      {/* Main Content */}\n      <main>{children}</main>\n    </div>\n  )\n}\n\nexport default function DemoLayout({\n  children,\n}: {\n  children: React.ReactNode\n}) {\n  return (\n    <TeamProvider>\n      <DemoLayoutContent>{children}</DemoLayoutContent>\n    </TeamProvider>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}